{
    "_initiator": {
        "type": "script",
        "stack": {
            "callFrames": [
                {
                    "functionName": "a",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 59,
                    "columnNumber": 337
                },
                {
                    "functionName": "loadResources",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 170,
                    "columnNumber": 17088
                },
                {
                    "functionName": "",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 255,
                    "columnNumber": 283
                },
                {
                    "functionName": "applyWithGuard",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 69,
                    "columnNumber": 10431
                },
                {
                    "functionName": "c",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 69,
                    "columnNumber": 11165
                },
                {
                    "functionName": "O",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 228,
                    "columnNumber": 2291
                },
                {
                    "functionName": "U",
                    "scriptId": "55",
                    "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3\/yh\/r\/nzRrvRgzNjX.js?_nc_x=Ij3Wp8lg5Kz",
                    "lineNumber": 228,
                    "columnNumber": 2892
                }
            ],
            "parentId": {
                "id": "1954",
                "debuggerId": "-771272715759562662.-2377773656252341762"
            }
        }
    },
    "_priority": "High",
    "_resourceType": "script",
    "cache": [],
    "pageref": "page_6",
    "request": {
        "method": "GET",
        "url": "https:\/\/static.cdninstagram.com\/rsrc.php\/v3iqmI4\/yN\/l\/makehaste_jhash\/y9rgcQzJeqOYulU4y6XRqdSw7oMdoDdWSJAL7mkwaLa1n8ReVJO9Xfpnt_G9qkrKb8OS4XiGf8B3Jd4sN7saKqmmSzy3QSKi4t7hrk_bd7FNuMNatj5gdjC6XssdFr0vcqcMQ62Xw_rrW4XzZDuf9YVpPrbwMDhh4KEW6exjWp1qIOX-Vo18Gmcy7qI6FX6W_V-V5GqrvVt6VukkVuH_1kM1nEvAr7htz8Y5oO626YGk0O-5q-Jr4LbOsxV_b.js?_nc_x=Ij3Wp8lg5Kz",
        "httpVersion": "h3",
        "headers": [
            {
                "name": ":authority",
                "value": "static.cdninstagram.com"
            },
            {
                "name": ":method",
                "value": "GET"
            },
            {
                "name": ":path",
                "value": "\/rsrc.php\/v3iqmI4\/yN\/l\/makehaste_jhash\/y9rgcQzJeqOYulU4y6XRqdSw7oMdoDdWSJAL7mkwaLa1n8ReVJO9Xfpnt_G9qkrKb8OS4XiGf8B3Jd4sN7saKqmmSzy3QSKi4t7hrk_bd7FNuMNatj5gdjC6XssdFr0vcqcMQ62Xw_rrW4XzZDuf9YVpPrbwMDhh4KEW6exjWp1qIOX-Vo18Gmcy7qI6FX6W_V-V5GqrvVt6VukkVuH_1kM1nEvAr7htz8Y5oO626YGk0O-5q-Jr4LbOsxV_b.js?_nc_x=Ij3Wp8lg5Kz"
            },
            {
                "name": ":scheme",
                "value": "https"
            },
            {
                "name": "accept",
                "value": "*\/*"
            },
            {
                "name": "accept-encoding",
                "value": "gzip, deflate, br, zstd"
            },
            {
                "name": "accept-language",
                "value": "en-US,en;q=0.9"
            },
            {
                "name": "origin",
                "value": "https:\/\/www.instagram.com"
            },
            {
                "name": "referer",
                "value": "https:\/\/www.instagram.com\/"
            },
            {
                "name": "sec-ch-ua",
                "value": "\"Google Chrome\";v=\"123\", \"Not:A-Brand\";v=\"8\", \"Chromium\";v=\"123\""
            },
            {
                "name": "sec-ch-ua-mobile",
                "value": "?0"
            },
            {
                "name": "sec-ch-ua-platform",
                "value": "\"Windows\""
            },
            {
                "name": "sec-fetch-dest",
                "value": "script"
            },
            {
                "name": "sec-fetch-mode",
                "value": "cors"
            },
            {
                "name": "sec-fetch-site",
                "value": "cross-site"
            },
            {
                "name": "user-agent",
                "value": "Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/123.0.0.0 Safari\/537.36"
            }
        ],
        "queryString": [
            {
                "name": "_nc_x",
                "value": "Ij3Wp8lg5Kz"
            }
        ],
        "cookies": [],
        "headersSize": -1,
        "bodySize": 0
    },
    "response": {
        "status": 200,
        "statusText": "",
        "httpVersion": "h3",
        "headers": [
            {
                "name": "access-control-allow-origin",
                "value": "https:\/\/www.instagram.com"
            },
            {
                "name": "alt-svc",
                "value": "h3=\":443\"; ma=86400"
            },
            {
                "name": "cache-control",
                "value": "public,max-age=31536000,immutable"
            },
            {
                "name": "content-encoding",
                "value": "zstd"
            },
            {
                "name": "content-length",
                "value": "156291"
            },
            {
                "name": "content-md5",
                "value": "sdp63ggkZXGrGCmkUDCPcw=="
            },
            {
                "name": "content-type",
                "value": "application\/x-javascript; charset=utf-8"
            },
            {
                "name": "cross-origin-resource-policy",
                "value": "cross-origin"
            },
            {
                "name": "date",
                "value": "Fri, 12 Apr 2024 15:26:07 GMT"
            },
            {
                "name": "document-policy",
                "value": "force-load-at-top"
            },
            {
                "name": "expires",
                "value": "Fri, 11 Apr 2025 23:42:31 GMT"
            },
            {
                "name": "last-modified",
                "value": "Mon, 01 Jan 2001 08:00:00 GMT"
            },
            {
                "name": "origin-agent-cluster",
                "value": "?0"
            },
            {
                "name": "permissions-policy",
                "value": "accelerometer=(), attribution-reporting=(), autoplay=(), bluetooth=(), camera=(), ch-device-memory=(), ch-downlink=(), ch-ect=(), ch-rtt=(), ch-save-data=(), ch-ua-arch=(), ch-ua-bitness=(), clipboard-read=(), clipboard-write=(), display-capture=(), encrypted-media=(), fullscreen=(self), gamepad=(), geolocation=(), gyroscope=(), hid=(), idle-detection=(), keyboard-map=(), local-fonts=(), magnetometer=(), microphone=(), midi=(), otp-credentials=(), payment=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), serial=(), usb=(), window-management=(), xr-spatial-tracking=();report-to=\"permissions_policy\""
            },
            {
                "name": "priority",
                "value": "u=1"
            },
            {
                "name": "report-to",
                "value": "{\"max_age\":21600,\"endpoints\":[{\"url\":\"https:\\\/\\\/www.facebook.com\\\/ajax\\\/browser_error_reports\\\/\"}],\"group\":\"permissions_policy\"}"
            },
            {
                "name": "reporting-endpoints",
                "value": "permissions_policy=\"https:\/\/www.facebook.com\/ajax\/browser_error_reports\/\""
            },
            {
                "name": "timing-allow-origin",
                "value": "*"
            },
            {
                "name": "vary",
                "value": "Origin"
            },
            {
                "name": "x-content-type-options",
                "value": "nosniff"
            },
            {
                "name": "x-fb-connection-quality",
                "value": "MODERATE; q=0.3, rtt=176, rtx=1115, c=287, mss=1232, tbw=3861657, tp=3207, tpl=1115, uplat=9, ullat=-1"
            },
            {
                "name": "x-fb-debug",
                "value": "VqJsMNAtdVa3r\/I9pqDydH5932Qvkc7\/gWCLVEk35\/vqrWxG9zDQUyrszFMh2FX2dAYLstWLE7kFkYQfRTWuYw=="
            }
        ],
        "cookies": [],
        "content": {
            "size": 719120,
            "mimeType": "application\/x-javascript",
            "text": ";\/*FB_PKG_DELIM*\/\n\n__d(\"PolarisRelatedProfileQuery_instagramRelayOperation\",[],(function(a,b,c,d,e,f){e.exports=\"25836401489284635\"}),null);\n__d(\"PolarisRelatedProfileQuery.graphql\",[\"PolarisRelatedProfileQuery_instagramRelayOperation\"],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a={defaultValue:3,kind:\"LocalArgument\",name:\"fetch_related_profile_media_count\"},c={defaultValue:null,kind:\"LocalArgument\",name:\"shortcode\"},d=[{kind:\"Variable\",name:\"shortcode\",variableName:\"shortcode\"}],e={alias:null,args:null,kind:\"ScalarField\",name:\"__typename\",storageKey:null},f={alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null},g={alias:null,args:null,kind:\"ScalarField\",name:\"username\",storageKey:null},h={alias:null,args:null,kind:\"ScalarField\",name:\"count\",storageKey:null},i=[h],j={alias:null,args:null,kind:\"ScalarField\",name:\"description\",storageKey:null},k={alias:null,args:null,kind:\"ScalarField\",name:\"title\",storageKey:null},l={alias:null,args:null,concreteType:\"XDTGraphMediaOverlayIconSpec\",kind:\"LinkedField\",name:\"icon\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"icon_glyph\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"icon_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"name\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"src\",storageKey:null}],storageKey:null},m=[{alias:null,args:null,kind:\"ScalarField\",name:\"button_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"text\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"secondary_text\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"action\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"action_url\",storageKey:null},l,{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayTextColorSpec\",kind:\"LinkedField\",name:\"text_color\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"light\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"dark\",storageKey:null}],storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_text_centered\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"has_chevron\",storageKey:null}],n=[{alias:null,args:null,kind:\"ScalarField\",name:\"accessibility_caption\",storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:\"Fragment\",metadata:null,name:\"PolarisRelatedProfileQuery\",selections:[{alias:null,args:d,concreteType:null,kind:\"LinkedField\",name:\"xdt_shortcode_media\",plural:!1,selections:[{args:null,kind:\"FragmentSpread\",name:\"PolarisRelatedProfileQueryFragment\"}],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:[c,a],kind:\"Operation\",name:\"PolarisRelatedProfileQuery\",selections:[{alias:null,args:d,concreteType:null,kind:\"LinkedField\",name:\"xdt_shortcode_media\",plural:!1,selections:[e,{kind:\"TypeDiscriminator\",abstractKey:\"__isXDTGraphMediaInterface\"},{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_related_profiles_connection\",kind:\"LinkedField\",name:\"edge_related_profiles\",plural:!1,selections:[{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_related_profiles\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"XDTGraphUser\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[f,{alias:null,args:null,kind:\"ScalarField\",name:\"full_name\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_private\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_verified\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"profile_pic_url\",storageKey:null},g,{alias:null,args:null,concreteType:\"XDTgraphuser_edge_followed_by_connection\",kind:\"LinkedField\",name:\"edge_followed_by\",plural:!1,selections:i,storageKey:null},{alias:null,args:[{kind:\"Variable\",name:\"first\",variableName:\"fetch_related_profile_media_count\"}],concreteType:\"XDTgraphuser_edge_owner_to_timeline_media_connection\",kind:\"LinkedField\",name:\"edge_owner_to_timeline_media\",plural:!1,selections:[h,{alias:null,args:null,concreteType:\"XDTgraphuser_edge_owner_to_timeline_media\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:\"LinkedField\",name:\"node\",plural:!1,selections:[e,f,{alias:null,args:null,kind:\"ScalarField\",name:\"shortcode\",storageKey:null},{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_media_preview_like_connection\",kind:\"LinkedField\",name:\"edge_media_preview_like\",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_media_preview_comment_connection\",kind:\"LinkedField\",name:\"edge_media_preview_comment\",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"thumbnail_src\",storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphUser\",kind:\"LinkedField\",name:\"owner\",plural:!1,selections:[f,g],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaGatingInfo\",kind:\"LinkedField\",name:\"gating_info\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"buttons\",storageKey:null},j,{alias:null,args:null,kind:\"ScalarField\",name:\"gating_type\",storageKey:null},k,{alias:null,args:null,kind:\"ScalarField\",name:\"center_button\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"post_reveal_cta\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"time_gated\",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaSharingFrictionInfo\",kind:\"LinkedField\",name:\"sharing_friction_info\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"should_have_sharing_friction\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"bloks_app_url\",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayInfo\",kind:\"LinkedField\",name:\"media_overlay_info\",plural:!1,selections:[{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayButtonSpec\",kind:\"LinkedField\",name:\"banner\",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayButtonSpec\",kind:\"LinkedField\",name:\"buttons\",plural:!0,selections:m,storageKey:null},j,l,{alias:null,args:null,kind:\"ScalarField\",name:\"misinformation_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"overlay_layout\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"overlay_type\",storageKey:null},k,{alias:null,args:null,kind:\"ScalarField\",name:\"bloks_data\",storageKey:null}],storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_video\",storageKey:null},{kind:\"InlineFragment\",selections:n,type:\"XDTGraphImage\",abstractKey:null},{kind:\"InlineFragment\",selections:n,type:\"XDTGraphSidecar\",abstractKey:null},{kind:\"InlineFragment\",selections:n,type:\"XDTGraphVideo\",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},f],storageKey:null}]},params:{id:b(\"PolarisRelatedProfileQuery_instagramRelayOperation\"),metadata:{is_distillery:!0},name:\"PolarisRelatedProfileQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"PolarisRelatedProfileQueryFragment.graphql\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a={alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null},b={alias:null,args:null,kind:\"ScalarField\",name:\"username\",storageKey:null},c={alias:null,args:null,kind:\"ScalarField\",name:\"count\",storageKey:null},d=[c],e={alias:null,args:null,kind:\"ScalarField\",name:\"description\",storageKey:null},f={alias:null,args:null,kind:\"ScalarField\",name:\"title\",storageKey:null},g={alias:null,args:null,concreteType:\"XDTGraphMediaOverlayIconSpec\",kind:\"LinkedField\",name:\"icon\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"icon_glyph\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"icon_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"name\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"src\",storageKey:null}],storageKey:null},h=[{alias:null,args:null,kind:\"ScalarField\",name:\"button_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"text\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"secondary_text\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"action\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"action_url\",storageKey:null},g,{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayTextColorSpec\",kind:\"LinkedField\",name:\"text_color\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"light\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"dark\",storageKey:null}],storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_text_centered\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"has_chevron\",storageKey:null}],i=[{alias:null,args:null,kind:\"ScalarField\",name:\"accessibility_caption\",storageKey:null}];return{argumentDefinitions:[{kind:\"RootArgument\",name:\"fetch_related_profile_media_count\"}],kind:\"Fragment\",metadata:null,name:\"PolarisRelatedProfileQueryFragment\",selections:[{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_related_profiles_connection\",kind:\"LinkedField\",name:\"edge_related_profiles\",plural:!1,selections:[{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_related_profiles\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"XDTGraphUser\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[a,{alias:null,args:null,kind:\"ScalarField\",name:\"full_name\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_private\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_verified\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"profile_pic_url\",storageKey:null},b,{alias:null,args:null,concreteType:\"XDTgraphuser_edge_followed_by_connection\",kind:\"LinkedField\",name:\"edge_followed_by\",plural:!1,selections:d,storageKey:null},{alias:null,args:[{kind:\"Variable\",name:\"first\",variableName:\"fetch_related_profile_media_count\"}],concreteType:\"XDTgraphuser_edge_owner_to_timeline_media_connection\",kind:\"LinkedField\",name:\"edge_owner_to_timeline_media\",plural:!1,selections:[c,{alias:null,args:null,concreteType:\"XDTgraphuser_edge_owner_to_timeline_media\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:\"LinkedField\",name:\"node\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"__typename\",storageKey:null},a,{alias:null,args:null,kind:\"ScalarField\",name:\"shortcode\",storageKey:null},{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_media_preview_like_connection\",kind:\"LinkedField\",name:\"edge_media_preview_like\",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:\"XDTgraphmediainterface_edge_media_preview_comment_connection\",kind:\"LinkedField\",name:\"edge_media_preview_comment\",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"thumbnail_src\",storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphUser\",kind:\"LinkedField\",name:\"owner\",plural:!1,selections:[a,b],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaGatingInfo\",kind:\"LinkedField\",name:\"gating_info\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"buttons\",storageKey:null},e,{alias:null,args:null,kind:\"ScalarField\",name:\"gating_type\",storageKey:null},f,{alias:null,args:null,kind:\"ScalarField\",name:\"center_button\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"post_reveal_cta\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"time_gated\",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaSharingFrictionInfo\",kind:\"LinkedField\",name:\"sharing_friction_info\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"should_have_sharing_friction\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"bloks_app_url\",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayInfo\",kind:\"LinkedField\",name:\"media_overlay_info\",plural:!1,selections:[{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayButtonSpec\",kind:\"LinkedField\",name:\"banner\",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:\"XDTGraphMediaOverlayButtonSpec\",kind:\"LinkedField\",name:\"buttons\",plural:!0,selections:h,storageKey:null},e,g,{alias:null,args:null,kind:\"ScalarField\",name:\"misinformation_type\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"overlay_layout\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"overlay_type\",storageKey:null},f,{alias:null,args:null,kind:\"ScalarField\",name:\"bloks_data\",storageKey:null}],storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_video\",storageKey:null},{kind:\"InlineFragment\",selections:i,type:\"XDTGraphImage\",abstractKey:null},{kind:\"InlineFragment\",selections:i,type:\"XDTGraphSidecar\",abstractKey:null},{kind:\"InlineFragment\",selections:i,type:\"XDTGraphVideo\",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:\"XDTGraphMediaInterface\",abstractKey:\"__isXDTGraphMediaInterface\"}}();e.exports=a}),null);\n__d(\"PolarisDiscoverChainingActionConstants\",[],(function(a,b,c,d,e,f){\"use strict\";a=12;b=\"DISCOVER_CHAINING\";f.PAGE_SIZE=a;f.DISCOVER_CHAINING_VIEW=b}),66);\n__d(\"PolarisPostLoadingShimmer.react\",[\"cx\",\"PolarisIGTheme.react\",\"PolarisUA\",\"react\",\"vc-tracker\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function a(a){var b=j(19),e=a.denserPost;a=a.inFeed;var f=d(\"PolarisIGTheme.react\").useTheme(),g=a===!0&&d(\"PolarisUA\").isDesktop();a=a===!0&&!g;e=e===!0&&!g;var h;b[0]!==a||b[1]!==e?(h=\"_aa25\"+(a?\" _ae-j\":\"\")+(e?\" _ae-k\":\"\"),b[0]=a,b[1]=e,b[2]=h):h=b[2];a=!g;b[3]!==a?(e=\"_aa26\"+(a?\" _ajr6\":\"\"),b[3]=a,b[4]=e):e=b[4];a=\"_aa27\"+(g?\" _ajr7\":\"\");var i;b[5]!==a?(i=k.jsx(\"div\",{className:a}),b[5]=a,b[6]=i):i=b[6];b[7]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=\"_aa28\",b[7]=a):a=b[7];var l;b[8]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(l=k.jsx(\"div\",{className:\"_aa29\"}),b[8]=l):l=b[8];b[9]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=k.jsxs(\"div\",{className:a,children:[l,k.jsx(\"div\",{className:\"_aa2a\"})]}),b[9]=a):a=b[9];b[10]!==e||b[11]!==i?(l=k.jsxs(\"div\",{className:e,children:[i,a]}),b[10]=e,b[11]=i,b[12]=l):l=b[12];a=\"_aa2b\"+(f.getTheme()===d(\"PolarisIGTheme.react\").IGTheme.Dark?\" _aa2c\":\"\")+(g?\" _ajr8\":\"\");b[13]!==a?(e=k.jsx(\"div\",{className:a}),b[13]=a,b[14]=e):e=b[14];b[15]!==h||b[16]!==l||b[17]!==e?(i=k.jsxs(\"div\",babelHelpers[\"extends\"]({},c(\"vc-tracker\").VisualCompletionAttributes.LOADING_STATE,{className:h,children:[l,e]})),b[15]=h,b[16]=l,b[17]=e,b[18]=i):i=b[18];return i}g[\"default\"]=a}),98);\n__d(\"PolarisSponsoredPost.react\",[\"PolarisErrorBoundary.react\",\"PolarisFeedPageConstants\",\"PolarisLogger\",\"PolarisPost.react\",\"PolarisReactRedux.react\",\"PolarisSponsoredPostContext.react\",\"PolarisTrackingCodeProvider.react\",\"PolarisViewpointActionUtils\",\"PolarisViewpointReact.react\",\"err\",\"polarisAdsSelectors.react\",\"polarisFeedSelectors\",\"polarisPostSelectors\",\"polarisRelationshipSelectors.react\",\"qex\",\"react\",\"usePolarisSelector\",\"usePolarisSponsoredPostHasImageAsCta\",\"usePolarisSponsoredPostHasPersistentCta\",\"usePolarisSponsoredPostImpressionRefs\",\"usePolarisSponsoredPostProfileClickLogger\",\"usePolarisSponsoredPostRenderedLogging\",\"usePolarisSponsoredPostViewpointActions\",\"usePolarisViewer\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useContext,k=b.useEffect,l=b.unstable_useMemoCache,m=c(\"qex\")._(\"1002\");function n(a){var b=l(23),e=j(d(\"PolarisViewpointReact.react\").ViewpointContext),f=j(d(\"PolarisSponsoredPostContext.react\").PolarisSponsoredPostContext),g=f.updateSponsoredPostContext;f=a.analyticsContext;var h=a.id,n;b[0]!==h?(n=function(a){return d(\"polarisPostSelectors\").getPostById(a,h)},b[0]=h,b[1]=n):n=b[1];var o=d(\"PolarisReactRedux.react\").useSelector(n);n=(n=c(\"usePolarisViewer\")())==null?void 0:n.id;var p=d(\"PolarisReactRedux.react\").useSelector(function(a){return d(\"polarisRelationshipSelectors.react\").getRelationship(a.relationships,(a=(a=o.owner)==null?void 0:a.id)!=null?a:\"\")}),q;b[2]!==a.position?(q=function(b){return d(\"polarisFeedSelectors\").getGapToLastAd(b,a.position)},b[2]=a.position,b[3]=q):q=b[3];q=c(\"usePolarisSelector\")(q);var r;b[4]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(r=function(a){return a},b[4]=r):r=b[4];r=d(\"polarisAdsSelectors.react\").useFeedAdInfo(o==null?void 0:o.id,r);var s=r==null?void 0:r.ad_id,t=r==null?void 0:r.tracking_token,u=d(\"usePolarisSponsoredPostHasImageAsCta\").usePolarisSponsoredPostHasImageAsCta(o),v=d(\"usePolarisSponsoredPostHasPersistentCta\").usePolarisSponsoredPostHasPersistentCta(o),w=c(\"usePolarisSponsoredPostProfileClickLogger\")(h,f,s,t,p),x=f===d(\"PolarisFeedPageConstants\").FEED_PAGE_ANALYTICS_CONTEXT||f===\"pastPostsFeedPage\",y=f===d(\"PolarisFeedPageConstants\").FEED_PAGE_MODAL_ANALYTICS_CONTEXT,z=x||y;if(x){if(s==null)throw c(\"err\")(\"Unexpected: a feed ad is being rendered without an ad id.\");if(t==null)throw c(\"err\")(\"Unexpected: a feed ad (\"+s+\")is being rendered without an ad tracking token.\")}var A;b[5]!==g||b[6]!==v||b[7]!==z||b[8]!==w||b[9]!==u?(y=function(){g({canUserSeePersistentCta:v,onProfileClick:z?w:function(){},singleImageAdAsCta:u})},A=[v,u,g,w,z],b[5]=g,b[6]=v,b[7]=z,b[8]=w,b[9]=u,b[10]=y,b[11]=A):(y=b[10],A=b[11]);k(y,A);A=String((y=a.position)!=null?y:null);y=q!=null?String(q):void 0;c(\"usePolarisSponsoredPostRenderedLogging\")(h,f);q=c(\"usePolarisSponsoredPostViewpointActions\")(o,f,s,t,n,p,e==null?void 0:e.getViewport().height,m===!0,A,y);f=c(\"usePolarisSponsoredPostImpressionRefs\")(h);b[12]!==x||b[13]!==q?(s=x?q:[],b[12]=x,b[13]=q,b[14]=s):s=b[14];b[15]!==a||b[16]!==f||b[17]!==s?(t=i.jsx(c(\"PolarisPost.react\"),babelHelpers[\"extends\"]({},a,{adImpressionRefs:f,isSponsored:!0,viewpointActionsForSponsoredPost:s})),b[15]=a,b[16]=f,b[17]=s,b[18]=t):t=b[18];n=t;if(!z)return n;e=(p=d(\"PolarisViewpointActionUtils\").getMPKForFeedMedia(o))!=null?p:\"\";y=(A=r==null?void 0:r.tracking_token)!=null?A:\"\";b[19]!==e||b[20]!==y||b[21]!==n?(x=i.jsx(c(\"PolarisTrackingCodeProvider.react\"),{isSponsored:!0,m_pk:e,trackingToken:y,children:n}),b[19]=e,b[20]=y,b[21]=n,b[22]=x):x=b[22];return x}function o(){d(\"PolarisLogger\").logAction(\"feedUnitFailure\",{source:\"PolarisSponsoredPost\"})}function a(a){var b=l(3),e;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=function(a){return null},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c(\"PolarisErrorBoundary.react\"),{errorRenderer:e,onError:o,children:i.jsx(d(\"PolarisSponsoredPostContext.react\").PolarisSponsoredPostContextProvider,{children:i.jsx(n,babelHelpers[\"extends\"]({},a))})}),b[1]=a,b[2]=e):e=b[2];return e}g[\"default\"]=a}),98);\n__d(\"PolarisVirtualFeed.react\",[\"CometPlaceholder.react\",\"JSResourceForInteraction\",\"PolarisEndOfFeedDemarcator.react\",\"PolarisErrorBoundary.react\",\"PolarisFeedState\",\"PolarisGenericVirtualFeed.react\",\"PolarisIsLoggedInDesktop\",\"PolarisLogger\",\"PolarisMorePostsLikeThisHeader.react\",\"PolarisPost.react\",\"PolarisPostHiddenUnit.react\",\"PolarisPostVariants\",\"PolarisSponsoredPost.react\",\"cr:483\",\"lazyLoadComponent\",\"polarisUnexpected\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||d(\"react\"),j=c(\"lazyLoadComponent\")(c(\"JSResourceForInteraction\")(\"PolarisSuggestedUserFeedUnit.react\").__setRef(\"PolarisVirtualFeed.react\"));function k(){d(\"PolarisLogger\").logAction(\"feedUnitFailure\",{source:\"PolarisVirtualFeed\"})}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,h=new Array(g),l=0;l<g;l++)h[l]=arguments[l];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$1=i.createRef(),f.$2=function(a){var e=a.index,g=a.isVisible;a=a.visibleIndex;var h=f.props,l=h.adItemsIds,m=h.analyticsContext,n=h.hiddenItemIds,o=h.itemClassName,p=h.items;h=h.morePostsLikeThisHeaderIndex;var q=p[e];if(q==null){c(\"polarisUnexpected\")(\"no item at index=\"+e+\", size=\"+p.length);return null}switch(q.type){case\"GraphImage\":case\"GraphVideo\":case\"GraphSidecar\":if(n==null?void 0:n.includes(q.postId))return i.jsx(c(\"PolarisPostHiddenUnit.react\"),{id:q.postId},q.postId);else{if(l&&l.has(q.postId))return i.jsx(c(\"PolarisSponsoredPost.react\"),{analyticsContext:m,autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),className:o,id:q.postId,isVisible:g,position:e,variant:d(\"PolarisPostVariants\").VARIANTS.feed,visiblePosition:a},q.postId);p=i.jsx(c(\"PolarisPost.react\"),{analyticsContext:m,autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),className:o,id:q.postId,isVisible:g,position:e,variant:d(\"PolarisPostVariants\").VARIANTS.feed,visiblePosition:a},q.postId);return h!=null&&h===e?i.jsxs(\"div\",{children:[p,i.jsx(c(\"PolarisMorePostsLikeThisHeader.react\"),{})]},q.postId):p}case\"GraphSuggestedUserFeedUnit\":return i.jsx(c(\"PolarisErrorBoundary.react\"),{onError:k,children:i.jsx(c(\"CometPlaceholder.react\"),{fallback:null,children:i.jsx(j,{aysfUserIds:q==null?void 0:(n=q.userIds)==null?void 0:n.toArray(),className:o,position:e,trackingToken:q.trackingInfo.token,type:q.trackingInfo.type,variant:f.props.variant})})},e);case d(\"PolarisFeedState\").END_OF_FEED_DEMARCATOR_TYPE:return i.jsx(c(\"PolarisEndOfFeedDemarcator.react\"),{className:o,showPastPostsLink:q.showPastPostsLink,subtitle:q.subtitle,title:q.title},q.id);case\"bloks_netego\":return b(\"cr:483\")==null?null:i.jsx(b(\"cr:483\"),{gapToPreviousAd:null,gapToPreviousNetego:null,id:q.id,netegoType:q.netego_type,payload:q.payload,position:e,trackingToken:q.tracking_token},q.id);default:c(\"polarisUnexpected\")(\"unexpected feed item type: \"+q.type);return null}},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.scrollToNextFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToNextFeedItem()};f.scrollToPreviousFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToPreviousFeedItem()};f.render=function(){var a=this.props.prefetchNextPageThreshold;return i.jsx(c(\"PolarisGenericVirtualFeed.react\"),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,initialRenderCount:this.props.initialRenderCount,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,overscanCount:this.props.overscanCount,overscanCountBeforeScroll:this.props.overscanCountBeforeScroll,prefetchNextPageThreshold:a,prefetchUsingItemDistance:!1,ref:this.$1,renderFeedItem:this.$2,visibleCount:this.props.visibleCount})};return e}(i.PureComponent);g[\"default\"]=a}),98);\n__d(\"PolarisMediaChainingPage.react\",[\"cx\",\"PolarisDiscoverChainingActionConstants\",\"PolarisExploreStrings\",\"PolarisFooterVariants\",\"PolarisGenericMobileHeader.react\",\"PolarisMediaChainingPageConstants\",\"PolarisMediaPrefetchContainer.react\",\"PolarisNavBackButton.react\",\"PolarisPageMetadata.react\",\"PolarisPostLoadingShimmer.react\",\"PolarisPostVariants\",\"PolarisShell.react\",\"PolarisSizing\",\"PolarisUA\",\"PolarisVirtualFeed.react\",\"hero-tracing-placeholder\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||d(\"react\");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onFetchNext(c.$1)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.onFetchFirstLoad()};e.$2=function(){return this.props.items.length===0?\"emptyMediaChainingPage\":\"discoverMediaChainingPage\"};e.$3=function(){var a=this.props.items.map(function(a){return a.postId});return j.jsx(c(\"PolarisMediaPrefetchContainer.react\"),{postIds:a,viewKey:d(\"PolarisDiscoverChainingActionConstants\").DISCOVER_CHAINING_VIEW})};e.$4=function(){return!this.props.items.length?j.jsx(c(\"PolarisPostLoadingShimmer.react\"),{inFeed:!0}):j.jsx(c(\"PolarisVirtualFeed.react\"),{analyticsContext:d(\"PolarisMediaChainingPageConstants\").MEDIA_CHAINING_ANALYTICS_CONTEXT,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:\"_aa08\",items:this.props.items,morePostsLikeThisHeaderIndex:0,onNextPage:this.$1,variant:this.props.viewportWidth>=d(\"PolarisSizing\").SITE_WIDTHS.narrow?d(\"PolarisPostVariants\").VARIANTS.wide:d(\"PolarisPostVariants\").VARIANTS.narrow,visibleCount:this.props.visibleCount})};e.$5=function(){return j.jsxs(j.Fragment,{children:[this.$4(),this.$3()]})};e.render=function(){var a=this.$2();return j.jsxs(c(\"PolarisShell.react\"),{footerVariant:d(\"PolarisUA\").isMobile()?c(\"PolarisFooterVariants\").slim:c(\"PolarisFooterVariants\").centered,mobileHeader:j.jsx(c(\"PolarisGenericMobileHeader.react\"),{leftActions:j.jsx(c(\"PolarisNavBackButton.react\"),{analyticsContext:a}),title:d(\"PolarisExploreStrings\").EXPLORE_TEXT}),pageIdentifier:a,children:[j.jsx(c(\"PolarisPageMetadata.react\"),{id:a}),j.jsx(\"section\",{className:\"_aa09 _aa0a\",children:this.$5()}),j.jsx(d(\"hero-tracing-placeholder\").HeroHoldTrigger,{description:\"MediaChainingPage\",hold:this.props.isFetching})]})};return b}(j.Component);g[\"default\"]=a}),98);\n__d(\"PolarisDiscoverChainingActions\",[\"PolarisDiscoverChainingActionConstants\",\"PolarisDiscoverLogger\",\"PolarisGenericStrings\",\"PolarisLegacyGraphQLPaginationUtils\",\"PolarisLogger\",\"PolarisPaginationUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";e=\"7477189605648670\";function h(a){return{actionHandler:a,actionText:d(\"PolarisGenericStrings\").RETRY_TEXT,text:d(\"PolarisGenericStrings\").FAILED_TO_LOAD_TEXT}}var i=d(\"PolarisLegacyGraphQLPaginationUtils\").generatePaginationActionCreators({getState:function(a){return a.discoverChaining.pagination},onError:function(a,b,c,e){d(\"PolarisLogger\").logAction(\"discoverPostsLoadFailed\");d(\"PolarisDiscoverLogger\").logDiscoverPostLoadFailure(a);return{fetch:b,toast:e?h(e):void 0,type:\"DISCOVER_CHAINING_POSTS_LOAD_FAILED\"}},onUpdate:function(a,b,c){a.type!==d(\"PolarisPaginationUtils\").FETCH_NOOP&&d(\"PolarisLogger\").logAction(\"discoverPostsLoaded\");b=b==null?void 0:(c=b.user)==null?void 0:c.edge_web_media_chaining;return{fetch:a,pageInfo:b==null?void 0:b.page_info,posts:((b==null?void 0:b.edges)||[]).map(function(a){return a==null?void 0:a.node}),type:\"DISCOVER_CHAINING_POSTS_LOADED\"}},pageSize:d(\"PolarisDiscoverChainingActionConstants\").PAGE_SIZE,pagesToPreload:0,queryId:e,queryParams:function(a){return{media_id:a,surface:\"WEB_EXPLORE_MEDIA_GRID\"}}});f=i;function a(a){d(\"PolarisLogger\").logAction(\"discoverFirstLoadAttempt\");return function(b,c){var d=c().discoverChaining.orderedPosts[0];d&&d.postId!==a&&b({type:\"DISCOVER_CHAINING_REFRESH\"});i.first(a)(b,c)}}function b(a,b){d(\"PolarisLogger\").logAction(\"discoverNextLoadAttempt\");return i.next(a,b)}function c(){return{type:\"DISCOVER_CHAINING_REFRESH\"}}g._actionCreators=f;g.requestDiscoverChainingPosts=a;g.requestNextDiscoverChainingPosts=b;g.refreshDiscoverChaining=c}),98);\n__d(\"PolarisMediaChainingPageContainer.react\",[\"PolarisDiscoverChainingActions\",\"PolarisMediaChainingPage.react\",\"PolarisPaginationUtils\",\"PolarisReactRedux.react\",\"polarisPostSelectors\",\"react\",\"usePolarisDisplayProperties\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;h||(h=d(\"react\"));f=h;f.useMemo;var i=f.unstable_useMemoCache;function a(a,b){var c=a.discoverChaining,e=c.orderedPosts;c=c.pagination;var f=e,g=d(\"PolarisPaginationUtils\").getVisibleCount(c),h=!!d(\"PolarisPaginationUtils\").hasNextPage(c);d(\"polarisPostSelectors\").getPostOrNullById(a,b.mediaId)!=null&&(e.length===0?(f=[{postId:b.mediaId,type:b.mediaType}],g=1,h=!0):f.find(function(a){return a.postId===b.mediaId})||(f=[{postId:b.mediaId,type:b.mediaType}].concat(f),g++));return{hasNextPage:h,isFetching:d(\"PolarisPaginationUtils\").isFetching(c),items:f,visibleCount:g}}function b(a,b){return{onFetchFirstLoad:function(){a(d(\"PolarisDiscoverChainingActions\").requestDiscoverChainingPosts(b.mediaId))},onFetchNext:function(c){a(d(\"PolarisDiscoverChainingActions\").requestNextDiscoverChainingPosts(b.mediaId,c))}}}function e(){var a=i(2),b=c(\"usePolarisDisplayProperties\")();b=b.viewportWidth;var d;a[0]!==b?(d={viewportWidth:b},a[0]=b,a[1]=d):d=a[1];b=d;return b}f=d(\"PolarisReactRedux.react\").connect(a,b)(c(\"PolarisMediaChainingPage.react\"));a=d(\"PolarisReactRedux.react\").connectHooks(e)(f);g[\"default\"]=a}),98);\n__d(\"PolarisKeywordSearchExploreChainedPost.react\",[\"PolarisIsLoggedInDesktop\",\"PolarisPost.react\",\"PolarisPostActionLoadPost\",\"PolarisPostLoadingShimmer.react\",\"PolarisPostVariants\",\"PolarisReactRedux.react\",\"polarisPostSelectors\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b=k(18),e=a.analyticsContext,f=a.index,g=a.isVisible,h=a.postCode,l=a.postId;a=a.visibleIndex;var m=d(\"PolarisReactRedux.react\").useDispatch(),n;b[0]!==l?(n=function(a){return d(\"polarisPostSelectors\").getPostById(a,l)},b[0]=l,b[1]=n):n=b[1];n=d(\"PolarisReactRedux.react\").useSelector(n);var o=n!=null;b[2]!==h?(n=function(a){return d(\"polarisPostSelectors\").getIsPostFetching(a,h)},b[2]=h,b[3]=n):n=b[3];var p=d(\"PolarisReactRedux.react\").useSelector(n),q;b[4]!==o||b[5]!==p||b[6]!==m||b[7]!==h||b[8]!==l?(n=function(){o||(p||m(d(\"PolarisPostActionLoadPost\").loadPost(h,l)))},q=[o,h,m,p,l],b[4]=o,b[5]=p,b[6]=m,b[7]=h,b[8]=l,b[9]=n,b[10]=q):(n=b[9],q=b[10]);j(n,q);b[11]!==o||b[12]!==e||b[13]!==l||b[14]!==g||b[15]!==f||b[16]!==a?(n=o?i.jsx(c(\"PolarisPost.react\"),{analyticsContext:e,autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),id:l,isVisible:g,position:f,variant:d(\"PolarisPostVariants\").VARIANTS.feed,visiblePosition:a},l):i.jsx(c(\"PolarisPostLoadingShimmer.react\"),{}),b[11]=o,b[12]=e,b[13]=l,b[14]=g,b[15]=f,b[16]=a,b[17]=n):n=b[17];return n}g[\"default\"]=a}),98);\n__d(\"PolarisKeywordSearchExploreHooks.react\",[\"PolarisDynamicExploreActions\",\"PolarisDynamicExploreTypes\",\"PolarisReactRedux.react\",\"polarisDynamicExploreSelectors\",\"react\",\"usePolarisSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||d(\"react\")).unstable_useMemoCache;function a(a){var b=i(5),e=d(\"PolarisReactRedux.react\").useDispatch(),f;b[0]!==a?(f=function(b){return d(\"polarisDynamicExploreSelectors\").getSupportedSectionalItems(b,d(\"PolarisDynamicExploreTypes\").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},b[0]=a,b[1]=f):f=b[1];var g=c(\"usePolarisSelector\")(f);f=function b(){g.length===0&&e(d(\"PolarisDynamicExploreActions\").requestKeywordExploreGrid({keyword:a,retryHandler:b}))};f=f;var h;b[2]!==g||b[3]!==f?(h=[g,f],b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}function b(a){var b=i(5),e=d(\"PolarisReactRedux.react\").useDispatch(),f;b[0]!==a?(f=function(b){return(b=b.dynamicExplore.keywordExploreGrid[a])==null?void 0:b.pagination},b[0]=a,b[1]=f):f=b[1];var g=c(\"usePolarisSelector\")(f);f=function b(){e(d(\"PolarisDynamicExploreActions\").requestKeywordExploreGrid({cursor:g==null?void 0:g.cursor,keyword:a,rankToken:g==null?void 0:g.rankToken,retryHandler:b}))};f=f;var h;b[2]!==g||b[3]!==f?(h=[g,f],b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}function e(a){var b=i(2),e;b[0]!==a?(e=function(b){return d(\"polarisDynamicExploreSelectors\").getGridItems(b,d(\"PolarisDynamicExploreTypes\").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},b[0]=a,b[1]=e):e=b[1];return c(\"usePolarisSelector\")(e)}g.useKeywordExploreSectionalItems=a;g.useKeywordExplorePagination=b;g.useKeywordExploreGridItems=e}),98);\n__d(\"PolarisKeywordSearchExploreChainingPage.react\",[\"PolarisDynamicExploreMediaHelpers\",\"PolarisGenericMobileHeader.react\",\"PolarisGenericVirtualFeed.react\",\"PolarisKeywordSearchExploreChainedPost.react\",\"PolarisKeywordSearchExploreHooks.react\",\"PolarisNavBackButton.react\",\"PolarisPageMetadata.react\",\"PolarisReactRedux.react\",\"PolarisShell.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function l(a){return a.map(function(a){return{postCode:d(\"PolarisDynamicExploreMediaHelpers\").getPostCode(a),postId:d(\"PolarisDynamicExploreMediaHelpers\").getPostId(a)}})}function a(a){var b,e=k(21),f=a.keyword,g=a.mediaPostCode;a=d(\"PolarisReactRedux.react\").useDispatch();var h=d(\"PolarisKeywordSearchExploreHooks.react\").useKeywordExploreSectionalItems(f);h[0];h=h[1];var m;e[0]!==a||e[1]!==f?(m=[a,f],e[0]=a,e[1]=f,e[2]=m):m=e[2];j(h,m);a=d(\"PolarisKeywordSearchExploreHooks.react\").useKeywordExploreGridItems(f);var n;n=l(a);if(n.length>0){e[3]!==g?(h=function(a){return a.postCode===g},e[3]=g,e[4]=h):h=e[4];m=n.findIndex(h);n=n.slice(m,n.length)}a=d(\"PolarisKeywordSearchExploreHooks.react\").useKeywordExplorePagination(f);h=a[0];m=a[1];a=n;var o;e[5]!==a?(o=function(a){var b=a.index,d=a.isVisible;a=a.visibleIndex;var e=n[b];return i.jsx(c(\"PolarisKeywordSearchExploreChainedPost.react\"),{analyticsContext:\"KeywordSearchExploreChainingPage\",index:b,isVisible:d,postCode:e.postCode,postId:e.postId,visibleIndex:a},e.postId)},e[5]=a,e[6]=o):o=e[6];a=o;e[7]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=i.jsx(c(\"PolarisNavBackButton.react\"),{analyticsContext:\"KeywordSearchExploreChainingPage\"}),e[7]=o):o=e[7];e[8]!==f?(o=i.jsx(c(\"PolarisGenericMobileHeader.react\"),{leftActions:o,title:f}),e[8]=f,e[9]=o):o=e[9];e[10]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=i.jsx(c(\"PolarisPageMetadata.react\"),{id:\"KeywordSearchExploreChainingPage\"}),e[10]=f):f=e[10];b=(b=h==null?void 0:h.moreAvailable)!=null?b:!1;h=(h=h==null?void 0:h.isLoading)!=null?h:!1;var p=n,q=n,r;e[11]!==b||e[12]!==h||e[13]!==p||e[14]!==m||e[15]!==a||e[16]!==q.length?(r=i.jsx(c(\"PolarisGenericVirtualFeed.react\"),{allowSampledScrollLogging:!0,analyticsContext:\"KeywordSearchExploreChainingPage\",enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:b,isFetching:h,items:p,onNextPage:m,renderFeedItem:a,visibleCount:q.length}),e[11]=b,e[12]=h,e[13]=p,e[14]=m,e[15]=a,e[16]=q.length,e[17]=r):r=e[17];e[18]!==o||e[19]!==r?(b=i.jsxs(c(\"PolarisShell.react\"),{mobileHeader:o,pageIdentifier:\"KeywordSearchExploreChainingPage\",children:[f,r]}),e[18]=o,e[19]=r,e[20]=b):b=e[20];return b}g[\"default\"]=a}),98);\n__d(\"PolarisLoggedOutGenericUnitTopicCardOverlay.react\",[\"IGDSBox.react\",\"IGDSText.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k={bottomBorderRadius:{borderTopStartRadius:\"xhk9q7s\",borderTopEndRadius:\"x1otrzb0\",borderBottomEndRadius:\"x1i1ezom\",borderBottomStartRadius:\"x1o6z2jb\",$$css:!0},content:{paddingTop:\"x889kno\",paddingEnd:\"x1iji9kk\",paddingBottom:\"x1a8lsjc\",paddingStart:\"x1sln4lm\",$$css:!0},root:{backgroundImage:\"xf0f1f2\",bottom:\"x1ey2m1c\",end:\"xds687c\",left:null,right:null,pointerEvents:\"x47corl\",position:\"x10l6tqk\",start:\"x17qophe\",top:\"x13vifvy\",zIndex:\"x1vjfegm\",$$css:!0}};function a(a){var b=i(7),d=a.overlayName;a=a.shouldHaveBottomBorderRadius;a=a===void 0?!1:a;a=a&&k.bottomBorderRadius;var e;b[0]!==a?(e=[k.root,a],b[0]=a,b[1]=e):e=b[1];b[2]!==d?(a=j.jsx(c(\"IGDSBox.react\"),{alignItems:\"center\",bottom:!0,direction:\"row\",position:\"absolute\",width:\"100%\",xstyle:k.content,children:j.jsx(c(\"IGDSText.react\").Body2Emphasized,{color:\"webAlwaysWhite\",elementType:\"h3\",maxLines:1,children:d})}),b[2]=d,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(d=j.jsx(c(\"IGDSBox.react\"),{xstyle:e,children:a}),b[4]=e,b[5]=a,b[6]=d):d=b[6];return d}g[\"default\"]=a}),98);\n__d(\"PolarisPostActionLoadPostPageExtras\",[\"PolarisAPIQuery\",\"asyncToGeneratorRuntime\",\"polarisPostSelectors\",\"polarisUnexpected\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=\"17867389474812335\";function a(a,e){return function(){var f=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(b,f){try{f=f();f=d(\"polarisPostSelectors\").getPostById(f,a);f=(yield d(\"PolarisAPIQuery\").query(h,{include_logged_out:e.fetchLoggedOutExtras,include_reel:e.fetchReel,shortcode:f.code}));f=f.data;b({reel:f==null?void 0:(b=f.shortcode_media)==null?void 0:(b=b.owner)==null?void 0:b.reel,type:\"POST_PAGE_EXTRAS_LOADED\",updatedUser:f==null?void 0:(b=f.shortcode_media)==null?void 0:b.owner});return}catch(a){c(\"polarisUnexpected\")(a)}});return function(a,b){return f.apply(this,arguments)}}()}g.loadPostPageExtras=a}),98);\n__d(\"PolarisRelatedProfileQuery\",[\"PolarisRelatedProfileQuery.graphql\",\"PolarisRelatedProfileQueryFragment.graphql\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;a=h!==void 0?h:h=b(\"PolarisRelatedProfileQueryFragment.graphql\");c=i!==void 0?i:i=b(\"PolarisRelatedProfileQuery.graphql\");g.EDGE_RELATED_PROFILE_FRAGMENT=a;g.EDGE_RELATED_PROFILES_QUERY=c}),98);\n__d(\"PolarisTrendingContentActions\",[\"PolarisInstapi\",\"PolarisMonitorErrors\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){return function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){try{var b=(yield d(\"PolarisInstapi\").apiGet(\"\/api\/v1\/lox\/hashtag_recommendations\/\"));if(b.data.trending_hashtags!=null){b=[].concat(b.data.trending_hashtags);a({trendingHashtags:b,type:\"TRENDING_HASHTAGS_LOADED\"})}}catch(a){d(\"PolarisMonitorErrors\").logError(a)}});return function(b){return a.apply(this,arguments)}}()}function c(){return function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){try{var b=(yield d(\"PolarisInstapi\").apiGet(\"\/api\/v1\/lox\/audio_recommendations\/\"));if(b.data.trending_audios!=null){b=[].concat(b.data.trending_audios);a({trendingAudio:b,type:\"TRENDING_AUDIO_LOADED\"})}}catch(a){d(\"PolarisMonitorErrors\").logError(a)}});return function(b){return a.apply(this,arguments)}}()}g.requestTrendingHashtags=a;g.requestTrendingAudio=c}),98);\n__d(\"PolarisLoggedOutAudioUnit.react\",[\"fbt\",\"IGDSArrowUpRightPanoFilledIcon.react\",\"IGDSBox.react\",\"IGDSText.react\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i,l=h._(\"__JHASH__5XXSccQ-wTC__JHASH__\");function a(){var a=j(2),b;a[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=k.jsx(c(\"IGDSBox.react\"),{marginEnd:2,children:k.jsx(c(\"IGDSArrowUpRightPanoFilledIcon.react\"),{alt:l,color:\"ig-primary-icon\",shadow:!1,size:18})}),a[0]=b):b=a[0];a[1]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=k.jsx(c(\"IGDSBox.react\"),{marginStart:3,marginTop:5,children:k.jsxs(c(\"IGDSBox.react\"),{alignItems:\"center\",direction:\"row\",justifyContent:\"start\",marginBottom:4,marginEnd:3,children:[b,k.jsx(c(\"IGDSText.react\").BodyEmphasized,{children:h._(\"__JHASH__hJ_ebtzSMOR__JHASH__\")})]})}),a[1]=b):b=a[1];return b}g[\"default\"]=a}),226);\n__d(\"PolarisLoggedOutExploreModuleActions\",[\"PolarisInstapi\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){var b=a.onModuleLoadFailed,c=a.postId,d=a.userId;return function(a){a({postId:c,type:\"LOGGED_OUT_EXPLORE_MODULE_LOADING\"});return h(d,c).then(function(b){a({interestMedia:b.interest_medias,media:b.interest_medias.reduce(function(a,b){b.medias!=null&&a.push.apply(a,b.medias);return a},[]),postId:c,type:\"LOGGED_OUT_EXPLORE_MODULE_LOADED\"})})[\"catch\"](function(d){a({postId:c,type:\"LOGGED_OUT_EXPLORE_MODULE_LOAD_FAILED\"}),b!=null&&b()})}}function h(a,b){return d(\"PolarisInstapi\").apiGet(\"\/api\/v1\/media\/get_related_interest_media_logged_out\/\",{query:{author_id:a,media_id:b}}).then(function(a){return a.data})}g.getExploreModule=a}),98);\n__d(\"PolarisLoggedOutExploreModuleOverlay.react\",[\"IGDSBox.react\",\"IGDSReelsFilledIcon.react\",\"IGDSText.react\",\"IGDSVerifiedIcon.react\",\"PolarisGenericStrings\",\"PolarisIGCoreConstants\",\"PolarisUserAvatar.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k={content:{paddingTop:\"x889kno\",paddingEnd:\"x1iji9kk\",paddingBottom:\"x1a8lsjc\",paddingStart:\"x1sln4lm\",$$css:!0},icon:{paddingTop:\"xm7lytj\",paddingEnd:\"x2qib4z\",paddingBottom:\"x1ykpatu\",paddingStart:\"xcu9agk\",$$css:!0}};function a(a){var b=i(5),e=a.isClips,f=a.isVerified,g=a.profilePicUrl;a=a.username;var h;b[0]!==a||b[1]!==e||b[2]!==g||b[3]!==f?(h=a!=null?j.jsxs(\"div\",{className:\"xf0f1f2 x1ey2m1c xds687c x47corl x10l6tqk x17qophe xqhrkhf x13vifvy x1vjfegm\",children:[e===!0&&j.jsx(c(\"IGDSBox.react\"),{alignItems:\"end\",width:\"100%\",xstyle:k.icon,children:j.jsx(c(\"IGDSReelsFilledIcon.react\"),{alt:d(\"PolarisGenericStrings\").REEL_ICON_ALT,color:\"web-always-white\",shadow:!0,size:18})}),j.jsxs(c(\"IGDSBox.react\"),{alignItems:\"center\",bottom:!0,direction:\"row\",position:\"absolute\",width:\"100%\",xstyle:k.content,children:[g!=null&&j.jsx(c(\"IGDSBox.react\"),{marginEnd:1,children:j.jsx(c(\"PolarisUserAvatar.react\"),{isLink:!1,profilePictureUrl:g,size:c(\"PolarisIGCoreConstants\").AVATAR_SIZES.extraSmall,username:a})}),j.jsx(c(\"IGDSText.react\"),{color:\"webAlwaysWhite\",maxLines:1,size:\"footnote\",weight:\"semibold\",children:a}),f===!0&&j.jsx(c(\"IGDSBox.react\"),{marginStart:1,children:j.jsx(c(\"IGDSVerifiedIcon.react\"),{alt:d(\"PolarisGenericStrings\").VERIFIED_TEXT,color:\"web-always-white\",shadow:!0,size:12})})]})]}):null,b[0]=a,b[1]=e,b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}g[\"default\"]=a}),98);\n__d(\"PolarisLoggedOutExploreModuleCardItem.react\",[\"IGDSBox.react\",\"PolarisFastLink.react\",\"PolarisLinkBuilder\",\"PolarisLoggedOutExploreModuleOverlay.react\",\"PolarisMediaHelpers\",\"PolarisPhoto.react\",\"polarisGetPostFromGraphMediaInterface\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b,e=i(24),f=a.dimensions,g=a.media;a=a.onCardClick;var h;e[0]!==g?(h=d(\"PolarisMediaHelpers\").getImageSrcSet(d(\"PolarisMediaHelpers\").getImageCandidatesFromMediaItem(g)),e[0]=g,e[1]=h):h=e[1];h=h;b=h==null?void 0:(b=h[0])==null?void 0:b.src;var k=g.code,l;e[2]!==g.product_type?(l=d(\"polarisGetPostFromGraphMediaInterface\").isClipsProductType(g.product_type),e[2]=g.product_type,e[3]=l):l=e[3];l=l;var m;e[4]!==g.accessibility_caption||e[5]!==f||e[6]!==b||e[7]!==h?(m=j.jsx(c(\"PolarisPhoto.react\"),{accessibilityCaption:g.accessibility_caption,dimensions:f,rich:!0,src:b,srcSet:h}),e[4]=g.accessibility_caption,e[5]=f,e[6]=b,e[7]=h,e[8]=m):m=e[8];b=m;e[9]!==k||e[10]!==l||e[11]!==a||e[12]!==b?(h=k!=null?j.jsx(c(\"PolarisFastLink.react\"),{href:l?d(\"PolarisLinkBuilder\").buildClipsMediaLink(k):d(\"PolarisLinkBuilder\").buildMediaLink(k),onClick:a,children:b}):b,e[9]=k,e[10]=l,e[11]=a,e[12]=b,e[13]=h):h=e[13];k=(m=g.user)==null?void 0:m.is_verified;b=(a=g.user)==null?void 0:a.profile_pic_url;a=(m=g.user)==null?void 0:m.username;e[14]!==l||e[15]!==k||e[16]!==b||e[17]!==a?(g=j.jsx(c(\"PolarisLoggedOutExploreModuleOverlay.react\"),{isClips:l,isVerified:k,profilePicUrl:b,username:a}),e[14]=l,e[15]=k,e[16]=b,e[17]=a,e[18]=g):g=e[18];e[19]!==f.height||e[20]!==f.width||e[21]!==h||e[22]!==g?(m=j.jsxs(c(\"IGDSBox.react\"),{height:f.height,position:\"relative\",width:f.width,children:[h,g]}),e[19]=f.height,e[20]=f.width,e[21]=h,e[22]=g,e[23]=m):m=e[23];return m}g[\"default\"]=a}),98);\n__d(\"PolarisLoggedOutExploreModuleCard.react\",[\"IGDSBox.react\",\"IGDSText.react\",\"PolarisFastLink.react\",\"PolarisLinkBuilder\",\"PolarisLoggedOutExploreModuleCardItem.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(47),e=a.cardDimensions,f=a.interestMedia,g=a.mediaDimensions,h=a.numMediaPerCard,k=a.onCardHeaderClick,l=a.onCardItemClick,m,n,o;if(b[0]!==f.media||b[1]!==f.fitId||b[2]!==f.topicName||b[3]!==h||b[4]!==g.width||b[5]!==g.height||b[6]!==e.height||b[7]!==e.width||b[8]!==k||b[9]!==l){a=f.media.slice(0,h);var p=a.length!==0?g.width*h\/a.length:g.width;b[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(m=\"xl4qmuc xxqof28 xd18jyu xiuebna xhw592a xwihvcr x7wuybg xb9tvrk x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x78zum5 xdt5ytf x1qughib x6ikm8r x10wlt62\",b[17]=m):m=b[17];b[18]!==e.height||b[19]!==e.width?(n={height:e.height,width:e.width},b[18]=e.height,b[19]=e.width,b[20]=n):n=b[20];var q;b[21]!==f.fitId||b[22]!==f.topicName?(q=d(\"PolarisLinkBuilder\").buildExploreTopicLink(f.fitId,f.topicName),b[21]=f.fitId,b[22]=f.topicName,b[23]=q):q=b[23];var r;b[24]!==k||b[25]!==f.fitId?(r=function(){return k(f.fitId)},b[24]=k,b[25]=f.fitId,b[26]=r):r=b[26];var s;b[27]!==f.topicName?(s=j.jsx(c(\"IGDSText.react\").FootnoteEmphasized,{elementType:\"h2\",maxLines:1,children:f.topicName}),b[27]=f.topicName,b[28]=s):s=b[28];b[29]!==q||b[30]!==r||b[31]!==s?(o=j.jsx(c(\"IGDSBox.react\"),{flex:\"grow\",justifyContent:\"center\",paddingX:4,children:j.jsx(c(\"PolarisFastLink.react\"),{href:q,onClick:r,children:s})}),b[29]=q,b[30]=r,b[31]=s,b[32]=o):o=b[32];q=c(\"IGDSBox.react\");r=\"row\";s=\"between\";var t;b[33]!==g.height||b[34]!==p||b[35]!==l?(t=function(a){return j.jsx(c(\"PolarisLoggedOutExploreModuleCardItem.react\"),{dimensions:{height:g.height,width:p},media:a,onCardClick:function(){return l(a.pk)}},a.id)},b[33]=g.height,b[34]=p,b[35]=l,b[36]=t):t=b[36];a=a.map(t);b[0]=f.media;b[1]=f.fitId;b[2]=f.topicName;b[3]=h;b[4]=g.width;b[5]=g.height;b[6]=e.height;b[7]=e.width;b[8]=k;b[9]=l;b[10]=q;b[11]=r;b[12]=s;b[13]=a;b[14]=m;b[15]=n;b[16]=o}else q=b[10],r=b[11],s=b[12],a=b[13],m=b[14],n=b[15],o=b[16];b[37]!==q||b[38]!==r||b[39]!==s||b[40]!==a?(t=j.jsx(q,{direction:r,justifyContent:s,children:a}),b[37]=q,b[38]=r,b[39]=s,b[40]=a,b[41]=t):t=b[41];b[42]!==m||b[43]!==n||b[44]!==o||b[45]!==t?(h=j.jsxs(\"div\",{className:m,style:n,children:[o,t]}),b[42]=m,b[43]=n,b[44]=o,b[45]=t,b[46]=h):h=b[46];return h}g[\"default\"]=a}),98);\n__d(\"PolarisLoggedOutExploreModule.react\",[\"fbt\",\"IGDSBox.react\",\"IGDSText.react\",\"PolarisFastLink.react\",\"PolarisLoggedOutExploreModuleActions\",\"PolarisLoggedOutExploreModuleCard.react\",\"PolarisReactRedux.react\",\"PolarisRoutes\",\"PolarisVirtualHSnapScroll.react\",\"react\",\"requireDeferred\",\"useSinglePartialViewImpression\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;b.useCallback;var k=b.useEffect,l=b.useRef,m=b.useState,n=b.unstable_useMemoCache,o=c(\"requireDeferred\")(\"PolarisLoggedOutExploreModuleLogger\").__setRef(\"PolarisLoggedOutExploreModule.react\"),p=2;e=9\/16;var q=112,r=q\/e;f=1;var s=3;b=38;var t=12,u=9,v=r+b,w=s*q+(s-1)*f;function a(a){var b=n(4),e=a.analyticsContext,f=a.postId,g=a.userId,i=d(\"PolarisReactRedux.react\").useDispatch();b[0]!==f?(a=function(a){return a.loggedOutExploreModule.moduleInfoMap[f]},b[0]=f,b[1]=a):a=b[1];a=d(\"PolarisReactRedux.react\").useSelector(a);var x=!!(a==null?void 0:a.isLoading),y=a==null?void 0:a.interestMedia;a=m(0);var z=a[0],A=a[1],B=l(!1);b[2]!==e?(a=function(a){var b=a.component,c=a.eventName,d=a.key;return o.onReady(function(a){return a.logExploreModuleEvent({component:b,containermodule:e,eventName:c,key:d})})},b[2]=e,b[3]=a):a=b[3];var C=a;k(function(){z<p&&y==null&&!x&&i(d(\"PolarisLoggedOutExploreModuleActions\").getExploreModule({onModuleLoadFailed:function(){return A(function(a){return a+1})},postId:f,userId:g}))},[i,y,x,z,f,g]);k(function(){(y==null?void 0:y.length)&&!B.current&&(B.current=!0,C({component:\"exploreModule\",eventName:\"loadSuccess\"}))},[y==null?void 0:y.length,C]);b=c(\"useSinglePartialViewImpression\")({onImpressionStart:function(){C({component:\"exploreModule\",eventName:\"impression\"})}});return(y==null?void 0:y.length)?j.jsxs(c(\"IGDSBox.react\"),{containerRef:b,marginBottom:4,marginTop:3,children:[j.jsxs(c(\"IGDSBox.react\"),{direction:\"row\",justifyContent:\"between\",marginBottom:4,marginEnd:3,marginStart:3,children:[j.jsx(c(\"IGDSText.react\").BodyEmphasized,{children:h._(\"__JHASH__f5qw0wIvew4__JHASH__\")}),j.jsx(c(\"PolarisFastLink.react\"),{href:d(\"PolarisRoutes\").DISCOVER_MEDIA_PATH,onClick:function(){return C({component:\"seeMore\",eventName:\"click\"})},children:j.jsx(c(\"IGDSText.react\").BodyEmphasized,{children:j.jsx(\"div\",{className:\"xzlwxrv\",children:h._(\"__JHASH__be5GfExd9Uy__JHASH__\")})})})]}),j.jsx(c(\"IGDSBox.react\"),{height:v+2,children:j.jsx(c(\"PolarisVirtualHSnapScroll.react\"),{autoScrollOnFocus:!1,disableScrollSnap:!0,gutterWidth:t,itemWidth:w+u,pagerDisabled:!0,children:y.map(function(a){return j.jsx(c(\"PolarisLoggedOutExploreModuleCard.react\"),{cardDimensions:{height:v,width:w},interestMedia:a,mediaDimensions:{height:r,width:q},numMediaPerCard:s,onCardHeaderClick:function(a){return C({component:\"cardHeader\",eventName:\"click\",key:a})},onCardItemClick:function(a){return C({component:\"cardItem\",eventName:\"click\",key:a})}},a.fitId)})})})]}):null}g[\"default\"]=a}),226);\n__d(\"PolarisLoggedOutHashtagsUnitCardItem.react\",[\"IGDSBox.react\",\"PolarisFastLink.react\",\"PolarisLinkBuilder\",\"PolarisLoggedOutGenericUnitTopicCardOverlay.react\",\"PolarisLogger\",\"PolarisPhoto.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k=1,l={root:{borderTopColor:\"xl4qmuc\",borderEndColor:\"xxqof28\",borderBottomColor:\"xd18jyu\",borderStartColor:\"xiuebna\",borderTopStartRadius:\"xhk9q7s\",borderTopEndRadius:\"x1otrzb0\",borderBottomEndRadius:\"x1i1ezom\",borderBottomStartRadius:\"x1o6z2jb\",borderTopStyle:\"x13fuv20\",borderEndStyle:\"xu3j5b3\",borderBottomStyle:\"x1q0q8m5\",borderStartStyle:\"x26u7qi\",borderTopWidth:\"x178xt8z\",borderEndWidth:\"xm81vs4\",borderBottomWidth:\"xso031l\",borderStartWidth:\"xy80clv\",overflowX:\"x6ikm8r\",overflowY:\"x10wlt62\",$$css:!0}};function a(a){var b,e=i(19),f=a.analyticsContext,g=a.dimensions,h=a.hashtag;e[0]!==h.name||e[1]!==f?(a=function(){d(\"PolarisLogger\").logAction(\"loggedOutHashtagsUnitCardClick\",{name:h.name,source:f})},e[0]=h.name,e[1]=f,e[2]=a):a=e[2];a=a;var m=g.height+k*2,n=g.width+k*2,o;e[3]!==h.name?(o=d(\"PolarisLinkBuilder\").buildTagLink(h.name),e[3]=h.name,e[4]=o):o=e[4];b=(b=h.url)!=null?b:\"\";var p;e[5]!==g||e[6]!==b?(p=j.jsx(c(\"PolarisPhoto.react\"),{dimensions:g,rich:!0,src:b}),e[5]=g,e[6]=b,e[7]=p):p=e[7];e[8]!==o||e[9]!==a||e[10]!==p?(g=j.jsx(c(\"PolarisFastLink.react\"),{href:o,onClick:a,children:p}),e[8]=o,e[9]=a,e[10]=p,e[11]=g):g=e[11];b=\"#\"+h.name;e[12]!==b?(o=j.jsx(c(\"PolarisLoggedOutGenericUnitTopicCardOverlay.react\"),{overlayName:b,shouldHaveBottomBorderRadius:!0}),e[12]=b,e[13]=o):o=e[13];e[14]!==m||e[15]!==n||e[16]!==g||e[17]!==o?(a=j.jsxs(c(\"IGDSBox.react\"),{height:m,width:n,xstyle:l.root,children:[g,o]}),e[14]=m,e[15]=n,e[16]=g,e[17]=o,e[18]=a):a=e[18];return a}g[\"default\"]=a}),98);\n__d(\"PolarisLoggedOutHashtagsUnit.react\",[\"fbt\",\"IGDSArrowUpRightPanoFilledIcon.react\",\"IGDSBox.react\",\"IGDSText.react\",\"PolarisLoggedOutHashtagsUnitCardItem.react\",\"PolarisLogger\",\"PolarisReactRedux.react\",\"PolarisTrendingContentActions\",\"PolarisVirtualHSnapScroll.react\",\"react\",\"useSinglePartialViewImpression\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useEffect,l=b.useRef,m=b.unstable_useMemoCache;e=9\/16;var n=150,o=n\/e;f=5;var p=n+f,q=h._(\"__JHASH__5XXSccQ-wTC__JHASH__\");function a(a){var b=m(8),e=a.analyticsContext,f=d(\"PolarisReactRedux.react\").useDispatch(),g;b[0]!==f?(a=function(){f(d(\"PolarisTrendingContentActions\").requestTrendingHashtags())},g=[f],b[0]=f,b[1]=a,b[2]=g):(a=b[1],g=b[2]);k(a,g);b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=function(a){return a.trendingContent.trendingHashtags},b[3]=a):a=b[3];g=d(\"PolarisReactRedux.react\").useSelector(a);var i=l(null),r=l(null);b[4]!==e?(a=function(){if(i.current==null||r.current==null)return;d(\"PolarisLogger\").logAction(\"loggedOutHashtagsUnitScroll\",{position:i.current,source:\"loggedOutHashtagsUnitScrollPositionLogging\",target:e});d(\"PolarisLogger\").logAction(\"loggedOutHashtagsUnitScroll\",{position:r.current,source:\"loggedOutHashtagsUnitScrollPositionLogging\",target:e})},b[4]=e,b[5]=a):a=b[5];var s=a;b[6]!==s?(a=function(a){var b=a.endPct;a=a.startPct;i.current=Math.max(0,Math.floor(a));r.current=Math.max(0,Math.floor(b));s()},b[6]=s,b[7]=a):a=b[7];b=a;a=c(\"useSinglePartialViewImpression\")({onImpressionStart:function(){d(\"PolarisLogger\").logAction(\"loggedOutHashtagsUnitImpression\",{source:e,target:\"impressionLogging\"})}});return g.length>0?j.jsxs(j.Fragment,{children:[j.jsx(c(\"IGDSBox.react\"),{containerRef:a,marginStart:3,marginTop:5,children:j.jsxs(c(\"IGDSBox.react\"),{alignItems:\"center\",direction:\"row\",justifyContent:\"start\",marginBottom:4,marginEnd:3,children:[j.jsx(c(\"IGDSBox.react\"),{marginEnd:2,children:j.jsx(c(\"IGDSArrowUpRightPanoFilledIcon.react\"),{alt:q,color:\"ig-primary-icon\",shadow:!1,size:18})}),j.jsx(c(\"IGDSText.react\").BodyEmphasized,{children:h._(\"__JHASH__t3TpyKOn8eB__JHASH__\")})]})}),j.jsx(c(\"IGDSBox.react\"),{height:o+2,children:j.jsx(c(\"PolarisVirtualHSnapScroll.react\"),{autoScrollOnFocus:!1,disableScrollSnap:!0,itemWidth:p,onVisibilityChange:b,pagerDisabled:!0,children:g.map(function(a,b){return j.jsx(c(\"PolarisLoggedOutHashtagsUnitCardItem.react\"),{analyticsContext:e,dimensions:{height:o,width:n},hashtag:a},b)})})})]}):null}g[\"default\"]=a}),226);\n__d(\"PolarisFollowChainingListDeferred.react\",[\"CometRelay\",\"PolarisConnectionsLogger\",\"PolarisFollowChainingList.react\",\"PolarisLinkBuilder\",\"PolarisRelatedProfileQuery\",\"react\",\"stylex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||(i=d(\"react\"));b=i;var k=b.useEffect,l=b.useState,m=b.unstable_useMemoCache,n={followChainingListDesktop:{start:\"xr0cskc\",$$css:!0},followChainingListMobile:{start:\"x1181uw3\",$$css:!0}};function a(a){var b=m(13),e=a.header,f=a.isSmallScreen,g=a.postId,i=a.shortcode;a=a.user;var o;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=[],b[0]=o):o=b[0];o=l(o);var p=o[0],q=o[1];o=d(\"CometRelay\").useLazyLoadQuery(d(\"PolarisRelatedProfileQuery\").EDGE_RELATED_PROFILES_QUERY,{shortcode:i});var r=(i=d(\"CometRelay\").useFragment(d(\"PolarisRelatedProfileQuery\").EDGE_RELATED_PROFILE_FRAGMENT,o.xdt_shortcode_media))==null?void 0:i.edge_related_profiles;b[1]!==r?(o=function(){r!=null&&q(r==null?void 0:r.edges)},i=[r],b[1]=r,b[2]=o,b[3]=i):(o=b[2],i=b[3]);k(o,i);b[4]!==p?(o=function(a){var b=p.filter(function(b){return b.node.id!==a});q(b)},b[4]=p,b[5]=o):o=b[5];i=o;b[6]!==p||b[7]!==f||b[8]!==a||b[9]!==g||b[10]!==i||b[11]!==e?(o=p.length>0&&j.jsx(c(\"PolarisFollowChainingList.react\"),{analyticsContext:d(\"PolarisConnectionsLogger\").CONNECTIONS_CONTAINER_MODULES.post,chainingFailed:!1,chainingSuggestions:p.map(function(a){return{fullName:a.node.full_name,id:a.node.id,isVerified:a.node.is_verified,profilePictureUrl:a.node.profile_pic_url,username:a.node.username}}),className:(h||(h=c(\"stylex\")))(f?n.followChainingListMobile:n.followChainingListDesktop),clickPoint:\"related_profiles_unit\",impressionModule:d(\"PolarisConnectionsLogger\").VIEW_MODULES.post_related_profile,isSmallScreen:f,onSuggestionDismissed:i,overscan:p.length,seeAllHref:(a==null?void 0:a.username)!=null?d(\"PolarisLinkBuilder\").buildUserRelatedProfilesLink(a.username):void 0,title:e},g),b[6]=p,b[7]=f,b[8]=a,b[9]=g,b[10]=i,b[11]=e,b[12]=o):o=b[12];return o}g[\"default\"]=a}),98);\n__d(\"PolarisPostChainingModule.react\",[\"CometPlaceholder.react\",\"PolarisConfig\",\"PolarisConnectionsLogger\",\"PolarisFollowChainingList.react\",\"PolarisFollowChainingListDeferred.react\",\"PolarisFollowChainingListPlaceholder.react\",\"PolarisGenericVirtualFeed.react\",\"PolarisIsLoggedInDesktop\",\"PolarisLinkBuilder\",\"PolarisLoggedOutAudioUnit.react\",\"PolarisLoggedOutExploreModule.react\",\"PolarisLoggedOutHashtagsUnit.react\",\"PolarisLoggedOutLoginConstants\",\"PolarisNavigationActions\",\"PolarisPaginationUtils\",\"PolarisPost.react\",\"PolarisPostChainingConstants\",\"PolarisPostVariants\",\"PolarisProfilePostsActions\",\"PolarisProfilePostsSelectors.react\",\"PolarisProfileQEHelpers\",\"PolarisReactRedux.react\",\"PolarisRoutes\",\"PolarisUA\",\"PolarisUserActionDismissRelatedProfileSuggestion\",\"cr:2325\",\"gkx\",\"polarisRelatedProfileSelectors.react\",\"polarisUserSelectors\",\"qex\",\"react\",\"stylex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||(i=d(\"react\"));e=i;var k=e.Children,l=e.useCallback,m=e.useEffect,n=e.useRef,o=7,p=20,q=4,r=1,s=\"related_profiles_module\",t=\"explore_module\",u=\"trending_hashtags_module\",v=\"trending_audio_module\",w=\"threads_tifu_a_module\",x={followChainingListDesktop:{start:\"xr0cskc\",$$css:!0},followChainingListMobile:{start:\"x1181uw3\",$$css:!0}};function a(a){var e=a.analyticsContext,f=a.children,g=a.enableTruncation,i=a.excludePostId,y=a.shortcode,z=a.shouldFetchRelatedUsersAsync,A=a.shouldRenderAllChainedPostsForMobileCrawlers,B=a.userId,C=(a=d(\"PolarisReactRedux.react\")).useSelector(function(a){return d(\"PolarisProfilePostsSelectors.react\").getAllPostIdsForUserId(a,B)}),D=a.useSelector(function(a){return d(\"PolarisProfilePostsSelectors.react\").getPaginationForUserId(a,B)}),E=a.useSelector(function(a){return d(\"polarisUserSelectors\").getUsersByIds(a,d(\"polarisRelatedProfileSelectors.react\").getRelatedProfileSuggestions(a,B))}),F=a.useSelector(function(a){return a.navigation}),G=F.postChainingLimitLoginModalClosedCount,H=d(\"polarisUserSelectors\").useUser(B),I=d(\"PolarisUA\").isMobile(),J=a.useDispatch(),K=n(new Set());m(function(){d(\"PolarisConfig\").isLoggedIn()?J(d(\"PolarisProfilePostsActions\").requestProfilePostsV2(B,i,5)):J(d(\"PolarisProfilePostsActions\").requestProfilePosts(B,!1,i))},[J,i,B]);F=l(function(){d(\"PolarisConfig\").isLoggedIn()?J(d(\"PolarisProfilePostsActions\").requestProfilePostsV2(B,i,5)):J(d(\"PolarisProfilePostsActions\").requestProfilePosts(B,!1,i))},[J,B,i]);a=i.length>0?C.filter(function(a){return a!==i}):C;var L=[i].concat(a);c(\"qex\")._(\"610\")===!0?L.splice(q,0,u):c(\"qex\")._(\"154\")===!0?L.splice(q,0,v):c(\"qex\")._(\"29\")===!0&&L.splice(q,0,s);d(\"PolarisUA\").isMobile()&&c(\"gkx\")(\"814\")===!0&&L.splice(r,0,w);var M=l(function(a){J(d(\"PolarisUserActionDismissRelatedProfileSuggestion\").dismissRelatedProfileSuggestion(B,a))},[J,B]),N=function(a){var l=a.index,m=a.isVisible;a=a.visibleIndex;var n=L[l];if(l===0)return k.only(f);if(n===t)return j.jsx(c(\"PolarisLoggedOutExploreModule.react\"),{analyticsContext:e,postId:i,userId:B},n);if(n===u)return j.jsx(c(\"PolarisLoggedOutHashtagsUnit.react\"),{analyticsContext:e},n);if(n===v)return j.jsx(c(\"PolarisLoggedOutAudioUnit.react\"),{});if(n===s)if(!z&&E&&E.length>0)return j.jsx(c(\"PolarisFollowChainingList.react\"),{analyticsContext:d(\"PolarisConnectionsLogger\").CONNECTIONS_CONTAINER_MODULES.post,chainingFailed:!1,chainingSuggestions:E==null?void 0:E.map(function(a){var b=a.fullName,c=a.id,d=a.isVerified,e=a.profilePictureUrl,f=a.suggestionDescription;a=a.username;return{fullName:b,id:c,isVerified:d,profilePictureUrl:e,suggestionDescription:f,username:a}}),className:(h||(h=c(\"stylex\")))(I?x.followChainingListMobile:x.followChainingListDesktop),clickPoint:\"related_profiles_unit\",impressionModule:d(\"PolarisConnectionsLogger\").VIEW_MODULES.post_related_profile,isSmallScreen:I,onSuggestionDismissed:M,overscan:E==null?void 0:E.length,seeAllHref:(H==null?void 0:H.username)!=null?d(\"PolarisLinkBuilder\").buildUserRelatedProfilesLink(H.username):void 0,title:d(\"PolarisPostChainingConstants\").ACCOUNTS_YOU_MAY_LIKE_HEADER},n);else{var q;return j.jsx(c(\"CometPlaceholder.react\"),{fallback:j.jsx(d(\"PolarisFollowChainingListPlaceholder.react\").PolarisFollowChainingListPlaceholder,{}),children:j.jsx(c(\"PolarisFollowChainingListDeferred.react\"),{header:d(\"PolarisPostChainingConstants\").ACCOUNTS_YOU_MAY_LIKE_HEADER,isSmallScreen:I,postId:n,shortcode:(q=y)!=null?q:\"\",user:H},n)},n)}if(m&&!K.current.has(n)&&A!==!0){K.current.add(n);q=d(\"PolarisProfileQEHelpers\").showMoreContentBeforeContentWall()?p:d(\"PolarisLoggedOutLoginConstants\").getTotalAmountOfContentToLetUserSeeBeforeShowingContentWall(o,(q=G)!=null?q:0);if(K.current.size>q&&!d(\"PolarisProfileQEHelpers\").hasNoContentWalls()){q=d(\"PolarisUA\").isDesktop()||d(\"PolarisConfig\").isLoggedOutFRXEligible()?\"feature_wall\":\"content_wall\";J(d(\"PolarisNavigationActions\").openLoginModal(q,y!=null?d(\"PolarisLinkBuilder\").buildMediaLink(y):d(\"PolarisRoutes\").FEED_PATH,\"post_chaining_impression_limit\",null,i))}}q=d(\"PolarisConfig\").getCountryCode();return n===w&&q!=null&&b(\"cr:2325\")!=null?j.jsx(b(\"cr:2325\"),{countryCode:q,position:l,userId:B},n):n&&j.jsx(c(\"PolarisPost.react\"),{analyticsContext:e,autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),enableTruncation:g,id:n,isVisible:m,position:l,variant:d(\"PolarisPostVariants\").VARIANTS.feed,visiblePosition:a},n)};return A===!0?j.jsx(\"div\",{children:L.map(function(a,b){return N({index:b,isVisible:!0,visibleIndex:null})})}):j.jsx(c(\"PolarisGenericVirtualFeed.react\"),{analyticsContext:e,\"data-testid\":void 0,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:!!d(\"PolarisPaginationUtils\").hasNextPage(D),isFetching:d(\"PolarisPaginationUtils\").isFetching(D),items:L,onNextPage:F,renderFeedItem:N,visibleCount:L.length})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\n__d(\"PolarisRelatedMediaGridConstants\",[],(function(a,b,c,d,e,f){\"use strict\";a=4;f.MINIMUM_POST_COUNT=a}),66);\n__d(\"usePolarisUserMediaSelector\",[\"PolarisPaginationUtils\",\"PolarisProfilePostsSelectors.react\",\"PolarisReactRedux.react\",\"polarisUserSelectors\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||d(\"react\")).unstable_useMemoCache;function j(a,b){a=d(\"PolarisProfilePostsSelectors.react\").getPaginationForUserId(a,b);return!a?!1:d(\"PolarisPaginationUtils\").isFetching(a)}function a(a){var b=i(10),c;b[0]!==a?(c=function(b){return j(b,a)},b[0]=a,b[1]=c):c=b[1];c=d(\"PolarisReactRedux.react\").useSelector(c);var e;b[2]!==a?(e=function(b){return d(\"polarisUserSelectors\").getUserByIdOrThrows(b,a)},b[2]=a,b[3]=e):e=b[3];e=d(\"PolarisReactRedux.react\").useSelector(e);var f;b[4]!==a?(f=function(b){return d(\"PolarisProfilePostsSelectors.react\").getAllPostIdsForUserId(b,a)},b[4]=a,b[5]=f):f=b[5];f=d(\"PolarisReactRedux.react\").useSelector(f);var g;b[6]!==c||b[7]!==f||b[8]!==e?(g={isMediaFetching:c,postIds:f,user:e},b[6]=c,b[7]=f,b[8]=e,b[9]=g):g=b[9];return g}g.isUserMediaFetching=j;g.useUserMediaSelector=a}),98);\n__d(\"PolarisRelatedMediaDivider.react\",[\"IGDSBox.react\",\"IGDSDivider.react\",\"PolarisRelatedMediaGridConstants\",\"react\",\"usePolarisUserMediaSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(1),e=a.hasDiscoveryModule,f=a.hasRelatedMedia,g=a.hasRelatedProfiles;a=a.userId;a=d(\"usePolarisUserMediaSelector\").useUserMediaSelector(a);a=a.postIds;if(!e&&!g&&!(f&&a.length>=d(\"PolarisRelatedMediaGridConstants\").MINIMUM_POST_COUNT))return null;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=j.jsx(c(\"IGDSBox.react\"),{\"data-testid\":void 0,marginTop:12,position:\"relative\",children:j.jsx(c(\"IGDSDivider.react\"),{})}),b[0]=e):e=b[0];return e}g[\"default\"]=a}),98);\n__d(\"PolarisRelatedMediaGrid.react\",[\"cx\",\"IGDSBox.react\",\"PolarisConfig\",\"PolarisLinkBuilder\",\"PolarisLogger\",\"PolarisRelatedMediaGridConstants\",\"PolarisSEOEventsLogger\",\"PolarisUA\",\"PolarisVirtualPostsGrid.react\",\"gkx\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(a){var b=a.analyticsContext,e=a.footer,f=a.hasTrendingContent,g=a.header,h=a.isMediaFetching,i=a.maxPosts,n=a.postIds;a=a.username;var o=m(!0),p=m(),q=k(function(){f===!0?d(\"PolarisLogger\").logAction(\"trendingContentModulePostClick\",{source:b}):(d(\"PolarisLogger\").logAction(\"relatedMediaPostClick\"),d(\"PolarisSEOEventsLogger\").logSEOEvent({containermodule:b,eventName:\"relatedMediaPostClick\"}))},[b,f]);l(function(){var a=p.current;!h&&!(n.length<d(\"PolarisRelatedMediaGridConstants\").MINIMUM_POST_COUNT)&&o.current===!0&&a!=null&&(o.current=!1,d(\"PolarisLogger\").logAction(\"relatedMediaImpression\",{is_media_visible:t(a),viewport_height:window.innerHeight}),d(\"PolarisSEOEventsLogger\").logSEOEvent({containermodule:b,eventName:\"relatedMediaImpression\"}))},[b,p,h,o,n]);if(n.length<d(\"PolarisRelatedMediaGridConstants\").MINIMUM_POST_COUNT&&!h)return null;var r=d(\"PolarisUA\").isDesktop()?5:3,s=d(\"PolarisUA\").isDesktop()?0:4;i=Math.min(n.length,i);function t(a){a=a.getBoundingClientRect();var b=a.bottom;a=a.top;return!(b<0||a-window.innerHeight>=0)}a=!d(\"PolarisConfig\").isLoggedIn()&&a!=null&&c(\"gkx\")(\"25380\")===!0?d(\"PolarisLinkBuilder\").buildDynamicUsernameMediaLink(a):d(\"PolarisLinkBuilder\").buildDynamicMediaLink;return j.jsxs(\"div\",{className:f===!0?\"_ajgs\":\"_aa6g\",children:[j.jsx(c(\"IGDSBox.react\"),{alignItems:\"start\",marginBottom:r,marginStart:s,position:\"relative\",children:g}),j.jsx(\"div\",{ref:p,children:j.jsx(c(\"PolarisVirtualPostsGrid.react\"),{analyticsContext:\"permalinkPivot\",hasNextPage:!1,isFetching:h,mediaLinkBuilder:a,onClick:q,postIds:n,visibleCount:i})}),e]})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\n__d(\"PolarisRelatedMediaUsernameHeader.react\",[\"fbt\",\"IGDSButton.react\",\"PolarisIGCoreText\",\"PolarisLinkBuilder\",\"PolarisLogger\",\"PolarisSEOEventsLogger\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function a(a){var b=j(5),e=a.analyticsContext;a=a.username;var f;b[0]!==e?(f=function(){d(\"PolarisLogger\").logAction(\"relatedMediaUsernameClick\"),d(\"PolarisSEOEventsLogger\").logSEOEvent({containermodule:e,eventName:\"relatedMediaUsernameClick\"})},b[0]=e,b[1]=f):f=b[1];f=f;var g;b[2]!==a||b[3]!==f?(g=k.jsx(c(\"PolarisIGCoreText\").BodyEmphasized,{color:\"ig-secondary-text\",children:h._(\"__JHASH__Br1wiOT_wXn__JHASH__\",[h._param(\"UserLink\",k.jsx(c(\"IGDSButton.react\"),{display:\"block\",href:d(\"PolarisLinkBuilder\").buildUserLink(a),label:a,onClick:f,variant:\"secondary_link\"}))])}),b[2]=a,b[3]=f,b[4]=g):g=b[4];return g}g[\"default\"]=a}),226);\n__d(\"usePolarisRelatedMediaSelector\",[\"PolarisProfilePostsSelectors.react\",\"react\",\"usePolarisSelector\",\"usePolarisUserMediaSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||d(\"react\")).unstable_useMemoCache;function a(a,b){var e=i(9),f;e[0]!==a?(f=function(b){return d(\"usePolarisUserMediaSelector\").isUserMediaFetching(b,a)},e[0]=a,e[1]=f):f=e[1];f=c(\"usePolarisSelector\")(f);var g;e[2]!==a?(g=function(b){return d(\"PolarisProfilePostsSelectors.react\").getAllPostIdsForUserId(b,a)},e[2]=a,e[3]=g):g=e[3];g=c(\"usePolarisSelector\")(g);var h;e[4]!==b?(h=function(a){return a!==b},e[4]=b,e[5]=h):h=e[5];g=g.filter(h);e[6]!==f||e[7]!==g?(h={isMediaFetching:f,postIds:g},e[6]=f,e[7]=g,e[8]=h):h=e[8];return h}g[\"default\"]=a}),98);\n__d(\"PolarisRelatedMediaGridLoggedIn.react\",[\"CometPlaceholder.react\",\"PolarisProfilePostsActions\",\"PolarisReactRedux.react\",\"PolarisRelatedMediaGrid.react\",\"PolarisRelatedMediaUsernameHeader.react\",\"handlePolarisProfilePostsAPIResponse\",\"polarisUserSelectors\",\"react\",\"usePolarisGetQuerySetup\",\"usePolarisRelatedMediaSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache,l=6;function m(a){var b,e=k(8),f=a.analyticsContext,g=a.excludePostId;a=a.userId;b=(b=(b=d(\"polarisUserSelectors\").useUser(a))==null?void 0:b.username)!=null?b:\"\";a=c(\"usePolarisRelatedMediaSelector\")(a,g);g=a.isMediaFetching;a=a.postIds;var h;e[0]!==f||e[1]!==b?(h=i.jsx(c(\"PolarisRelatedMediaUsernameHeader.react\"),{analyticsContext:f,username:b}),e[0]=f,e[1]=b,e[2]=h):h=e[2];e[3]!==f||e[4]!==h||e[5]!==g||e[6]!==a?(b=i.jsx(c(\"PolarisRelatedMediaGrid.react\"),{analyticsContext:f,header:h,isMediaFetching:g,maxPosts:l,postIds:a}),e[3]=f,e[4]=h,e[5]=g,e[6]=a,e[7]=b):b=e[7];return b}function n(a){var b=k(13),c,e,f;b[0]!==a?(e=a.excludePostId,c=a.userId,f=babelHelpers.objectWithoutPropertiesLoose(a,[\"excludePostId\",\"userId\"]),b[0]=a,b[1]=c,b[2]=e,b[3]=f):(c=b[1],e=b[2],f=b[3]);var g=d(\"PolarisReactRedux.react\").useDispatch(),h;b[4]!==g||b[5]!==c||b[6]!==e?(a=function(){g(d(\"PolarisProfilePostsActions\").requestProfilePostsV2(c,e,7))},h=[g,e,c],b[4]=g,b[5]=c,b[6]=e,b[7]=a,b[8]=h):(a=b[7],h=b[8]);j(a,h);b[9]!==e||b[10]!==c||b[11]!==f?(a=i.jsx(m,babelHelpers[\"extends\"]({excludePostId:e,userId:c},f)),b[9]=e,b[10]=c,b[11]=f,b[12]=a):a=b[12];return a}function o(a){var b=k(12),d,e,f,g;b[0]!==a?(e=a.excludePostId,f=a.relatedMediaQuery,d=a.userId,g=babelHelpers.objectWithoutPropertiesLoose(a,[\"excludePostId\",\"relatedMediaQuery\",\"userId\"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g):(d=b[1],e=b[2],f=b[3],g=b[4]);b[5]!==d||b[6]!==e?(a=function(a){return function(b){b(c(\"handlePolarisProfilePostsAPIResponse\")(a,d,e))}},b[5]=d,b[6]=e,b[7]=a):a=b[7];c(\"usePolarisGetQuerySetup\")(f,a);b[8]!==e||b[9]!==d||b[10]!==g?(f=i.jsx(m,babelHelpers[\"extends\"]({excludePostId:e,userId:d},g)),b[8]=e,b[9]=d,b[10]=g,b[11]=f):f=b[11];return f}function a(a){var b=k(8),d,e;b[0]!==a?(d=a.relatedMediaQuery,e=babelHelpers.objectWithoutPropertiesLoose(a,[\"relatedMediaQuery\"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);if(d!=null){b[3]!==d||b[4]!==e?(a=i.jsx(c(\"CometPlaceholder.react\"),{fallback:null,children:i.jsx(o,babelHelpers[\"extends\"]({relatedMediaQuery:d},e))}),b[3]=d,b[4]=e,b[5]=a):a=b[5];return a}else{b[6]!==e?(d=i.jsx(n,babelHelpers[\"extends\"]({},e)),b[6]=e,b[7]=d):d=b[7];return d}}g[\"default\"]=a}),98);\n__d(\"PolarisRelatedMediaGridLoggedOut.react\",[\"fbt\",\"IGDSBox.react\",\"IGDSChevronIcon.react\",\"IGDSDivider.react\",\"PolarisFastLink.react\",\"PolarisIGCoreText\",\"PolarisLinkBuilder\",\"PolarisProfilePostsActions\",\"PolarisReactRedux.react\",\"PolarisRelatedMediaGrid.react\",\"PolarisRelatedMediaUsernameHeader.react\",\"PolarisSEOEventsLogger\",\"PolarisUA\",\"polarisUserSelectors\",\"react\",\"usePolarisRelatedMediaSelector\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useEffect,l=b.unstable_useMemoCache,m=9,n=h._(\"__JHASH__fj68MpN7lFh__JHASH__\"),o=h._(\"__JHASH__-qOtEritiLN__JHASH__\");function a(a){var b=l(30),e=a.analyticsContext,f=a.excludePostId,g=a.userId,h=d(\"PolarisReactRedux.react\").useDispatch();a=(a=(a=d(\"polarisUserSelectors\").useUser(g))==null?void 0:a.username)!=null?a:\"\";var i=c(\"usePolarisRelatedMediaSelector\")(g,f),p=i.isMediaFetching;i=i.postIds;var q,r;b[0]!==h||b[1]!==g||b[2]!==f?(q=function(){h(d(\"PolarisProfilePostsActions\").requestProfilePosts(g,!1,f))},r=[h,f,g],b[0]=h,b[1]=g,b[2]=f,b[3]=q,b[4]=r):(q=b[3],r=b[4]);k(q,r);b[5]!==e?(q=function(){d(\"PolarisSEOEventsLogger\").logSEOEvent({containermodule:e,eventName:\"relatedMediaCTAClick\"})},b[5]=e,b[6]=q):q=b[6];r=q;b[7]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(q=\"x6s0dn4 xd18jyu x1q0q8m5 xso031l x78zum5 x1q0g3np x1iyjqo2 x10c73hc x38sub4 xvijh9v x889kno xn6708d x1a8lsjc x1swvt13 xjypj1w x17xomw0\",b[7]=q):q=b[7];var s=d(\"PolarisLinkBuilder\").buildUserLink(a),t;b[8]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(t=j.jsx(c(\"PolarisIGCoreText\").BodyEmphasized,{color:\"ig-primary-button\",children:o}),b[8]=t):t=b[8];var u;b[9]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(u=j.jsx(c(\"IGDSBox.react\"),{paddingX:4,position:\"absolute\",right:!0,children:j.jsx(c(\"IGDSChevronIcon.react\"),{alt:n,color:\"ig-primary-button\",direction:\"next\",size:20})}),b[9]=u):u=b[9];b[10]!==s||b[11]!==r?(q=j.jsx(c(\"IGDSBox.react\"),{direction:\"row\",position:\"relative\",children:j.jsxs(c(\"PolarisFastLink.react\"),{className:q,href:s,onClick:r,children:[t,u]})}),b[10]=s,b[11]=r,b[12]=q):q=b[12];t=q;u=d(\"PolarisLinkBuilder\").buildUserLink(a);b[13]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(s=j.jsx(c(\"PolarisIGCoreText\").BodyEmphasized,{color:\"ig-primary-button\",children:o}),b[13]=s):s=b[13];b[14]!==u||b[15]!==r?(q=j.jsx(c(\"IGDSBox.react\"),{direction:\"row\",justifyContent:\"center\",margin:5,position:\"relative\",children:j.jsx(c(\"PolarisFastLink.react\"),{href:u,onClick:r,children:s})}),b[14]=u,b[15]=r,b[16]=q):q=b[16];b[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(s=j.jsx(c(\"IGDSDivider.react\"),{}),b[17]=s):s=b[17];b[18]!==q?(u=j.jsxs(c(\"IGDSBox.react\"),{position:\"relative\",children:[q,s]}),b[18]=q,b[19]=u):u=b[19];r=u;s=d(\"PolarisUA\").isDesktop()?r:t;b[20]!==e||b[21]!==a?(q=j.jsx(c(\"PolarisRelatedMediaUsernameHeader.react\"),{analyticsContext:e,username:a}),b[20]=e,b[21]=a,b[22]=q):q=b[22];b[23]!==e||b[24]!==s||b[25]!==q||b[26]!==p||b[27]!==i||b[28]!==a?(u=j.jsx(c(\"PolarisRelatedMediaGrid.react\"),{analyticsContext:e,footer:s,header:q,isMediaFetching:p,maxPosts:m,postIds:i,username:a}),b[23]=e,b[24]=s,b[25]=q,b[26]=p,b[27]=i,b[28]=a,b[29]=u):u=b[29];return u}g[\"default\"]=a}),226);\n__d(\"PolarisPostPage.react\",[\"cx\",\"fbt\",\"CAAWebClientLoggingEventSource\",\"CometRouteParams\",\"IGDSDialogBackwardsCompatibilityWrapper.react\",\"IGRouter.react\",\"InstagramSEOCrawlBot\",\"PolarisCommentLikedByListContainerLazy.react\",\"PolarisConfig\",\"PolarisEntityQRModalLazy.react\",\"PolarisErrorBoundary.react\",\"PolarisGenericMobileHeader.react\",\"PolarisIsLoggedInDesktop\",\"PolarisLikedByListContainerLazy.react\",\"PolarisLikedByListVariant\",\"PolarisLogger\",\"PolarisNavBackButton.react\",\"PolarisNavigationActions\",\"PolarisPageMetadata.react\",\"PolarisPost.react\",\"PolarisPostActionLoadPostPageExtras\",\"PolarisPostChainingModule.react\",\"PolarisPostSidecarIndexHelpers\",\"PolarisPostVariants\",\"PolarisQPManager.react\",\"PolarisReactRedux.react\",\"PolarisRelatedMediaDivider.react\",\"PolarisRelatedMediaGridLoggedIn.react\",\"PolarisRelatedMediaGridLoggedOut.react\",\"PolarisShell.react\",\"PolarisSizing\",\"PolarisUA\",\"cr:4150\",\"getPolarisTitleForPost\",\"isStringNullOrEmpty\",\"nullthrows\",\"polarisGetPostFromGraphMediaInterface\",\"polarisPostSelectors\",\"polarisStorySelectors\",\"polarisUserSelectors\",\"react\",\"usePolarisViewer\"],(function(a,b,c,d,e,f,g,h,i){\"use strict\";var j,k=j||(j=d(\"react\"));e=j;var l=e.useEffect,m=e.useState,n=e.unstable_useMemoCache,o=i._(\"__JHASH__331BY71K078__JHASH__\"),p=i._(\"__JHASH__tsG71JEKkVB__JHASH__\"),q=i._(\"__JHASH__vErJTWsGnon__JHASH__\"),r=\"postPage\";function s(a){var b=n(1),c=a.fromAdvertiser;a=a.isAd;if(a!==!0||c!==!0)return null;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=k.jsx(\"div\",{className:\"_aa69\",children:i._(\"__JHASH__twBOJYVAV1h__JHASH__\")}),b[0]=a):a=b[0];return a}function a(a){var e=n(43),f=a.audioSlug,g=a.commentLikeId,h=a.enableNewTitleTagFormat,i=a.fromAdvertiser,j=a.hideHalfSheetUpsell,t=a.initialCommentsQuery,u=a.likedByShortcode,v=a.ownerId,w=a.permalinkedCommentId,x=a.permalinkedReplyId,y=a.postId,z=a.relatedMediaQuery,A=a.seoCrawlingPoolQuery,B=a.shouldFetchRelatedUsersAsync,C=a.shouldIncreaseCommentPreviews,D=a.shouldRenderAllChainedPostsForMobileCrawlers,E=a.shouldRenderAudioNameAsH2,F=a.showQRModal,G=a.truncationVariant,H=a.history;a=j===void 0?!1:j;var I=d(\"PolarisReactRedux.react\").useDispatch(),J=c(\"usePolarisViewer\")();e[0]!==y?(j=function(a){return d(\"polarisPostSelectors\").getPostOrNullById(a,y)},e[0]=y,e[1]=j):j=e[1];var K=d(\"PolarisReactRedux.react\").useSelector(j);e[2]!==v?(j=function(a){return d(\"polarisUserSelectors\").maybeGetUserById(a,v)},e[2]=v,e[3]=j):j=e[3];j=d(\"PolarisReactRedux.react\").useSelector(j);var L=d(\"PolarisReactRedux.react\").useSelector(function(a){return K?d(\"polarisPostSelectors\").maybeGetPostGroupByPost(a,K):null});L=(L=L)!=null?L:j;e[4]!==v?(j=function(a){return d(\"polarisStorySelectors\").userHasReel(a,v)},e[4]=v,e[5]=j):j=e[5];var M=d(\"PolarisReactRedux.react\").useSelector(j);j=m(F);F=j[0];var aa=j[1],N=K==null?void 0:K.id;j=K==null?void 0:K.group;var O=J==null?void 0:J.id,P;e[6]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(P=function(a){return(a=(a=a.navigation)==null?void 0:a.pageViewCount)!=null?a:1},e[6]=P):P=e[6];var Q=d(\"PolarisReactRedux.react\").useSelector(P);e[7]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(P=function(a){return a.navigation.isLoginModalOpen},e[7]=P):P=e[7];P=d(\"PolarisReactRedux.react\").useSelector(P);var R=d(\"CometRouteParams\").useRouteParams();R=R.img_index;l(function(){if(N!=null){var a=!O;a={fetchLoggedOutExtras:a,fetchReel:O!=null&&!M};Object.values(a).some(function(a){return a})&&I(d(\"PolarisPostActionLoadPostPageExtras\").loadPostPageExtras(N,a))}},[M,N,O,I]);l(function(){K&&I(d(\"PolarisNavigationActions\").incrementNewPageViewCount(J,\"post\",c(\"nullthrows\")(K.code),Q))},[K,Q,J,I]);l(function(){K&&!d(\"PolarisConfig\").isLoggedIn()&&d(\"PolarisLogger\").logAction(\"postChainingImpression\",{post_id:K.id})},[K]);var S;e[8]!==H?(S=function(){H.goBack()},e[8]=H,e[9]=S):S=e[9];S=S;if(L==null||K==null)return null;var T=d(\"PolarisSizing\").SITE_WIDTHS.wide,U={};if(K.dimensions&&d(\"PolarisSizing\").needsCustomMaxPageWidth(K.dimensions)){T=Math.min(T,d(\"PolarisSizing\").getPageWidthForPostDimensions(K.dimensions));T=T+\"px\";var V;e[10]!==T?(V={maxWidth:T},e[10]=T,e[11]=V):V=e[11];U.style=V}T=K.isSidecar===!0?p:K.isVideo===!0?q:o;e[12]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(V=[k.jsx(c(\"PolarisNavBackButton.react\"),{analyticsContext:r},\"back\")],e[12]=V):V=e[12];V=V;var W=d(\"PolarisUA\").isDesktop()&&d(\"PolarisConfig\").isLoggedIn(),X=!d(\"PolarisConfig\").isLoggedIn()&&L.passTieringRecommendation!=null&&L.passTieringRecommendation===!0,Y=!d(\"PolarisUA\").isDesktop()&&!d(\"PolarisConfig\").isLoggedIn();W=L.isUnpublished!==!0&&(W||X)&&!Y;X=G===\"var_1\"||G===\"var_2\";G=G===\"var_2\";var Z;e[13]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(Z=d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),e[13]=Z):Z=e[13];var $;e[14]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?($=\"_aa6a\",e[14]=$):$=e[14];Z=k.jsx(c(\"PolarisPost.react\"),babelHelpers[\"extends\"]({analyticsContext:r,autoplay:Z,className:$,id:K.id},R!=null&&K.isSidecar===!0&&d(\"PolarisPostSidecarIndexHelpers\").shouldHaveIndexableUrls(!0)&&{initialCarouselIndex:parseInt(R,10)-1},{audioSlug:f,enableTruncation:X,initialCommentsQuery:t,isVisible:!0,lightLetterbox:!0,permalinkedCommentId:w,permalinkedReplyId:x,shortcode:K.code,shouldIncreaseCommentPreviews:C,shouldRenderAudioNameAsH2:E,variant:d(\"PolarisConfig\").isLoggedIn?d(\"PolarisPostVariants\").VARIANTS.flexible:d(\"PolarisPostVariants\").VARIANTS.feed,visiblePosition:0,willScrollTo:d(\"PolarisConfig\").isLoggedIn()?\"top\":void 0}));e[15]!==T?($=k.jsx(c(\"PolarisGenericMobileHeader.react\"),{leftActions:V,title:T}),e[15]=T,e[16]=$):$=e[16];e[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(R=k.jsx(c(\"PolarisQPManager.react\"),{slot:\"post\"}),e[17]=R):R=e[17];e[18]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=\"_aa6e\",e[18]=f):f=e[18];e[19]!==W||e[20]!==L.id?(X=k.jsx(c(\"PolarisRelatedMediaDivider.react\"),{hasDiscoveryModule:!1,hasRelatedMedia:W,hasRelatedProfiles:!1,userId:L.id}),e[19]=W,e[20]=L.id,e[21]=X):X=e[21];e[22]!==W||e[23]!==K.id||e[24]!==z||e[25]!==L.id?(t=W&&k.jsx(c(\"PolarisErrorBoundary.react\"),{children:d(\"PolarisConfig\").isLoggedIn()?k.jsx(c(\"PolarisRelatedMediaGridLoggedIn.react\"),{analyticsContext:r,excludePostId:K.id,relatedMediaQuery:z,userId:L.id}):k.jsx(c(\"PolarisRelatedMediaGridLoggedOut.react\"),{analyticsContext:r,excludePostId:K.id,userId:L.id})}),e[22]=W,e[23]=K.id,e[24]=z,e[25]=L.id,e[26]=t):t=e[26];e[27]!==i||e[28]!==K.isAd?(w=k.jsx(s,{fromAdvertiser:i,isAd:K.isAd}),e[27]=i,e[28]=K.isAd,e[29]=w):w=e[29];e[30]!==u||e[31]!==K||e[32]!==S?(x=c(\"isStringNullOrEmpty\")(u)?null:k.jsx(c(\"PolarisLikedByListContainerLazy.react\"),{display:c(\"PolarisLikedByListVariant\").Modal,mediaId:K.id,onClose:S,shortcode:u}),e[30]=u,e[31]=K,e[32]=S,e[33]=x):x=e[33];e[34]!==g||e[35]!==S?(C=c(\"isStringNullOrEmpty\")(g)?null:k.jsx(c(\"PolarisCommentLikedByListContainerLazy.react\"),{commentId:g,display:c(\"PolarisLikedByListVariant\").Modal,onClose:S}),e[34]=g,e[35]=S,e[36]=C):C=e[36];e[37]!==P||e[38]!==L?(E=P&&b(\"cr:4150\")!=null&&k.jsx(b(\"cr:4150\"),{dialogSource:d(\"CAAWebClientLoggingEventSource\").CAAWebClientLoggingDialogSource.POST,triggeringPageType:\"post\",triggeringUser:L}),e[37]=P,e[38]=L,e[39]=E):E=e[39];e[40]!==F||e[41]!==K?(V=F&&k.jsx(c(\"IGDSDialogBackwardsCompatibilityWrapper.react\"),{children:k.jsx(c(\"PolarisEntityQRModalLazy.react\"),{entityID:K.id,onClose:function(){return aa(!1)},source:\"DIRECT_NAVIGATION\"})}),e[40]=F,e[41]=K,e[42]=V):V=e[42];return k.jsxs(c(\"PolarisShell.react\"),{hideHalfSheetUpsell:a,mobileHeader:$,pageIdentifier:r,seoCrawlingPoolQuery:A,children:[k.jsxs(k.Fragment,{children:[d(\"InstagramSEOCrawlBot\").is_allowlisted_crawl_bot===!0?null:k.jsx(c(\"PolarisPageMetadata.react\"),{base:\"\",id:r,title:d(\"polarisGetPostFromGraphMediaInterface\").isClipsPost(K)&&K.title!=null&&K.title.trim()!==\"\"?K.title:c(\"getPolarisTitleForPost\")(K,(T=j)!=null?T:L,h)}),R,k.jsxs(\"div\",{className:\"_aa6b\"+(d(\"PolarisUA\").isDesktop()?\" _ad9f\":\"\")+(d(\"PolarisUA\").isDesktop()&&!W?\" _aa6c\":\"\")+(W?\" _aa6d\":\"\"),\"data-testid\":void 0,children:[k.jsx(\"div\",babelHelpers[\"extends\"]({},U,{className:f,children:Y?k.jsx(c(\"PolarisPostChainingModule.react\"),{analyticsContext:r,enableTruncation:G,excludePostId:K.id,shortcode:K.code,shouldFetchRelatedUsersAsync:(z=B)!=null?z:!1,shouldRenderAllChainedPostsForMobileCrawlers:D,userId:L.id,children:Z}):Z})),X,t,w]}),x,C]}),E,V]})}a.displayName=a.name+\" [from \"+f.id+\"]\";h=d(\"IGRouter.react\").withIGRouter(a);g[\"default\"]=h}),226);\n__d(\"PolarisReduxPostActions\",[\"PolarisAdsActions\",\"PolarisPostActionPostLoadedV2\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){return function(b){return function(c,e){if(b.items!=null){var f=[].concat(b.items),g=f[0];e=new Set(e().ads.feed.keys());if(g!=null&&g.ad_id!=null)return c(d(\"PolarisAdsActions\").adMediaInfoLoaded(g,a));else return c(d(\"PolarisPostActionPostLoadedV2\").postLoadedV2(f,a,e))}}}}g.setupPostPage=a}),98);\n__d(\"PolarisPostPageSetup.react\",[\"ErrorBoundary.react\",\"PolarisConfig\",\"PolarisHttpGatedContentPageWithShell.react\",\"PolarisInstajax\",\"PolarisPostActionLoadPost\",\"PolarisPostPageGatedContentAPIReasonFallback.react\",\"PolarisPostPageRouteReferrerContext.react\",\"PolarisReactRedux.react\",\"PolarisReduxPostActions\",\"react\",\"useGatedContentInfo\",\"usePolarisGetQuery\",\"usePolarisGetQuerySetup\",\"usePolarisPreloadedGetQuery\",\"useRouteReferrer\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;b.useCallback;var j=b.useEffect,k=b.unstable_useMemoCache;function l(a){var b=a.children,e=a.preloadedMediaQuery;a=a.shortcode;e=c(\"usePolarisPreloadedGetQuery\")(e);c(\"usePolarisGetQuerySetup\")(e,d(\"PolarisReduxPostActions\").setupPostPage(a));return b}function m(a){var b=k(14),e=a.children,f=a.ownerId,g=a.postId,h=a.shortcode;a=a.shouldFetchRelatedUsersAsync;var l=a===void 0?!1:a,m=d(\"PolarisReactRedux.react\").useDispatch();a=c(\"usePolarisGetQuery\")(\"\/api\/v1\/web\/get_ruling_for_media_content_logged_out\/\",{query:{media_id:g,owner_id:f}});f=c(\"useGatedContentInfo\")(a);b[0]!==g?(a=function(a){return a.posts.byId.has(g)},b[0]=g,b[1]=a):a=b[1];a=d(\"PolarisReactRedux.react\").useSelector(a);var n,o;b[2]!==m||b[3]!==h||b[4]!==g||b[5]!==l?(n=function(){m(d(\"PolarisPostActionLoadPost\").loadPost(h,g,l))},o=[m,h,g,l],b[2]=m,b[3]=h,b[4]=g,b[5]=l,b[6]=n,b[7]=o):(n=b[6],o=b[7]);j(n,o);if(f!=null){b[8]!==f.blocks_logging_data||b[9]!==f.description||b[10]!==f.session_id||b[11]!==f.title||b[12]!==g?(n=i.jsx(c(\"PolarisHttpGatedContentPageWithShell.react\"),{blocksLoggingData:f.blocks_logging_data,description:f.description,entityId:g,sessionId:f.session_id,title:f.title}),b[8]=f.blocks_logging_data,b[9]=f.description,b[10]=f.session_id,b[11]=f.title,b[12]=g,b[13]=n):n=b[13];return n}return!a?null:e}function n(a){var b,e=k(9),f=a.error;a=a.postId;if(f instanceof d(\"PolarisInstajax\").AjaxError&&((b=f.responseObject)==null?void 0:b.message)===\"geoblock_required\"){e[0]!==f.responseObject.blocks_logging_data||e[1]!==f.responseObject.description||e[2]!==f.responseObject.session_id||e[3]!==f.responseObject.title||e[4]!==a?(b=i.jsx(c(\"PolarisHttpGatedContentPageWithShell.react\"),{blocksLoggingData:f.responseObject.blocks_logging_data,description:f.responseObject.description,entityId:a,sessionId:f.responseObject.session_id,title:f.responseObject.title}),e[0]=f.responseObject.blocks_logging_data,e[1]=f.responseObject.description,e[2]=f.responseObject.session_id,e[3]=f.responseObject.title,e[4]=a,e[5]=b):b=e[5];return b}e[6]!==f||e[7]!==a?(b=i.jsx(c(\"PolarisPostPageGatedContentAPIReasonFallback.react\"),{error:f,postId:a}),e[6]=f,e[7]=a,e[8]=b):b=e[8];return b}function a(a){var b=k(17),e=a.children,f=a.ownerId,g=a.postId,h=a.preloadedMediaQuery,j=a.shortcode;a=a.shouldFetchRelatedUsersAsync;a=a===void 0?!1:a;var o;b[0]!==g?(o=function(a){return i.jsx(n,{error:a,postId:g})},b[0]=g,b[1]=o):o=b[1];o=o;var p=d(\"PolarisConfig\").isLoggedIn()?l:m,q=c(\"useRouteReferrer\")();q=q==null?void 0:q.tracePolicy;var r;b[2]!==q?(r={referrerTracePolicy:q},b[2]=q,b[3]=r):r=b[3];b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==j||b[8]!==a||b[9]!==e?(q=i.jsx(p,{ownerId:f,postId:g,preloadedMediaQuery:h,shortcode:j,shouldFetchRelatedUsersAsync:a,children:e}),b[4]=f,b[5]=g,b[6]=h,b[7]=j,b[8]=a,b[9]=e,b[10]=q):q=b[10];b[11]!==r||b[12]!==q?(p=i.jsx(c(\"PolarisPostPageRouteReferrerContext.react\").Provider,{value:r,children:q}),b[11]=r,b[12]=q,b[13]=p):p=b[13];b[14]!==o||b[15]!==p?(f=i.jsx(c(\"ErrorBoundary.react\"),{fallback:o,children:p}),b[14]=o,b[15]=p,b[16]=f):f=b[16];return f}g[\"default\"]=a}),98);\n__d(\"usePolarisIsEligibleForPostChaining\",[\"PolarisUA\",\"useRouteReferrer\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){var a=c(\"useRouteReferrer\")();if(!d(\"PolarisUA\").isMobile())return!1;return(a==null?void 0:a.navigationType)===\"navigation\"&&(a==null?void 0:a.tracePolicy)===\"polaris.profilePage\"?!1:!1}g[\"default\"]=a}),98);\n__d(\"PolarisPostRoot.react\",[\"PolarisConfig\",\"PolarisKeywordSearchExploreChainingPage.react\",\"PolarisMediaChainingPageContainer.react\",\"PolarisMediaConstants\",\"PolarisPostPage.react\",\"PolarisPostPageSetup.react\",\"PolarisUA\",\"emptyFunction\",\"react\",\"usePolarisCentralizedUpsellState\",\"usePolarisIsEligibleForPostChaining\",\"usePolarisPreloadedGetQuery\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.useRef;function l(a){var b=a.props;a=a.seoCrawlingPoolQuery;var d=b.routeParams,e=d.comment_id;d=d.reply_id;b=b.routeProps;var f=b.audio_slug,g=b.enable_new_title_tag_format,h=b.hide_halfsheet_upsell,j=b.media_id,k=b.media_owner_id,l=b.qr,m=b.should_fetch_related_users_async,n=b.should_increase_comment_previews,o=b.should_render_all_chained_posts_for_mobile_crawlers,p=b.should_render_audio_name_as_h2;b=b.truncation_variant;return i.jsx(c(\"PolarisPostPage.react\"),{audioSlug:f,enableNewTitleTagFormat:g,fromAdvertiser:window.location.hash===\"#advertiser\",hideHalfSheetUpsell:h,likedByShortcode:null,ownerId:k,permalinkedCommentId:e,permalinkedReplyId:d,postId:j,seoCrawlingPoolQuery:a,shouldFetchRelatedUsersAsync:m,shouldIncreaseCommentPreviews:n,shouldRenderAllChainedPostsForMobileCrawlers:o,shouldRenderAudioNameAsH2:p,showQRModal:l,truncationVariant:b})}l.displayName=l.name+\" [from \"+f.id+\"]\";function m(a){var b=a.comments;a=a.related_media;b=c(\"usePolarisPreloadedGetQuery\")(b);var d=k(a.preloadEnabledOnInit||a.preloadEnabledOnNav);d=k(d.current?c(\"usePolarisPreloadedGetQuery\"):c(\"emptyFunction\")).current;d=d(a);return{commentsQuery:b,relatedMediaQuery:d}}function n(a){var b=a.routeParams,e=b.chaining,f=b.comment_id,g=b.q,h=b.reply_id;b=b.shortcode;a=a.routeProps;var j=a.enable_new_title_tag_format,k=a.media_id,l=a.media_owner_id,n=a.media_type,o=a.polaris_preload;a=a.qr;o=m(o);var p=o.commentsQuery;o=o.relatedMediaQuery;n=n!=null?d(\"PolarisMediaConstants\").mapMediaTypeToGraphType(n):null;var q=c(\"usePolarisIsEligibleForPostChaining\")();d(\"PolarisUA\").isMobile()&&g!=null?g=i.jsx(c(\"PolarisKeywordSearchExploreChainingPage.react\"),{keyword:String(g),mediaPostCode:b}):d(\"PolarisUA\").isMobile()&&(e===!0||q)&&n!=null&&n!==\"UNSUPPORTED_MEDIA_TYPE\"?g=i.jsx(c(\"PolarisMediaChainingPageContainer.react\"),{mediaId:k,mediaType:n}):g=i.jsx(c(\"PolarisPostPage.react\"),{enableNewTitleTagFormat:j,fromAdvertiser:window.location.hash===\"#advertiser\",initialCommentsQuery:p,likedByShortcode:null,ownerId:l,permalinkedCommentId:f,permalinkedReplyId:h,postId:k,relatedMediaQuery:o,showQRModal:a});return g}n.displayName=n.name+\" [from \"+f.id+\"]\";function a(a){var b=a.props;a=a.queries;var e=b.routeParams.shortcode,f=b.routeProps,g=f.media_id,h=f.media_owner_id,k=f.polaris_preload;f=f.should_fetch_related_users_async;var m=c(\"usePolarisCentralizedUpsellState\")(),o=m[1];j(function(){o(h)},[o,h]);return i.jsx(c(\"PolarisPostPageSetup.react\"),{ownerId:h,postId:g,preloadedMediaQuery:k.media,shortcode:e,shouldFetchRelatedUsersAsync:f,children:d(\"PolarisConfig\").isLoggedIn()?i.jsx(n,babelHelpers[\"extends\"]({},b)):i.jsx(l,{props:b,seoCrawlingPoolQuery:a.seoCrawlingPoolQuery})})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"OCCastingZenonUtils\",[\"UserAgent\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";b=function(a){return a===\"Connected\"||a===\"Connecting\"};function a(){return c(\"gkx\")(\"25763\")&&(c(\"UserAgent\").isBrowser(\"Chrome for iOS\")||c(\"UserAgent\").isBrowser(\"Mobile Safari\"))}g.hasCallStarted=b;g.isBrowserSupportedForMobileWebCasting=a}),98);\n__d(\"ZenonRTWebBrowserFeatureSupport\",[],(function(a,b,c,d,e,f){\"use strict\";function a(){return typeof window.HTMLCanvasElement===\"function\"&&typeof window.HTMLCanvasElement.prototype.captureStream===\"function\"}function b(){return g(\"getSenders\")}function c(){return typeof window.RTCRtpSender===\"function\"&&typeof window.RTCRtpSender.prototype.replaceTrack===\"function\"}function d(){return typeof window.RTCRtpSender===\"function\"&&typeof window.RTCRtpSender.prototype.createEncodedStreams===\"function\"}function e(){return window.RTCRtpSender&&\"transform\"in RTCRtpSender.prototype}function g(a){return typeof RTCPeerConnection.prototype[a]===\"function\"}f.isCanvasStreamSupported=a;f.isGetSendersSupported=b;f.isReplaceTrackSupported=c;f.isInsertableStreamsSupported=d;f.isInsertableStreamsSupportedInSafari=e}),66);\n__d(\"RTWebIncomingRingConfiguration\",[\"OCCastingZenonUtils\",\"UserAgent\",\"ZenonRTWebBrowserFeatureSupport\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){return c(\"UserAgent\").isBrowser(\"Chrome >= 77\")||c(\"UserAgent\").isBrowser(\"Edge (Chromium Based) >= 79\")||c(\"UserAgent\").isBrowser(\"Opera >= 67\")||c(\"UserAgent\").isBrowser(\"Firefox >= 70\")||c(\"UserAgent\").isBrowser(\"Safari >= 16\")&&c(\"gkx\")(\"24226\")||c(\"UserAgent\").isBrowser(\"Safari >= 15.4\")&&c(\"gkx\")(\"24227\")||c(\"UserAgent\").isBrowser(\"Oculus Browser >= 6\")&&c(\"gkx\")(\"24228\")||d(\"OCCastingZenonUtils\").isBrowserSupportedForMobileWebCasting()}function b(){return c(\"gkx\")(\"23430\")&&d(\"ZenonRTWebBrowserFeatureSupport\").isInsertableStreamsSupported()}g.isSupportedClient=a;g.isE2EESupportedClient=b}),98);\n__d(\"EventListenerImplForCacheStorage\",[\"CometEventListener\"],(function(a,b,c,d,e,f){\"use strict\";f[\"default\"]=b(\"CometEventListener\")}),66);\n__d(\"IGDSVideoChatFilled24Icon.react\",[\"IGDSSVGIconBase.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=j.jsx(\"path\",{d:\"M21.259 5.935q-.401.404-.877.88a2.998 2.998 0 0 0-.88 2.121v6.18a3 3 0 0 0 .878 2.121l.879.881A1.653 1.653 0 0 0 24 16.953V7.101a1.653 1.653 0 0 0-2.742-1.166Zm-7.075-3.408H3.818A3.823 3.823 0 0 0-.001 6.345v11.364a3.823 3.823 0 0 0 3.819 3.818h10.366a3.823 3.823 0 0 0 3.818-3.818V6.345a3.823 3.823 0 0 0-3.818-3.818Z\",fillRule:\"evenodd\"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c(\"IGDSSVGIconBase.react\"),babelHelpers[\"extends\"]({},a,{viewBox:\"0 0 24 24\",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g[\"default\"]=b}),98);\n__d(\"PolarisCallGatingHelpers\",[\"PolarisUA\",\"RTWebIncomingRingConfiguration\",\"gkx\",\"justknobx\",\"qex\"],(function(a,b,c,d,e,f,g){\"use strict\";function h(){return i()||j()?!1:!0}function a(){return c(\"gkx\")(\"24007\")&&c(\"gkx\")(\"24008\")===!0}function i(){return c(\"gkx\")(\"24007\")&&!c(\"gkx\")(\"24008\")===!0}function j(){return!d(\"PolarisUA\").isDesktop()||!d(\"RTWebIncomingRingConfiguration\").isSupportedClient()}function b(){return!h()?!1:c(\"gkx\")(\"25357\")===!0}function e(){return!h()?!1:c(\"gkx\")(\"24013\")===!0}function f(){return!h()?!1:!c(\"justknobx\")._(\"471\")}function k(){return c(\"qex\")._(\"83\")===!0}g.isWebCallingEnabled=h;g.isVerifiedUserAndCallingEnabled=a;g.isWebCallingRingtoneEnabled=b;g.isZenonIncomingRingEnabled=e;g.isIncomingCallEnabled=f;g.isCallsPathMigrationEnabled=k}),98);\n__d(\"XPolarisCallControllerRouteBuilder\",[\"jsRouteBuilder\"],(function(a,b,c,d,e,f,g){a=c(\"jsRouteBuilder\")(\"\/call\/\",Object.freeze({has_video:!0,is_e2ee_mandated:!1,users_to_ring:[]}),void 0);b=a;g[\"default\"]=b}),98);\n__d(\"PolarisCallNavigator\",[\"PolarisAPIHelpers\",\"PolarisCallGatingHelpers\",\"PolarisNavigationUtils\",\"XPolarisCallControllerRouteBuilder\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=\"https:\/\/call.instagram.com\";function a(a,b,e){e===void 0&&(e=null);e=e===\"\"?null:e;var f;d(\"PolarisCallGatingHelpers\").isCallsPathMigrationEnabled()?e!=null?f=c(\"XPolarisCallControllerRouteBuilder\").buildURL({has_video:b,ig_thread_id:a,server_info_data:e}):f=c(\"XPolarisCallControllerRouteBuilder\").buildURL({has_video:b,ig_thread_id:a}):f=d(\"PolarisAPIHelpers\").appendQueryParameters(h,{has_video:b,ig_thread_id:a,server_info_data:e});d(\"PolarisNavigationUtils\").openURLWithFullPageReload(f,{openInNewTab:!0})}g.launchCall=a}),98);\n__d(\"PolarisSwitchAccountsModalLazy.react\",[\"CometPlaceholder.react\",\"IGCoreModal.react\",\"IGDSBox.react\",\"IGDSSpinner.react\",\"JSResourceForInteraction\",\"lazyLoadComponent\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k=c(\"lazyLoadComponent\")(c(\"JSResourceForInteraction\")(\"PolarisSwitchAccountsModal.react\").__setRef(\"PolarisSwitchAccountsModalLazy.react\"));function a(){var a=i(2),b;a[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=j.jsx(c(\"IGCoreModal.react\"),{children:j.jsx(c(\"IGDSBox.react\"),{alignItems:\"center\",height:112,justifyContent:\"center\",position:\"relative\",width:\"100%\",children:j.jsx(c(\"IGDSSpinner.react\"),{size:\"medium\"})})}),a[0]=b):b=a[0];a[1]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=j.jsx(c(\"CometPlaceholder.react\"),{fallback:b,children:j.jsx(k,{})}),a[1]=b):b=a[1];return b}g[\"default\"]=a}),98);\n__d(\"InstagramODSObserver\",[\"BaseEventEmitter\"],(function(a,b,c,d,e,f,g){\"use strict\";a=new(c(\"BaseEventEmitter\"))();b=a;g[\"default\"]=b}),98);\n__d(\"InstagramODSImpl\",[\"InstagramODSObserver\",\"ODS\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=\"instagram\",j={addListener:function(a){c(\"InstagramODSObserver\").addListener(\"event\",a)},incr:function(a,b){b===void 0&&(b=1),(h||(h=d(\"ODS\"))).bumpEntityKey(5588,i,a,b),c(\"InstagramODSObserver\").emit(\"event\",{count:b,key:a})},incr_CAREFUL_WHEN_USE_DYNAMIC_KEY:function(a,b){j.incr(a,b)}};a=j;g[\"default\"]=a}),98);\n__d(\"FbtLogging\",[\"QE2Logger\",\"cr:1094907\",\"cr:1290\",\"cr:8828\"],(function(a,b,c,d,e,f,g){\"use strict\";d(\"QE2Logger\").logExposureForUser(\"fbt_js_performance_testing\");a=b(\"cr:1290\")==null?void 0:b(\"cr:1290\").JHashToSampleRate;c=b(\"cr:1094907\")==null?void 0:b(\"cr:1094907\").logImpression;e=b(\"cr:8828\")==null?void 0:b(\"cr:8828\").logImpressionV2;g.m=a;g.logImpression=c;g.logImpressionV2=e}),98);\n__d(\"CometSuspenseFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1828945\");b=d(\"FalcoLoggerInternal\").create(\"comet_suspense\",a);e=b;g[\"default\"]=e}),98);\n__d(\"IntlQtEventFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1848815\");b=d(\"FalcoLoggerInternal\").create(\"intl_qt_event\",a);e=b;g[\"default\"]=e}),98);\n__d(\"LogJsspStatsFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"6181\");b=d(\"FalcoLoggerInternal\").create(\"log_jssp_stats\",a);e=b;g[\"default\"]=e}),98);\n__d(\"MqttWsClientTypedLoggerLite\",[\"generateLiteTypedLogger\"],(function(a,b,c,d,e,f){\"use strict\";e.exports=b(\"generateLiteTypedLogger\")(\"logger:MqttWsClientLoggerConfig\")}),null);\n__d(\"CacheStorage\",[\"ErrorGuard\",\"ExecutionEnvironment\",\"WebStorage\",\"cr:6943\",\"cr:8958\",\"emptyFunction\",\"err\",\"killswitch\"],(function(a,b,c,d,e,f,g){var h,i,j,k=\"_@_\",l=\"3b\",m=\"CacheStorageVersion\",n={length:0,getItem:a=c(\"emptyFunction\"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||\"\";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c(\"WebStorage\"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c(\"WebStorage\"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c(\"WebStorage\"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c(\"WebStorage\"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||\"\";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix=\"_cs_\";this._exception=null;d&&(this._key_prefix=d);a===\"AUTO\"||!a?d=\"memory\":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c(\"ExecutionEnvironment\"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b(\"cr:6943\").listen(window,\"storage\",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&(c(\"killswitch\")(\"CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS\")?this.clear():this.clearOwnKeys())}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c(\"WebStorage\"))).getLocalStorage()||this._backend.getStore()===(h||(h=c(\"WebStorage\"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c(\"ErrorGuard\"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:\"CacheStorage\"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c(\"err\")(\"writes disabled\");return!1}var g;typeof e===\"string\"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b(\"cr:8958\").stringify(g)):g=b(\"cr:8958\").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c(\"err\")(\"no back end\");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b(\"cr:8958\").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length\/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c(\"ErrorGuard\"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:\"CacheStorage:get\"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b(\"cr:8958\").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c(\"ErrorGuard\"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:\"CacheStorage:remove\"})};d._setVersion=function(){var a=this;(j||(j=c(\"ErrorGuard\"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:\"CacheStorage:setVersion\"})};d.clear=function(){this._backend&&((j||(j=c(\"ErrorGuard\"))).applyWithGuard(this._backend.clear,this._backend,[],{name:\"CacheStorage:clear\"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c(\"ErrorGuard\"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:\"CacheStorage:clearOwnKeys\"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);\n__d(\"WebStorageCleanupReason\",[],(function(a,b,c,d,e,f){\"use strict\";var g=null;function a(){return g}function b(a){g=a}f.getLastCleanupReason=a;f.setLastCleanupReason=b}),66);\n__d(\"MqttUnifiedClientConnectFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1744057\");b=d(\"FalcoLoggerInternal\").create(\"mqtt_unified_client_connect\",a);e=b;g[\"default\"]=e}),98);\n__d(\"MqttUnifiedClientDisconnectFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1744058\");b=d(\"FalcoLoggerInternal\").create(\"mqtt_unified_client_disconnect\",a);e=b;g[\"default\"]=e}),98);\n__d(\"MqttUnifiedClientIncomingPublishFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1744059\");b=d(\"FalcoLoggerInternal\").create(\"mqtt_unified_client_incoming_publish\",a);e=b;g[\"default\"]=e}),98);\n__d(\"MqttUnifiedClientOutgoingPublishFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"1744060\");b=d(\"FalcoLoggerInternal\").create(\"mqtt_unified_client_outgoing_publish\",a);e=b;g[\"default\"]=e}),98);\n__d(\"Base64\",[],(function(a,b,c,d,e,f){var g=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+\/\";function h(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(g.charCodeAt(a>>>18),g.charCodeAt(a>>>12&63),g.charCodeAt(a>>>6&63),g.charCodeAt(a&63))}var i=\">___?456789:;<=_______\\0\\x01\\x02\\x03\\x04\\x05\\x06\\x07\\b\\t\\n\\v\\f\\r\\x0e\\x0f\\x10\\x11\\x12\\x13\\x14\\x15\\x16\\x17\\x18\\x19______\\x1a\\x1b\\x1c\\x1d\\x1e\\x1f !\\\"#$%&'()*+,-.\/0123\";function j(a){a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+\"\\0\\0\".slice(b)).replace(\/[\\s\\S]{3}\/g,h);return a.slice(0,a.length+b-2)+\"==\".slice(b)},decode:function(a){a=a.replace(\/[^A-Za-z0-9+\\\/]\/g,\"\");var b=a.length+3&3;a=(a+\"AAA\".slice(b)).replace(\/....\/g,j);a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(a){throw new Error(\"Not valid UTF-8\")}},encodeObject:function(a){return k.encode(JSON.stringify(a))},decodeObject:function(a){return JSON.parse(k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,a.map(function(a){return g.charCodeAt((a|-(a>63?1:0))&-(a>0?1:0)&63)}))}};a=k;f[\"default\"]=a}),66);\n__d(\"CrossWindowEventEmitter\",[\"CacheStorage\",\"EventEmitter\",\"cr:8958\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=d;e.$CrossWindowEventEmitter1=new(c(\"CacheStorage\"))(\"localstorage\",d+\":\");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(c,d,f){d=c.split(\":\")[1];try{c=b(\"cr:8958\").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return d}(c(\"EventEmitter\"));g[\"default\"]=a}),98);\n__d(\"isFastRefreshEnabledForCurrentDomain\",[],(function(a,b,c,d,e,f){\"use strict\";function a(){return!1}f[\"default\"]=a}),66);\n__d(\"IrisSubscribeCheckerUtils\",[],(function(a,b,c,d,e,f){\"use strict\";function a(){if(typeof window!==\"undefined\"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a===\"m.facebook.com\"||a===\"mobile.facebook.com\"||a===\"mtouch.facebook.com\")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);\n__d(\"MqttEnvWebSocket\",[],(function(a,b,c,d,e,f){\"use strict\";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);\n__d(\"MqttEnv\",[\"MqttEnvWebSocket\",\"clearTimeout\",\"setTimeout\"],(function(a,b,c,d,e,f,g){\"use strict\";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c(\"clearTimeout\")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c(\"setTimeout\").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d(\"MqttEnvWebSocket\").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);\n__d(\"IrisSubscribeChecker\",[\"IrisSubscribeCheckerUtils\",\"MqttEnv\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(){function a(a){this.$1=d(\"MqttEnv\").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d(\"IrisSubscribeCheckerUtils\").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d(\"MqttEnv\").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a===\"\/t_ms\"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a===\"\/messenger_sync_get_diffs\"||a===\"\/messenger_sync_create_queue\")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d(\"MqttEnv\").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?\"no_iris_session_initialConnect\":\"no_iris_session\";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+\".withProvider\"):this.$1.bumpCounter(a+\".withoutProvider\");this.$3===!0?this.$1.bumpCounter(a+\".withTopicSubscribe\"):this.$1.bumpCounter(a+\".withoutTopicSubscribe\")}this.$3===!1&&this.$1.bumpCounter(\"no_iris_topic_subscribe\");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter(\"session_before_topic_subscribe\")};return a}();g[\"default\"]=a}),98);\n__d(\"MqttConnectionHookCollection\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1[\"delete\"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f[\"default\"]=a}),66);\n__d(\"MqttGlobalStreamCounter\",[\"CrossWindowEventEmitter\",\"MqttEnv\",\"uuidv4\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c(\"CrossWindowEventEmitter\"))(\"MqttGlobalStreamCounter\");this.broadcastChannel.addListener(\"count-updated\",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event===\"DELETE\"?a.otherTabs[\"delete\"](b.key):b.event===\"UPDATE\"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c(\"uuidv4\")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:\"DELETE\"};this.broadcastChannel.emitRemote(\"count-updated\",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:\"UPDATE\",value:this.thisTab};this.broadcastChannel.emitRemote(\"count-updated\",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d(\"MqttEnv\").Env.genGk(d(\"MqttEnv\").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);\n__d(\"MqttAnalyticsHook\",[\"MqttEnv\",\"MqttGlobalStreamCounter\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(){function a(){this.$1=d(\"MqttEnv\").Env.getLoggerInstance(),this.$2=d(\"MqttGlobalStreamCounter\").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter(\"session_start\"),d(\"MqttEnv\").Env.isUserLoggedInNow()||this.$1.bumpCounter(\"session_start.logout\")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter(\"ws_connect_attempt\"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter(\"ws_connect_failure\"),this.$1.debugTrace(\"connect\",\"Connect failed existing streams count \"+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter(\"ws_connect_connected\")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter(\"ws_connect_first_success\"),this.$3++,this.$1.bumpCounter(\"ws_connect_success\")};b.onConnectionLost=function(){this.$1.bumpCounter(\"ws_disconnect\")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter(\"ws_publish.\"+a)};b.onMessage=function(a){this.$1.bumpCounter(\"message_arrived.\"+a)};b.onWSFatal=function(){this.$1.bumpCounter(\"ws_fatal\")};b.onPollRequestSent=function(){this.$1.bumpCounter(\"polling_request_send\"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter(\"polling_request_succeed\"),this.$5===0&&this.$1.bumpCounter(\"polling_first_success\"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter(\"lp.message_arrived.\"+a)};b.onPollFinish=function(){this.$1.bumpCounter(\"polling_request_finish\"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter(\"polling_request_failed\"),this.$1.bumpCounter(\"polling_request_failed_\"+a),this.$6++,this.$1.debugTrace(\"PollRequest\",\"Request failed existing streams count \"+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g[\"default\"]=a}),98);\n__d(\"MqttProtocolUtils\",[\"MqttEnv\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join(\"\")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d(\"MqttEnv\").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d(\"MqttEnv\").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d(\"MqttEnv\").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d(\"MqttEnv\").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);\n__d(\"MqttUtils\",[\"MqttEnv\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b){return h(a,\"sid\",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf(\"?\")>0)return a+\"&\"+b+\"=\"+c;else return a+\"?\"+b+\"=\"+c}function c(){return Math.floor(d(\"MqttEnv\").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d(\"MqttEnv\").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error(\"promiseDone\")},0)})}function e(a,b,c,e){var f=!1;d(\"MqttEnv\").Env.setTimeout(function(){f||(f=!0,c(new Error(\"promise timeout\")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(\/%s\/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);\n__d(\"MqttProtocolCodec\",[\"MqttProtocolUtils\",\"MqttUtils\",\"err\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d(\"MqttProtocolUtils\").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d(\"MqttProtocolUtils\").readUInt16BE(a,b);b+=2;var r=d(\"MqttProtocolUtils\").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d(\"MqttProtocolUtils\").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k(\"PINGREQ\");break;case h.PINGRESP:j=new k(\"PINGRESP\");break;case h.PUBACK:case h.UNSUBACK:r=d(\"MqttProtocolUtils\").readUInt16BE(a,b);j=new n(g===h.PUBACK?\"PUBACK\":\"UNSUBACK\",r);break;case h.SUBACK:s=d(\"MqttProtocolUtils\").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c(\"err\")(d(\"MqttUtils\").sprintf(\"Invalid MQTT message type %s.\",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError(\"Cannot abstract class WireMessage\")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,\"DISCONNECT\")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d(\"MqttProtocolUtils\").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,\"SUBACK\")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,\"CONNACK\")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d(\"MqttProtocolUtils\").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d(\"MqttProtocolUtils\").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,\"CONNECT\")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d(\"MqttProtocolUtils\")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d(\"MqttUtils\").sprintf(\"Argument Invalid. qos: %s messageType: %s.\",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d(\"MqttProtocolUtils\").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d(\"MqttProtocolUtils\").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d(\"MqttProtocolUtils\").writeUInt16BE(this.messageIdentifier,f,a));a=d(\"MqttProtocolUtils\").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d(\"MqttProtocolUtils\").UTF8Length(b)));d(\"MqttProtocolUtils\").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d(\"MqttProtocolUtils\").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,\"PUBLISH\")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError(\"Argument Invalid. messageIdentifier: null and qos: 1\");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d(\"MqttProtocolUtils\").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d(\"MqttProtocolUtils\").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d(\"MqttProtocolUtils\").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d(\"MqttProtocolUtils\").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);\n__d(\"MqttTypes\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,\"APP_DISCONNECT\",\"Disconnect initiated by app\"),BROWSER_CLOSE:new a(11,\"BROWSER_CLOSE\",\"Browser closed\"),CONNACK_FAILURE:new a(5,\"CONNACK_FAILURE\",\"Connection failure due to connack\"),CONNECT_TIMEOUT:new a(4,\"CONNECT_TIMEOUT\",\"Connect timed out\"),INVALID_DATA_TYPE:new a(3,\"INVALID_DATA_TYPE\",\"Received non-arraybuffer from socket.\"),PING_TIMEOUT:new a(6,\"PING_TIMEOUT\",\"Ping timeout\"),RECONNECT:new a(10,\"RECONNECT\",\"Reconnecting\"),SERVER_DISCONNECT:new a(8,\"SERVER_DISCONNECT\",\"Disconnect message sent my server\"),SOCKET_CLOSE:new a(9,\"SOCKET_CLOSE\",\"Socket connection closed\"),SOCKET_ERROR:new a(1,\"SOCKET_ERROR\",\"Socket error\"),SOCKET_MESSAGE:new a(2,\"SOCKET_MESSAGE\",\"Unable to parse invalid socket message\")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);\n__d(\"MqttProtocolClient\",[\"MqttEnv\",\"MqttProtocolCodec\",\"MqttProtocolUtils\",\"MqttTypes\",\"err\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter(\"protocol.debug.disconnect.internal.\"+a.errorName);b.$9.bumpCounter(\"protocol.debug.disconnect.internal\");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d(\"MqttEnv\").Env.scheduleCallback(function(){i(a,c)}):d(\"MqttEnv\").Env.scheduleCallback(function(){h(b.$11,new(d(\"MqttTypes\").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter(\"protocol.socket_send.failed.socket_null.<message type>\");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter(\"protocol.socket_send.failed.socket_not_open.<message type>\");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:\"\"};this.$1=\"mqttwsclient\";this.$4=0;this.$5=!1;this.$9=d(\"MqttEnv\").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c(\"err\")(\"Invalid state: connect - already connected\");this.$2=a;this.setConnected(!1);this.$7!=null&&(d(\"MqttEnv\").Env.clearTimeout(this.$7),this.$7=null);this.$7=d(\"MqttEnv\").Env.setTimeout(function(){b.$9.bumpCounter(\"protocol.error.connect.timeout\"),b.$12(d(\"MqttTypes\").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d(\"MqttEnv\").Env.createSocket(this.$3);this.$6.binaryType=\"arraybuffer\";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace(\"Socket-Open\",\"MQTTProtocolClient Socket Open\"),b.$11=b.$13(new(d(\"MqttProtocolCodec\").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter(\"protocol.error.onmessage.type\");b.$12(d(\"MqttTypes\").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d(\"MqttProtocolUtils\").concatBuffers(b.$10,a),b.$9.bumpCounter(\"protocol.debug.usingMessagesBuffer\"),delete b.$10,b.$10=null);a=d(\"MqttProtocolCodec\").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d(\"MqttTypes\").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter(\"protocol.error.onmessage.parse\"),b.$12(d(\"MqttTypes\").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter(\"protocol.error.socket\"),b.$9.debugTrace(\"Socket-Error\",\"MQTTProtocolClient Socket Error\"),b.$12(d(\"MqttTypes\").MqttErrors.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter(\"protocol.socket.close\"),a.wasClean||b.$9.debugTrace(\"Socket-Unclean-Close\",\"MQTTProtocolClient error code: \"+a.code+\" reason: \"+a.reason),b.$12(d(\"MqttTypes\").MqttErrors.SOCKET_CLOSE,a.code+\" : \"+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d(\"MqttProtocolUtils\").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d(\"MqttProtocolCodec\").WireMessage.Ping)(\"PINGREQ\")),function(a,c){return b.$12(d(\"MqttTypes\").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d(\"MqttEnv\").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace(\"Socket Open After Teardown\",\"Socket opening after teardown\")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace(\"Socket Close After Teardown\",\"code: \"+b.code+\", reason: \"+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d(\"MqttProtocolCodec\").WireMessage.Disconnect)());this.$9.bumpCounter(\"protocol.debug.disconnect\");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter(\"protocol.error.subscribe.notconnected\");throw c(\"err\")(\"Invalid state: subscribe - not connected\")}this.$9.bumpCounter(\"protocol.subscribe.\"+a);a=new(d(\"MqttProtocolCodec\").WireMessage.Subscription)(\"SUBSCRIBE\",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter(\"protocol.error.unsubscribe.notconnected\");throw c(\"err\")(\"Invalid state: unsubscribe - not connected\")}this.$9.bumpCounter(\"protocol.unsubscribe.\"+a);a=new(d(\"MqttProtocolCodec\").WireMessage.Subscription)(\"UNSUBSCRIBE\",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d(\"MqttProtocolCodec\").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d(\"MqttProtocolCodec\").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter(\"protocol.error.publish.notconnected\");this.$9.bumpCounter(\"protocol.publish.\"+a);var e=this.$15();a=new(d(\"MqttProtocolCodec\").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d(\"MqttProtocolCodec\").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d(\"MqttEnv\").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d(\"MqttProtocolCodec\").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter(\"protocol.error.connack.invalidreturncode\");this.setConnected(!1);this.$12(d(\"MqttTypes\").MqttErrors.CONNACK_FAILURE,\"connack code=\"+e.returnCode,e.returnCode);return}d(\"MqttEnv\").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.PUBLISH:if(a instanceof d(\"MqttProtocolCodec\").WireMessage.Publish){var f=a;d(\"MqttEnv\").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter(\"protocol.publish.received\");if(f.qos===1&&e!=null){e=new(d(\"MqttProtocolCodec\").WireMessage.PubAckUnsubAck)(\"PUBACK\",e);this.$13(e)}}break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.PUBACK:if(a instanceof d(\"MqttProtocolCodec\").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter(\"protocol.puback.received\");d(\"MqttEnv\").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.DISCONNECT:this.$12(d(\"MqttTypes\").MqttErrors.SERVER_DISCONNECT);break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter(\"protocol.suback.received\");break;case d(\"MqttProtocolCodec\").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter(\"protocol.unsuback.received\");break;default:this.$9.logError(c(\"err\")(\"MqttProtocolClient: Received unhandled message type: \"+a.messageType),\"Received unhandled message type\");this.$9.bumpCounter(\"protocol.error.handlemessage.unsupportedtype\");break}};return a}();g[\"default\"]=a}),98);\n__d(\"MqttPublishListener\",[],(function(a,b,c,d,e,f){\"use strict\";a=Object.freeze({NOT_CONNECTED:\"NOT_CONNECTED\",PUBLISH_ERROR:\"PUBLISH_ERROR\",QUEUED:\"QUEUED\",SENT:\"SENT\",ACKED:\"ACKED\",NOT_ACKED:\"NOT_ACKED\"});f.MqttPublishEvent=a}),66);\n__d(\"MqttUserNameUtils\",[\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){if(c(\"gkx\")(\"21096\"))return!1;return a!=null?a:typeof document===\"object\"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}g.getMqttForegroundStatus=a;g.getUserAgent=b}),98);\n__d(\"MqttUserName\",[\"MqttUserNameUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l){h===void 0&&(h=null),i===void 0&&(i=\"\"),j===void 0&&(j=\"websocket\"),k===void 0&&(k=null),l===void 0&&(l=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d(\"MqttUserNameUtils\").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d(\"MqttUserNameUtils\").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!==\"string\"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d(\"MqttUserNameUtils\").getUserAgent(),aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:\"\",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:\"\",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g[\"default\"]=a}),98);\n__d(\"MqttConnection\",[\"MqttConnectionHookCollection\",\"MqttEnv\",\"MqttProtocolClient\",\"MqttPublishListener\",\"MqttTypes\",\"MqttUserName\",\"MqttUtils\",\"Promise\",\"err\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=15,j=15,k=1,l=1,m=64,n=\"publish\",o=\"subscribe\",p=\"unsubscribe\",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d(\"MqttEnv\").Env.getLoggerInstance();this.$11=\"Disconnected\";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5=\"\";this.$6=new(c(\"MqttUserName\"))(\"\",0,1,\"\",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c(\"MqttConnectionHookCollection\"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace(\"run\",\"Run called while in running state.\");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30(\"shutdown\"),this.$8=!1,this.$10.debugTrace(\"shutdown\",\"Shutdown\")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b(\"Promise\")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.NOT_CONNECTED),i.reject(c(\"err\")(\"Client disconnected\"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17[\"delete\"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected(\"canPublish\")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case\"Connecting\":case\"TransportConnected\":return\"Connecting\";case\"Connected\":return\"Connected\";case\"Disconnected\":return\"Disconnected\"}throw c(\"err\")(\"Unknown state \"+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35(\"Disconnected\"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11===\"Connected\"&&a===\"Disconnected\"&&this.$18===0){this.$18=Date.now();return}if(a===\"Connecting\"&&this.$18!==0&&!this.$19){this.$10.bumpCounter(\"protocol.reconnectstarted\");this.$19=!0;return}if(a===\"Connected\"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a\/3e4)){case 0:this.$10.bumpCounter(\"protocol.reconnectedwithin30s\");break;case 1:this.$10.bumpCounter(\"protocol.reconnectedwithin60s\");break;case 2:this.$10.bumpCounter(\"protocol.reconnectedwithin90s\");break;case 3:this.$10.bumpCounter(\"protocol.reconnectedwithin120s\");break;default:this.$10.bumpCounter(\"protocol.reconnectedmorethan120s\");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace(\"MQTTConnection-updateState\",\"State changed to: \"+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!==\"Disconnected\"&&this.$10.debugTrace(\"Reconnect\",\"Current State not disconnected: \"+this.$11);this.$35(\"Connecting\");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d(\"MqttUtils\").generateSessionId();var f=Array.from(this.$17),g=d(\"MqttUtils\").endpointWithSessionId(this.$5,this.$9);g=d(\"MqttUtils\").endpointWithExtraParameter(g,\"cid\",this.$6.getDeviceId());try{this.$7=new(c(\"MqttProtocolClient\"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter(\"protocol.connectattempt\"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.connectattempt\"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter(\"js_error_in_init_exception\"),this.$35(\"Disconnected\"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,\"init error - \"+a.message),a&&this.$10.logErrorWarn(a,\"ws_js_error\"),this.$27.onWSFatal(),this.$47(new(d(\"MqttTypes\").MqttChannelError)(!1,\"ws_js_error\",a),\"client_init\")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace(\"#doSubscribe\",\"Subscribing to \"+a);this.$27.onSubscribe(a);this.$10.bumpCounter(\"protocol.subscribe\");return!0}}catch(b){this.$10.logError(b,\"Exception subscribing\"),this.$10.bumpCounter(\"subscribe_exception.\"+a),this.$10.bumpCounter(\"protocol.subscribe.error\")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace(\"#doUnsubscribe\",\"Unsubscribing to \"+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter(\"protocol.unsubscribe\");return!0}}catch(b){this.$10.logError(b,\"Exception unsubscribing\"),this.$10.bumpCounter(\"unsubscribe_exception.\"+a),this.$10.bumpCounter(\"protocol.unsubscribe.error\")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b===\"string\"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter(\"protocol.publish\");b=f!=null?f:\"null\";this.$10.debugTrace(\"#doPublish\",\"publish \"+a+\" with messageId:\"+b+\" qos:\"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter(\"publish.ack_expected\"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,\"Exception publishing\");this.$10.bumpCounter(\"publish_exception.\"+a);e.reject(b);this.$10.bumpCounter(\"protocol.publish.error\");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d(\"MqttTypes\").MqttErrors.RECONNECT);this.$30(\"reconnect\");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d(\"MqttEnv\").Env.random()*200);this.$10.debugTrace(\"#scheduleReconnect\",\"Reconnect in \"+a+\" ms\");this.$22=d(\"MqttEnv\").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter(\"short_lived_session\");c&&this.$10.bumpCounter(\"connection_attempt_limit\")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+\" - \"+h:i.errorMessage;this.$10.debugTrace(\"connect\",\"Connect failed \"+h);this.$10.bumpCounter(\"protocol.onconnectfailure\");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.onconnectfailure\");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter(\"protocol.connect_failure.\"+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter(\"protocol.onconnection\");this.$10.debugTrace(\"Connect\",\"Socket established\");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.onconnection\");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35(\"TransportConnected\")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter(\"protocol.onconnectsuccess\"),this.$10.debugTrace(\"connect\",\"Connect success\"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.onconnectsucess\"),this.$27.onConnectSuccess(),this.$26=!0,this.$35(\"Connected\"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter(\"protocol.onconnectionlost\");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+\" - \"+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace(\"connect\",\"connection lost\");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.onconnectionlost\");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter(\"protocol.onmessagearrived\");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter(\"guestAuthentication.onmessagearrived\");this.$10.debugTrace(\"onMessageArrived\",\"Message received on \"+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,\"Listener threw error\"),this.$10.bumpCounter(\"listener_error.\"+a)}};e.$45=function(a){this.$10.bumpCounter(\"protocol.onmessagedelivered\");var b=a!=null?a:\"null\";this.$10.debugTrace(\"onMessageDelivered\",\"Delivered Message {ID: \"+b+\"}\");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter(\"protocol.message_with_unknown_id\");return}this.$24[\"delete\"](a);(a=b.listener)==null?void 0:a.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter(\"publish.ack_received\")};e.$30=function(a){this.$10.bumpCounter(\"protocol.fail_all_unacked_publishes.\"+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.NOT_ACKED);b.reject(c(\"err\")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter(\"js_error_in_init\");this.$10.bumpCounter(b+\".error\");this.$25=!0;var c=a?a.message:\"error\";this.$10.debugTrace(\"onError\",b+\": \"+c);this.$2(a)}catch(a){this.$10.bumpCounter(\"js_error_in_error_logging\"),this.$10.logError(a,\"JS error while trying to log previous error\")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g[\"default\"]=a}),98);\n__d(\"MqttWebSocketUtils\",[],(function(a,b,c,d,e,f){\"use strict\";function b(){return\"WebSocket\"in a&&a.WebSocket!=null&&\"CLOSING\"in a.WebSocket.prototype}f.hasWSSupport=b}),66);\n__d(\"MqttChannel\",[\"ChannelClientID\",\"IrisSubscribeChecker\",\"MetaConfig\",\"MqttAnalyticsHook\",\"MqttConnection\",\"MqttEnv\",\"MqttPublishListener\",\"MqttTypes\",\"MqttUserName\",\"MqttUtils\",\"MqttWebSocketUtils\",\"Promise\",\"Run\",\"err\",\"isFastRefreshEnabledForCurrentDomain\",\"promiseDone\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?\"\":n;var o=a.clientType;o=o===void 0?\"websocket\":o;var p=a.deviceId;p=p===void 0?c(\"ChannelClientID\").getID():p;var q=a.pageId;q=q===void 0?null:q;a=a.assetIds;a=a===void 0?null:a;this.$11=d(\"MqttEnv\").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c(\"MqttUserName\"))(g,j,k,p,h,l,m,n,o,q,a);this.$1=e;this.$2=f;this.$5=\"Disconnected\";this.$7=\"LPInactive\";this.$6=\"Disconnected\";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c(\"MqttConnection\"))();this.$13=null;this.$16=new(c(\"MqttAnalyticsHook\"))();this.$15=new Map();this.$14=[];if(!d(\"MqttEnv\").Env.isUserLoggedInNow()&&!c(\"isFastRefreshEnabledForCurrentDomain\")()&&(m==null||m==\"\")){this.$11.bumpCounter(\"logged_out_init\");return}this.$10.addHook(this.$16);this.$10.addHook(new(c(\"IrisSubscribeChecker\"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19(\"run\",\"Connection started calling run again\");return}if(d(\"MqttEnv\").Env.genGk(d(\"MqttEnv\").MqttGkNames.mqtt_ws_polling_enabled))if(c(\"MetaConfig\")._(\"15\")){this.$19(\"MqttChannel\",\"Websocket disabled, will do long polling only\");return}else if(!d(\"MqttWebSocketUtils\").hasWSSupport()){this.$19(\"MqttChannel\",\"Websocket Unavailable, will do long polling only\");this.$11.bumpCounter(\"ws_unavailable_polling\");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d(\"Run\").onUnload(function(){a.$25(d(\"MqttTypes\").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d(\"MqttTypes\").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d(\"MqttUtils\").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b(\"Promise\")))(function(a,b){f.resolve=a,f.reject=b}),i=d(\"MqttEnv\").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()===\"Connecting\"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d(\"MqttUtils\").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d(\"MqttUtils\").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b===\"string\"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k=\"lp\",f!=null&&(j=j.then(function(){return f.onEvent(d(\"MqttPublishListener\").MqttPublishEvent.SENT)})),this.$11.bumpCounter(\"try_publish_lp\")):(typeof b===\"string\"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k=\"ws\",this.$11.bumpCounter(\"try_publish_ws\"));c(\"promiseDone\")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19(\"MqttChannel\",\"registerExtraConnectPayloadProvider called\");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload===\"string\"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4[\"delete\"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8[\"delete\"](a),this.$9[\"delete\"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d(\"MqttEnv\").Env.clearTimeout(b.timeoutId);this.$15[\"delete\"](a)};e.$31=function(a){var b=this;return d(\"MqttEnv\").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter(\"publish_timeout.\"+e);b.$11.debugTrace(\"publish_timeout\",\"Timeout publishing topic: \"+e+\" publishToken: \"+a);b.$34(a);d.ack.reject(c(\"err\")(\"Publish Timed Out\"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace(\"publish_success\",\"Topic: \"+a.topic+\" publishToken: \"+a.publishToken);this.$11.bumpCounter(\"publish_success.\"+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace(\"_onMessageReceived\",a+\" being dropped, no listeners\");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,\"Listener exception\"),this.$11.bumpCounter(\"listener_error\")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!g)this.$11.debugTrace(\"_onMessageReceived\",a+\" being dropped, no binary listeners\");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,\"Binary Listener exception\"),this.$11.bumpCounter(\"listener_error\")}}};e.$21=function(a){if(d(\"MqttEnv\").Env.genGk(d(\"MqttEnv\").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter(\"recoverable_error_skipped\"):this.$11.bumpCounter(\"unrecoverable_error_skipped\");return}a.isRecoverable?this.$11.bumpCounter(\"recoverable_error_not_skipped\"):this.$11.bumpCounter(\"unrecoverable_error_not_skipped\");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter(\"publish_from_temp_buffer.\"+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter(\"publish_from_buffer.\"+b.topic)})};e.$23=function(a){a===\"Connecting\"?(this.$14.forEach(function(a){a.ack.reject(c(\"err\")(\"Client Reconnecting - \"+a.topic))}),this.$14=[]):a===\"TransportConnected\"&&this.$37(),this.$19(\"_changeState\",\"Connection state = \"+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19(\"_changeLPStatus\",\"LP status = \"+a+\", LP Request status = \"+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c=\"Connected\");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,\"ConnectPayload provider exception\"),a.$11.bumpCounter(\"connectPayloadProvider_error\")}});return b};e.$18=function(){var a=this;d(\"MqttEnv\").Env.genGk(d(\"MqttEnv\").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=\"\"&&c(\"requireDeferred\")(\"MqttLongPollingRunner\").__setRef(\"MqttChannel\").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace(\"MqttChannel\",\"longPollingRunner loaded\")})};e.$19=function(a,b){this.$11.debugTrace(a,\"Mqtt channel: \"+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g[\"default\"]=a}),98);\n__d(\"MqttConfig\",[\"MqttWebConfig\"],(function(a,b,c,d,e,f,g){\"use strict\";g[\"default\"]=c(\"MqttWebConfig\")}),98);\n__d(\"MqttEnvConfigStorage\",[\"WebStorage\"],(function(a,b,c,d,e,f,g){var h,i=\"mqtt:\";function a(a,b){var d=(h||(h=c(\"WebStorage\"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c(\"WebStorage\"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c(\"WebStorage\"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);\n__d(\"MqttLogger\",[\"ChannelClientID\",\"FBLogger\",\"LogHistory\",\"MetaConfig\",\"MqttEnv\",\"MqttGlobalStreamCounter\",\"MqttUnifiedClientConnectFalcoEvent\",\"MqttUnifiedClientDisconnectFalcoEvent\",\"MqttUnifiedClientIncomingPublishFalcoEvent\",\"MqttUnifiedClientOutgoingPublishFalcoEvent\",\"MqttWsClientTypedLoggerLite\",\"NetworkStatus\",\"ODS\",\"Random\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=c(\"MetaConfig\")._(\"99\"),j=\"mqtt_client\",k=100,l=\"WEBSOCKET\",m=typeof window!==\"undefined\"?window:self,n=null,o={CLIENT_ERROR:\"mqtt_client_error\",CONNECT:\"mqtt_client_connect\",DISCONNECT:\"mqtt_client_disconnect\",PUBLISH:\"mqtt_client_publish\",PUBLISH_TIMEOUT:\"mqtt_qos1_publish_timeout\",SOCKET_DISCONNECT:\"mqtt_protocol_error\"},p={CONNECT:\"connect\",DISCONNECT:\"disconnect\",INCOMING_PUBLISH:\"incoming_publish\",OUTGOING_PUBLISH:\"outgoing_publish\"};a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=d(\"LogHistory\").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c(\"ChannelClientID\").getID(),this.$6(),this.$5=d(\"MqttGlobalStreamCounter\").getInstance(),this.$5.isEnabled()||(this.$5=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;f=f?\"success\":\"failed\";this.bumpCounter(o.CONNECT+\".\"+f);f=r\/(r+j);r=n&&this.getBrowserConnectivity();var s={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:f.toString(),device_id:this.$4,hostname:k},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(j=this.$5)==null?void 0:j.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c(\"MqttUnifiedClientConnectFalcoEvent\").log(function(){return s})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d(\"MqttEnv\").Env.isUserLoggedInNow(),session_id:g};this.$8(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d(\"MqttEnv\").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$8(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:\"Disconnected\",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(b=this.$5)==null?void 0:b.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c(\"MqttUnifiedClientDisconnectFalcoEvent\").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+\".\"+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$7(function(){c(\"MqttUnifiedClientIncomingPublishFalcoEvent\").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a==\"\/webrtc\"||a==\"\/rtc_multi\";this.$9(function(){c(\"MqttUnifiedClientOutgoingPublishFalcoEvent\").log(function(){return h})},50,b)};b.logError=function(a,b){d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){try{c(\"FBLogger\")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){try{c(\"FBLogger\")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d(\"Random\").coinflip(k))return;d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d(\"ODS\"))).bumpEntityKey(2966,\"mqtt_ws_client\",b.$2+\".\"+a,k),(h||(h=d(\"ODS\"))).bumpEntityKey(2966,\"mqtt_ws_client\",a,k)})};b.$8=function(a,b,e){var f=this;d(\"MqttEnv\").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$10();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c(\"MqttWsClientTypedLoggerLite\").log(b)})};b.$9=function(a,b,c){i&&b!==0?c=c||d(\"Random\").coinflip(b):c=!0;c&&d(\"MqttEnv\").Env.scheduleCallback(a)};b.$7=function(a){this.$9(a,0,!1)};b.$10=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c(\"NetworkStatus\").isOnline()};b.$6=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter(\"browser_disconnect\")};c(\"NetworkStatus\").onChange(b)}};return a}();g[\"default\"]=a}),98);\n__d(\"MqttEnvGk\",[\"MqttEnv\",\"MqttLogger\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){switch(a){case d(\"MqttEnv\").MqttGkNames.mqtt_waterfall_log_client_sampling:return c(\"gkx\")(\"21119\");case d(\"MqttEnv\").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d(\"MqttEnv\").MqttGkNames.mqtt_lp_use_fetch:return c(\"gkx\")(\"21120\");case d(\"MqttEnv\").MqttGkNames.mqtt_fast_lp:return c(\"gkx\")(\"21121\");case d(\"MqttEnv\").MqttGkNames.mqtt_lp_no_delay:return c(\"gkx\")(\"21122\");case d(\"MqttEnv\").MqttGkNames.mqtt_enable_publish_over_polling:return c(\"gkx\")(\"21123\");case d(\"MqttEnv\").MqttGkNames.mqttweb_global_connection_counter:return c(\"gkx\")(\"21124\");default:c(\"MqttLogger\").getInstance().logError(new Error(\"unknown gk\"),\"Unknown GK value \"+a);return!1}}g[\"default\"]=a}),98);\n__d(\"MqttEnvInitializer\",[\"CurrentMessengerUser\",\"MqttEnv\",\"MqttEnvConfigStorage\",\"MqttEnvGk\",\"MqttLogger\",\"Random\",\"clearTimeout\",\"setTimeoutAcrossTransitions\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){d(\"MqttEnv\").Env.initialize(c(\"Random\").random,d(\"CurrentMessengerUser\").isLoggedInNow,c(\"clearTimeout\"),c(\"setTimeoutAcrossTransitions\"),function(){return c(\"MqttLogger\").getInstance()},c(\"MqttEnvGk\"),null,null,null,d(\"MqttEnvConfigStorage\").configRead,d(\"MqttEnvConfigStorage\").configWrite)}b={genGk:c(\"MqttEnvGk\"),initialize:a};g[\"default\"]=b}),98);\n__d(\"FBMqttChannel\",[\"MqttChannel\",\"MqttConfig\",\"MqttEnvInitializer\"],(function(a,b,c,d,e,f,g){\"use strict\";c(\"MqttEnvInitializer\").initialize();b=new(c(\"MqttChannel\"))({appId:(a=c(\"MqttConfig\")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g[\"default\"]=b}),98);\/*FB_PKG_DELIM*\/\n__d(\"MAWRestoreRewriteUtils\",[\"gkx\",\"qex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=function(){return c(\"qex\")._(\"656\")===!0};a=function(){return h()||c(\"gkx\")(\"23928\")};g.isOneDBEnabled=h;g.shouldUseRestoreLLA=a}),98);\n__d(\"WAFixedSizeMap\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1[\"delete\"](b),this.$2[\"delete\"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a}),66);\n__d(\"MAWJobActionsV2\",[\"MAWTransactionMode\",\"Promise\",\"WAFixedSizeMap\",\"WAHex\",\"WATimeUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a){return new(h||(h=b(\"Promise\")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b(\"Promise\")))(function(b,f){var g=a(d(\"MAWTransactionMode\").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a[\"continue\"]()};g.onerror=function(a){return f(a)}})}var l=new(d(\"WAFixedSizeMap\").FixedSizeMap)({max:100});function a(a,c){var e,f=c.args,g=c.scheduleConfig,i=c.type,l=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([i,(e=l)!=null?e:d(\"WAHex\").randomHex(32)]);var n={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d(\"WATimeUtils\").unixTime(),step:\"$unstarted\",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:i,uniqKey:e,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)===\"function\")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(l!=null)return k(a,\"uniqKey\",e).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!==\"$finished\"?e=b:d.push(m(a,b.jobId))});return(h||(h=b(\"Promise\"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()[\"delete\"](b))}function c(a,b){return j(a().get(b))}function e(a,b){return j(a().put(b))}function f(a){return j(a().getAll())}function n(a){try{return i(a().clear()).then(function(){})}catch(a){if(a.name===\"NotFoundError\")return(h||(h=b(\"Promise\"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f;g.clearJobs=n}),98);\n__d(\"WAGetHashFromProtocolMsgId\",[],(function(a,b,c,d,e,f){\"use strict\";function a(a){return a.externalId+\"_\"+a.author+\"_\"+a.chat}f.getHashFromProtocolMsgId=a}),66);\n__d(\"MAWEBUploadTrackingUtils\",[\"MAWAckLevel\",\"MAWEBSwitch\",\"MAWExternalId\",\"MAWMsgType\",\"MAWQplProxy\",\"WAGetHashFromProtocolMsgId\",\"WAGlobals\",\"WAHashStringToNumber\",\"qpl\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=!1;function a(){h=!0}function i(a,b,e,f,g){g===void 0&&(g=!1);if(!c(\"MAWEBSwitch\").isEnabled())return;d(\"MAWQplProxy\").startQplUserFlow(c(\"qpl\")._(521480745,\"830\"),{bool:{eb_switch:c(\"MAWEBSwitch\").isEnabled(),eb_upload_queue:d(\"WAGlobals\").getConfig().useEbUploadQueue(),fromUploadQueue:g,middleware_init:h},string:{externalId:a,msgType:b,triggerType:e}},f);j(f,\"upload_tracking_started\")}function j(a,b,e){d(\"MAWQplProxy\").sendQplPointThroughBridge(c(\"qpl\")._(521480745,\"830\"),b,{annotations:e,instanceKey:a})}function b(a,b,e){j(a,\"upload_tracking_failed\"),d(\"MAWQplProxy\").sendQPLFailThroughBridge(c(\"qpl\")._(521480745,\"830\"),b,e,a)}function e(a,b,e){j(a,b,e),d(\"MAWQplProxy\").sendQPLSuccessThroughBridge(c(\"qpl\")._(521480745,\"830\"),void 0,a)}var k=new Map();function l(){return d(\"WAHashStringToNumber\").hashStringToNumber(d(\"MAWExternalId\").generateExternalId())}function m(a,b){b===void 0&&(b=0);return d(\"WAHashStringToNumber\").hashStringToNumber(d(\"WAGetHashFromProtocolMsgId\").getHashFromProtocolMsgId(a)+\"_\"+d(\"WAGlobals\").getMyDeviceJid()+\"_\"+b)}function f(a,b,c,e){c===void 0&&(c=0);if(!d(\"WAGlobals\").getConfig().useEbUploadQueue())return;c=m(a,c);i(a.externalId,e,b,c,!0)}function n(a){return c(\"MAWEBSwitch\").isEnabled()&&d(\"MAWMsgType\").isEBSupportedMsgType(a.type)&&a.ack>=d(\"MAWAckLevel\").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}function o(a,b){if(!n(a))return;p(a.externalId,a.type,b)}function p(a,b,c){var d=q(a);d!=null&&i(a,b,c,d)}function q(a){if(k.get(a)!=null)return null;var b=l();k.set(a,b);return b}function r(){var a=new Map(k);k.clear();return a}function s(a){a=k.get(a);return a!=null?a:null}g.setMiddlewareInitRan=a;g.startUploadTracking=i;g.addPoint=j;g.endFail=b;g.endSuccess=e;g.genInstanceKeyOnly=l;g.genInstanceKeyForUploadQueue=m;g.maybeStartTrackingForUploadQueue=f;g.isUploadSupported=n;g.maybeStartTrackingForMiddleware=o;g.startTrackingForMiddleware=p;g.genInstanceKeyForMiddleware=q;g.cloneAndClearInstanceMap=r;g.removeInstanceKey=s}),98);\n__d(\"MAWEncryptedBackupsStateManager\",[\"MAWEBSwitch\",\"MAWEBUploadTrackingUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){switch(a){case 1:return;case 3:c(\"MAWEBSwitch\").set(!0);return;case 2:case 4:default:c(\"MAWEBSwitch\").set(!1);h();return}}function h(){d(\"MAWEBUploadTrackingUtils\").cloneAndClearInstanceMap().forEach(function(a,b){d(\"MAWEBUploadTrackingUtils\").endSuccess(a,\"upload_tracking_cancelled_eb_turned_off\",{string:{externalId:b,from:\"backup state turned off\"}})})}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);\n__d(\"MAWXMAUtils\",[\"MAWMsgType\",\"WAArmadilloXMA.pb\",\"WALogger\",\"WATimeUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";function h(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Hit Unreachable XMAType \",\" - checking isXMAShare\"]);h=function(){return a};return a}function a(a){return!a||a.type!==d(\"MAWMsgType\").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return!0;case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return!1;case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:d(\"WALogger\").ERROR(h(),a);return!1}}function c(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function e(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function f(a){return a==null?!1:a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function i(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function j(a,b){return a!=null&&a||b!=null&&b<d(\"WATimeUtils\").unixTime()}function k(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function l(a){return babelHelpers[\"extends\"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function m(a){return babelHelpers[\"extends\"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function n(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY}function o(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function p(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION}function q(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function r(a){return a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function s(a){switch(a){case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d(\"WAArmadilloXMA.pb\").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAStoryShare=c;g.isXMAExternalLinkShare=e;g.isIGXMAStoryShare=f;g.isXMAPostPrivateReply=i;g.isXMAExpired=j;g.removeCTAsForStoryMentionXMA=k;g.buildUnstoredTombstonedXMA=l;g.buildTombstonedDbXMA=m;g.isXMAStoryReply=n;g.isXMAStoryReaction=o;g.isXMAStoryMention=p;g.isIGXMAPostShare=q;g.isXMAStoryHighlightShare=r;g.isRtcXMA=s}),98);\n__d(\"MAWLocalizationType\",[],(function(a,b,c,d,e,f){\"use strict\";a=\"emptySnippet\";b=\"currentUserCreatedGroup\";c=\"participantCreatedGroup\";d=\"unknownUserCreatedGroup\";e=\"currentUserNamedGroup\";var g=\"unkonwnUserNamedGroup\",h=\"participantNamedGroup\",i=\"currentUserAddedDevice\",j=\"participantAddedDevice\",k=\"currentUserRemovedDevice\",l=\"participantRemovedDevice\",m=\"currentUserUpdatedDevice\",n=\"participantUpdatedDevice\",o=\"currentUserAddedOneParticipant\",p=\"currentUserAddedTwoParticipant\",q=\"currentUserAddedMoreThanTwoParticipant\",r=\"participantAddedYou\",s=\"participantAddedYouAndOneUser\",t=\"participantAddedYouAndMoreThanOneUsers\",u=\"unknowUserAddedYou\",v=\"unknowUserAddedYouAndOneUser\",w=\"unknowUserAddedYouAndMoreThanOneUser\",x=\"unknownUserAddedOneUser\",y=\"unknownUserAddedTwoUser\",z=\"unknownUserAddedMoreThanTwoUser\",A=\"participantAddedOneUser\",B=\"participantAddedTwoUser\",C=\"participantAddedMoreThanTwoUser\",D=\"currentUserRemovedOneParticipant\",E=\"currentUserRemovedTwoParticipant\",F=\"currentUserRemovedMoreThanTwoParticipant\",G=\"participantRemovedYou\",H=\"participantRemovedYouAndOneUser\",I=\"participantRemovedYouAndMoreThanOneUsers\",J=\"unknowUserRemovedYou\",K=\"unknowUserRemovedYouAndOneUser\",L=\"unknowUserRemovedYouAndMoreThanOneUser\",M=\"unknownUserRemovedOneUser\",N=\"unknownUserRemovedTwoUser\",aa=\"unknownUserRemovedMoreThanTwoUser\",ba=\"participantRemovedOneUser\",ca=\"participantRemovedTwoUser\",da=\"participantRemovedMoreThanTwoUser\",ea=\"participantLeftGroup\",fa=\"currentUserLeftGroup\",ga=\"currentUserGotPromoted\",ha=\"currentUserGotDemoted\",ia=\"participantGotPromoted\",ja=\"participantGotDemoted\",ka=\"participantPromotedYou\",la=\"participantDemotedYou\",ma=\"currentUserPromotedParticipant\",na=\"currentUserDemotedParticipant\",oa=\"participantDemotedParticipant\",pa=\"participantPromotedParticipant\",qa=\"participantSelfDemoted\",ra=\"currentUserSelfDemoted\",O=\"currentUserSendText\",P=\"currentUserSendImage\",Q=\"currentUserSendVideo\",R=\"currentUserSendAudio\",S=\"currentUserSendGif\",sa=\"currentUserSendSticker\",ta=\"participantSendText\",ua=\"participantSendTextInGroup\",va=\"participantSendImage\",wa=\"participantSendVideo\",xa=\"participantSendAudio\",ya=\"participantSendGif\",za=\"participantSendSticker\",Aa=\"unavailableSnippet\",Ba=\"twoUsersConnected\",Ca=\"twoUsersConnectedOneMSplit\",Da=\"reachabilityError\",T=\"unknownUserEphemeralSettingTurnedOnSeconds\",Ea=\"unknownUserEphemeralSettingTurnedOnMinutes\",Fa=\"unknownUserEphemeralSettingTurnedOnHours\",Ga=\"unknownUserEphemeralSettingTurnedOnDays\",Ha=\"youEphemeralSettingTurnedOnSeconds\",Ia=\"youEphemeralSettingTurnedOnMinutes\",Ja=\"youEphemeralSettingTurnedOnHours\",Ka=\"youEphemeralSettingTurnedOnDays\",La=\"participantEphemeralSettingTurnedOnSeconds\",Ma=\"participantEphemeralSettingTurnedOnMinutes\",Na=\"participantEphemeralSettingTurnedOnHours\",Oa=\"participantEphemeralSettingTurnedOnDays\",Pa=\"unknownUserEphemeralSettingChangeSeconds\",Qa=\"unknownUserEphemeralSettingChangeMinutes\",Ra=\"unknownUserEphemeralSettingChangeHours\",Sa=\"unknownUserEphemeralSettingChangeDays\",Ta=\"youEphemeralSettingChangeSeconds\",Ua=\"youEphemeralSettingChangeMinutes\",Va=\"youEphemeralSettingChangeHours\",Wa=\"youEphemeralSettingChangeDays\",Xa=\"participantEphemeralSettingChangeSeconds\",Ya=\"participantEphemeralSettingChangeMinutes\",Za=\"participantEphemeralSettingChangeHours\",$a=\"participantEphemeralSettingChangeDays\",ab=\"sendBasedUnknownUserEphemeralSettingTurnedOnSeconds\",bb=\"sendBasedUnknownUserEphemeralSettingTurnedOnMinutes\",cb=\"sendBasedUnknownUserEphemeralSettingTurnedOnHours\",db=\"sendBasedUnknownUserEphemeralSettingTurnedOnDays\",eb=\"sendBasedYouEphemeralSettingTurnedOnSeconds\",fb=\"sendBasedYouEphemeralSettingTurnedOnMinutes\",gb=\"sendBasedYouEphemeralSettingTurnedOnHours\",hb=\"sendBasedYouEphemeralSettingTurnedOnDays\",ib=\"sendBasedParticipantEphemeralSettingTurnedOnSeconds\",jb=\"sendBasedParticipantEphemeralSettingTurnedOnMinutes\",kb=\"sendBasedParticipantEphemeralSettingTurnedOnHours\",lb=\"sendBasedParticipantEphemeralSettingTurnedOnDays\",mb=\"sendBasedUnknownUserEphemeralSettingChangeSeconds\",nb=\"sendBasedUnknownUserEphemeralSettingChangeMinutes\",ob=\"sendBasedUnknownUserEphemeralSettingChangeHours\",pb=\"sendBasedUnknownUserEphemeralSettingChangeDays\",qb=\"sendBasedYouEphemeralSettingChangeSeconds\",rb=\"sendBasedYouEphemeralSettingChangeMinutes\",sb=\"sendBasedYouEphemeralSettingChangeHours\",tb=\"sendBasedYouEphemeralSettingChangeDays\",ub=\"sendBasedParticipantEphemeralSettingChangeSeconds\",vb=\"sendBasedParticipantEphemeralSettingChangeMinutes\",wb=\"sendBasedParticipantEphemeralSettingChangeHours\",xb=\"sendBasedParticipantEphemeralSettingChangeDays\",yb=\"unknownUserEphemeralSettingTurnedOff\",zb=\"youEphemeralSettingTurnedOff\",Ab=\"participantEphemeralSettingTurnedOff\",Bb=\"ephemeralSettingsAutoReset\",Cb=\"currentUserUnsentMessage\",Db=\"participantUnsentMessage\",Eb=\"participantReactMessage\",Fb=\"participantReactMessageInGroup\",U=\"unknownUserEphemeralTakeScreenshot\",Gb=\"unknownUserEphemeralRecordScreen\",Hb=\"youEphemeralTakeScreenshot\",Ib=\"youEphemeralRecordScreen\",Jb=\"participantEphemeralTakeScreenshot\",Kb=\"participantEphemeralRecordScreen\",Lb=\"icdcAlertAdminMessage\",Mb=\"yourDeviceICDCAlertAdminMessage\",V=\"cutoverThreadAdminMessage\",W=\"cutoverIGDThreadAdminMessage\",X=\"cutoverRollbackAdminMessage\",Y=\"currentUserSendAttachment\",Nb=\"participantSendAttachment\",Ob=\"currentUserSentPost\",Pb=\"currentUserSentReel\",Qb=\"currentUserSentStory\",Rb=\"currentUserSentEvent\",Sb=\"currentUserMentionedStoryIG\",Tb=\"currentUserReceivedStoryMentionIG\",Ub=\"participantSentPost\",Vb=\"participantSentReel\",Wb=\"participantSentStory\",Xb=\"participantSentEvent\",Yb=\"currentUserSentStoryHighlight\",Zb=\"participantSentStoryHighlight\",Z=\"dualThreadCutoverAdminMessage\",$=\"e2eeThreadDescription\",$b=\"debugMsg\",ac=\"currentUserMissedAudioCall\",bc=\"participantMissedAudioCall\",cc=\"currentUserMissedVideoCall\",dc=\"participantMissedVideoCall\",ec=\"currentUserAudioCalled\",fc=\"participantAudioCalled\",gc=\"currentUserVideoCalled\",hc=\"participantVideoCalled\",ic=\"currentUserStartedGroupAudioCall\",jc=\"participantStartedGroupAudioCall\",kc=\"currentUserStartedGroupVideoCall\",lc=\"participantStartedGroupVideoCall\",mc=\"currentUserCustomizeHotlike\",nc=\"participantCustomizeHotlike\",oc=\"currentUserCustomizeNickname\",pc=\"currentUserCustomizeTheme\",qc=\"currentUserCustomizePhoto\",rc=\"participantCustomizeParticipantNickname\",sc=\"participantClearParticipantNickname\",tc=\"participantCustomizeTheme\",uc=\"participantCustomizePhoto\",vc=\"participantCustomizeCurrentUserNickname\",wc=\"currentUserSetOwnNickname\",xc=\"currentUserClearOwnNickname\",yc=\"currentUserClearParticipantNickname\",zc=\"participantSetOwnNickname\",Ac=\"participantClearOwnNickname\",Bc=\"participantClearCurrentUserNickname\",Cc=\"currentUserSetAddModeAdminOnly\",Dc=\"currentUserSetAddModeAllMembers\",Ec=\"participantSetAddModeAdminOnly\",Fc=\"participantSetAddModeAllMembers\",Gc=\"serverSetAddModeAdminOnly\",Hc=\"serverSetAddModeAllMembers\";q={CURRENT_USER_ADDED_DEVICE:i,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:q,CURRENT_USER_ADDED_ONE_PARTICIPANT:o,CURRENT_USER_ADDED_TWO_PARTICIPANTS:p,CURRENT_USER_AUDIO_CALLED:ec,CURRENT_USER_CLEAR_OWN_NICKNAME:xc,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:yc,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_CUSTOMIZE_HOTLIKE:mc,CURRENT_USER_CUSTOMIZE_NICKNAME:oc,CURRENT_USER_CUSTOMIZE_PHOTO:qc,CURRENT_USER_CUSTOMIZE_THEME:pc,CURRENT_USER_DEMOTED_PARTICIPANT:na,CURRENT_USER_GOT_DEMOTED:ha,CURRENT_USER_GOT_PROMOTED:ga,CURRENT_USER_LEFT_GROUP:fa,CURRENT_USER_MENTIONED_STORY_IG:Sb,CURRENT_USER_MISSED_AUDIO_CALL:ac,CURRENT_USER_MISSED_VIDEO_CALL:cc,CURRENT_USER_NAMED_GROUP:e,CURRENT_USER_PROMOTED_PARTICIPANT:ma,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Tb,CURRENT_USER_REMOVED_DEVICE:k,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:F,CURRENT_USER_REMOVED_ONE_PARTICIPANT:D,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:E,CURRENT_USER_SELF_DEMOTED:ra,CURRENT_USER_SEND_ATTACHMENT:Y,CURRENT_USER_SEND_AUDIO:R,CURRENT_USER_SEND_GIF:S,CURRENT_USER_SEND_IMAGE:P,CURRENT_USER_SEND_STICKER:sa,CURRENT_USER_SEND_TEXT:O,CURRENT_USER_SEND_VIDEO:Q,CURRENT_USER_SENT_EVENT:Rb,CURRENT_USER_SENT_POST:Ob,CURRENT_USER_SENT_REEL:Pb,CURRENT_USER_SENT_STORY:Qb,CURRENT_USER_SENT_STORY_HIGHLIGHT:Yb,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:Cc,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:Dc,CURRENT_USER_SET_OWN_NICKNAME:wc,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:ic,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:kc,CURRENT_USER_UNSENT_MESSAGE:Cb,CURRENT_USER_UPDATED_DEVICE:m,CURRENT_USER_VIDEO_CALLED:gc,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:W,CUTOVER_ROLLBACK_ADMIN_MESSAGE:X,CUTOVER_THREAD_ADMIN_MESSAGE:V,DEBUG_MSG:$b,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:Z,E2EE_THREAD_DESCRIPTION:$,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:Bb,ICDC_ALERT_ADMIN_MESSAGE:Lb,PARTICIPANT_ADDED_DEVICE:j,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:C,PARTICIPANT_ADDED_ONE_USER:A,PARTICIPANT_ADDED_TWO_USER:B,PARTICIPANT_ADDED_YOU:r,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:t,PARTICIPANT_ADDED_YOU_AND_ONE_USER:s,PARTICIPANT_AUDIO_CALLED:fc,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:Bc,PARTICIPANT_CLEAR_OWN_NICKNAME:Ac,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:sc,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:vc,PARTICIPANT_CUSTOMIZE_HOTLIKE:nc,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:rc,PARTICIPANT_CUSTOMIZE_PHOTO:uc,PARTICIPANT_CUSTOMIZE_THEME:tc,PARTICIPANT_DEMOTED_PARTICIPANT:oa,PARTICIPANT_DEMOTED_YOU:la,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:Kb,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:$a,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:Za,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:Ya,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:Xa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:Ab,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:Oa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Na,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ma,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:La,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:Jb,PARTICIPANT_GOT_DEMOTED:ja,PARTICIPANT_GOT_PROMOTED:ia,PARTICIPANT_LEFT_GROUP:ea,PARTICIPANT_MISSED_AUDIO_CALL:bc,PARTICIPANT_MISSED_VIDEO_CALL:dc,PARTICIPANT_NAMED_GROUP:h,PARTICIPANT_PROMOTED_PARTICIPANT:pa,PARTICIPANT_PROMOTED_YOU:ka,PARTICIPANT_REACT_MESSAGE:Eb,PARTICIPANT_REACT_MESSAGE_IN_GROUP:Fb,PARTICIPANT_REMOVED_DEVICE:l,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:da,PARTICIPANT_REMOVED_ONE_USER:ba,PARTICIPANT_REMOVED_TWO_USER:ca,PARTICIPANT_REMOVED_YOU:G,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:I,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:H,PARTICIPANT_SELF_DEMOTED:qa,PARTICIPANT_SEND_ATTACHMENT:Nb,PARTICIPANT_SEND_AUDIO:xa,PARTICIPANT_SEND_GIF:ya,PARTICIPANT_SEND_IMAGE:va,PARTICIPANT_SEND_STICKER:za,PARTICIPANT_SEND_TEXT:ta,PARTICIPANT_SEND_TEXT_IN_GROUP:ua,PARTICIPANT_SEND_VIDEO:wa,PARTICIPANT_SENT_EVENT:Xb,PARTICIPANT_SENT_POST:Ub,PARTICIPANT_SENT_REEL:Vb,PARTICIPANT_SENT_STORY:Wb,PARTICIPANT_SENT_STORY_HIGHLIGHT:Zb,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:Ec,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:Fc,PARTICIPANT_SET_OWN_NICKNAME:zc,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:jc,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:lc,PARTICIPANT_UNSENT_MESSAGE:Db,PARTICIPANT_UPDATED_DEVICE:n,PARTICIPANT_VIDEO_CALLED:hc,REACHABILITY_ERROR:Da,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:xb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:wb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:vb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ub,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:lb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:kb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:jb,SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:ib,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:pb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:ob,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:nb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:mb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:db,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:cb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:bb,SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:ab,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_DAYS:tb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_HOURS:sb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:rb,SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:qb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:hb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:gb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:fb,SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:eb,SERVER_SET_ADD_MODE_ADMIN_ONLY:Gc,SERVER_SET_ADD_MODE_ALL_MEMBERS:Hc,TWO_USERS_CONNECTED:Ba,TWO_USERS_CONNECTED_ONE_MSPLIT:Ca,UNAVAILABLE_SNIPPET:Aa,UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:z,UNKNOW_USER_ADDED_ONE_USER:x,UNKNOW_USER_ADDED_TWO_USER:y,UNKNOW_USER_ADDED_YOU:u,UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:w,UNKNOW_USER_ADDED_YOU_AND_ONE_USER:v,UNKNOW_USER_REMOVED_MORE_THAN_TWO_USER:aa,UNKNOW_USER_REMOVED_ONE_USER:M,UNKNOW_USER_REMOVED_TWO_USER:N,UNKNOW_USER_REMOVED_YOU:J,UNKNOW_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:L,UNKNOW_USER_REMOVED_YOU_AND_ONE_USER:K,UNKNOWN_USER_CREATED_GROUP:d,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:Gb,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:Sa,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:Ra,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:Qa,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:Pa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:yb,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:Ga,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:Fa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ea,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:T,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:U,UNKNOWN_USER_NAMED_GROUP:g,YOU_EPHEMERAL_RECORD_SCREEN:Ib,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:Wa,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:Va,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:Ua,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:Ta,YOU_EPHEMERAL_SETTING_TURNED_OFF:zb,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:Ka,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:Ja,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ia,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:Ha,YOU_EPHEMERAL_TAKE_SCREENSHOT:Hb,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:Mb};f.CURRENT_USER_CREATED_GROUP=b;f.CURRENT_USER_ADDED_DEVICE=i;f.CURRENT_USER_SEND_TEXT=O;f.CURRENT_USER_SEND_IMAGE=P;f.CURRENT_USER_SEND_VIDEO=Q;f.CURRENT_USER_SEND_AUDIO=R;f.CURRENT_USER_SEND_GIF=S;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=T;f.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=U;f.CUTOVER_THREAD_ADMIN_MESSAGE=V;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=W;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=X;f.CURRENT_USER_SEND_ATTACHMENT=Y;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=Z;f.E2EE_THREAD_DESCRIPTION=$;f.LOCALIZATION_TYPE=q}),66);\n__d(\"MAWAdminMsgNormalized\",[\"MAWLocalizationType\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b){switch(a){case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_REMOVED_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return{contactIds:b,contents:[]};case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d(\"MAWLocalizationType\").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);\n__d(\"MAWExtractMsFromExternalId\",[\"I64\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a){return new Date(a).getTime()>0}var j=2199023255551;function a(a){a=Number((h||(h=d(\"I64\"))).to_string(h.and_(h.lsr_(a,22),h.of_float(j))));if(i(a)){a=Math.floor(Number(a)%1e5\/100);return a}}g.extractMsFromExternalId=a}),98);\n__d(\"MAWCalculateBumpTimestampMs\",[\"I64\",\"MAWExtractMsFromExternalId\",\"MAWTimeUtils\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function a(a,b){if(!c(\"gkx\")(\"23996\"))return d(\"MAWTimeUtils\").millisTimeToTimestamp(a);b=b==null?null:d(\"MAWExtractMsFromExternalId\").extractMsFromExternalId(b);return(h||(h=d(\"I64\"))).add(d(\"MAWTimeUtils\").millisTimeToTimestamp(a),h.of_int32((a=b)!=null?a:0))}g.calculateBumpTimestampMs=a}),98);\n__d(\"MAWFolderTypes\",[],(function(a,b,c,d,e,f){\"use strict\";a=0;b=1;c=2;d=3;e=10;var g={ARCHIVED:e,INBOX:a,OTHER:c,PENDING:b,SPAM:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.SPAM=d;f.ARCHIVED=e;f.FOLDER_ID=g}),66);\n__d(\"MAWImageUtils\",[\"Promise\",\"err\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=\"image\/jpeg\",j=100;function k(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b(\"Promise\")))(function(b,f){e=new Image();var g=\/^(?:data|blob):\/.test(a);d&&!g&&e.setAttribute(\"crossOrigin\",\"anonymous\");e.onload=b;e.onabort=function(){f(function(){throw c(\"err\")(\"Error loading image from provided URL\")})};e.onerror=function(){f(function(){throw c(\"err\")(\"Wrong blob type\")})};e.src=a}).then(function(){return e})}function l(a,c,d,e){d===void 0&&(d=!1);var f=40*1024;if(a.toBlob)return new(h||(h=b(\"Promise\")))(function(b){var d=e==null?void 0:e\/100;a.toBlob(b,c,d)}).then(function(e){return d&&e.size>=f?new(h||(h=b(\"Promise\")))(function(b){a.toBlob(b,c,f\/e.size)}):e});else return(h||(h=b(\"Promise\"))).resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(e){return d&&e.size>=f?(h||(h=b(\"Promise\"))).resolve(window.dataURLtoBlob(a.toDataURL(c,f\/e.size))):e})}function a(a,d,e,f){return k(a).then(function(a){var b=document.createElement(\"canvas\");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext(\"2d\");f!==!0&&n(b);c.drawImage(a,0,0);return l(b,d,!1,e).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})[\"catch\"](function(a){return(h||(h=b(\"Promise\"))).reject(function(){throw c(\"err\")(a)})})}function d(a,b){return k(a).then(function(a){var c=document.createElement(\"canvas\"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext(\"2d\");e=o(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,h=c.height;m(c);f.drawImage(a,0,0,g,h);return l(c,i,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:h,jpegThumbnail:a,width:g}})})})}function e(a,b){return k(a).then(function(a){a=o(a.naturalHeight,a.naturalWidth,b);return{height:a.height,width:a.width}})}function m(a){var b=a.getContext(\"2d\");b.fillStyle=\"rgb(247,247,247)\";b.fillRect(0,0,a.width,a.height)}function n(a){var b=a.getContext(\"2d\");b.fillStyle=\"rgb(255,255,255)\";b.fillRect(0,0,a.width,a.height)}function o(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c\/b,b=c):a>c&&(b*=c\/a,a=c);return{height:Math.round(Math.max(a,1)),width:Math.round(Math.max(b,1))}}function f(a){return k(a).then(function(a){return{height:a.naturalHeight,width:a.naturalWidth}})}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=j;g.canvasToBlob=l;g.urlToFile=a;g.urlToThumbnail=d;g.urlToThumbnailSpec=e;g.boundHeightWidth=o;g.urlToImageSpec=f}),98);\n__d(\"getReplyContentForNoteReply\",[\"WAGlobals\",\"WAJids\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){var b=a.author,c=a.msgId,e=d(\"WAJids\").extractDeviceIDParts(d(\"WAGlobals\").getMyDeviceJid()).userId;b=d(\"WAJids\").authorToUserId(b,e);e=(e=a.quote)==null?void 0:(a=e.content.msgContent)==null?void 0:a.content;return{isNoteReply:!0,replyMessageText:e,replySourceId:c,replyToUserId:b}}g[\"default\"]=a}),98);\n__d(\"MAWBridgeMsg\",[\"LSHotEmojiSize\",\"LSIntEnum\",\"MAWDbMsg\",\"MAWGlobals\",\"MAWImageUtils\",\"MAWMsgType\",\"MAWVault\",\"MAWXMAUtils\",\"WAAssertUnreachable\",\"WAJids\",\"WAMsgType\",\"getReplyContentForNoteReply\",\"justknobx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a,b){var e,f,g;e=((e=a.quote)==null?void 0:e.content.type)===d(\"WAMsgType\").NOTE_REPLY;if(e)return c(\"getReplyContentForNoteReply\")(a);e=d(\"WAJids\").extractDeviceIDParts(d(\"MAWGlobals\").getMyDeviceJid()).userId;f=(f=a.quote)==null?void 0:f.content;if(d(\"MAWXMAUtils\").isXMAStoryShare(a.xmaMessageType)||d(\"MAWXMAUtils\").isXMAStoryReaction(a.xmaMessageType)||d(\"MAWXMAUtils\").isXMAStoryMention(a.xmaMessageType)||d(\"MAWXMAUtils\").isXMAStoryHighlightShare(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d(\"WAJids\").authorToUserId(h,e);if(d(\"MAWXMAUtils\").isXMAStoryMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d(\"WAJids\").interpretAsUserJid(l));m!=null&&(k=d(\"WAJids\").userIdFromJid(m))}return{isIGXMAStoryShare:d(\"MAWXMAUtils\").isIGXMAStoryShare(a.xmaMessageType),isStoryHighlightShare:d(\"MAWXMAUtils\").isXMAStoryHighlightShare(a.xmaMessageType),isStoryMention:d(\"MAWXMAUtils\").isXMAStoryMention(a.xmaMessageType),isStoryReaction:d(\"MAWXMAUtils\").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d(\"MAWXMAUtils\").isXMAStoryReply(a.xmaMessageType),replyMediaId:i,replyMediaUrlMimeType:i!=null?\"image\/jpeg\":void 0,replySenderIsMe:h===d(\"WAJids\").AUTHOR_ME||k===e,replySourceId:j,replyStatusType:i!=null?\"Image\":void 0,replyToUserId:k,storyShareAuthor:b==null?void 0:b.storyShareAuthor}}if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null)return;l=f||{};a=l.author;h=l.mediaId;j=l.msgId;i=l.sourceId;k=l.specialTextSize;var n=l.type;l=l.xmaMessageType;g=f.type===d(\"MAWMsgType\").MSG_TYPE.TEXT||d(\"MAWXMAUtils\").isXMAExternalLinkShare(l)?(g=f.msgContent)==null?void 0:g.content:void 0;var o=d(\"WAJids\").authorToUserId(a,e);f=f.type===d(\"MAWMsgType\").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;a=a===d(\"WAJids\").AUTHOR_ME||o===e;e=b||{};b=e.replyMediaId;var p=e.replyMediaPreviewHeight,q=e.replyMediaPreviewWidth,r=e.replyMediaUrlFallback,s=e.replyMediaUrlMimeType;e=e.replyXMAId;if(d(\"MAWXMAUtils\").isXMAStoryReply(l))return{isStoryReaction:d(\"MAWXMAUtils\").isXMAStoryReaction(l),isStoryReply:!0,replyMediaId:h,replyMediaUrlMimeType:h!=null?\"image\/jpeg\":void 0,replySenderIsMe:a,replySourceId:i,replyStatusType:h!=null?\"Image\":void 0,replyToUserId:o};i=d(\"MAWImageUtils\").boundHeightWidth(p,q,96*.8);h=i.height;i=i.width;return{isIGXMAPostShare:d(\"MAWXMAUtils\").isIGXMAPostShare(l),isIGXMAStoryShare:d(\"MAWXMAUtils\").isIGXMAStoryShare(l),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:n===d(\"MAWMsgType\").MSG_TYPE.STICKER?h:p,replyMediaPreviewWidth:n===d(\"MAWMsgType\").MSG_TYPE.STICKER?i:q,replyMediaUrlFallback:r,replyMediaUrlMimeType:s,replyMentionedJids:f,replyMessageText:g,replySenderIsMe:a,replySourceId:j,replyStatusType:k===1||k===2||k===3?d(\"MAWMsgType\").MSG_TYPE.STICKER:n,replyToUserId:o,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSHotEmojiSize\").SMALL);case 2:return(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSHotEmojiSize\").MEDIUM);case 3:return(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSHotEmojiSize\").LARGE);default:return(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSHotEmojiSize\").NONE)}}function b(a,b,e,f,g,h){var j,k,l=d(\"WAJids\").extractDeviceIDParts(d(\"MAWGlobals\").getMyDeviceJid()).userId;j=((j=a.isForwarded)!=null?j:!1)&&a.type!==d(\"MAWMsgType\").MSG_TYPE.STICKER;k=(k=a.forwardingScore)!=null?k:0;var m=d(\"MAWDbMsg\").getCanonicalTsFromMsg(a);e=i(a,e);var n=d(\"MAWXMAUtils\").isXMAStoryShare(a.xmaMessageType),o=d(\"MAWXMAUtils\").isXMAStoryReaction(a.xmaMessageType),p=d(\"MAWXMAUtils\").isXMAExternalLinkShare(a.xmaMessageType),q=d(\"MAWXMAUtils\").isXMAStoryMention(a.xmaMessageType),r=d(\"MAWXMAUtils\").isXMAStoryHighlightShare(a.xmaMessageType),s=d(\"MAWXMAUtils\").isXMAPostPrivateReply(a.xmaMessageType),t=d(\"MAWDbMsg\").getSortOrderWithFallback(a),u=a.externalId;switch(a.type){case d(\"MAWMsgType\").MSG_TYPE.TEXT:var v=d(\"MAWVault\").isVaulted(a.msgContent.content)?a.msgContent.content:d(\"MAWVault\").vault(a.msgContent.content);return babelHelpers[\"extends\"]({},e,{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,content:v,editCount:a.editCount,ephemeralDurationInSec:(v=a.ephemeralSetting)==null?void 0:v.ephemeralExpirationInSec,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,specialTextSize:a.specialTextSize,transportKey:h,ts:m,type_:a.type});case d(\"MAWMsgType\").MSG_TYPE.IMAGE:case d(\"MAWMsgType\").MSG_TYPE.VIDEO:case d(\"MAWMsgType\").MSG_TYPE.PTT:case d(\"MAWMsgType\").MSG_TYPE.GIF:case d(\"MAWMsgType\").MSG_TYPE.STICKER:case d(\"MAWMsgType\").MSG_TYPE.RAVEN:case d(\"MAWMsgType\").MSG_TYPE.DOCUMENT_FILE:case d(\"MAWMsgType\").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers[\"extends\"]({},e,{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,ephemeralDurationInSec:(v=a.ephemeralSetting)==null?void 0:v.ephemeralExpirationInSec,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type});case d(\"MAWMsgType\").MSG_TYPE.FUTUREPROOF:return babelHelpers[\"extends\"]({},e,{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type,unsupportedType:a.msgContent.subtype});case d(\"MAWMsgType\").MSG_TYPE.CIPHERTEXT:return{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type};case d(\"MAWMsgType\").MSG_TYPE.UNAVAILABLE:case d(\"MAWMsgType\").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers[\"extends\"]({},e,{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type});case d(\"MAWMsgType\").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type};case d(\"MAWMsgType\").MSG_TYPE.ADMIN:case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return{ack:a.ack,adminContent:a.msgContent.adminMsgContent,adminType:a.msgContent.adminType,adminVersion:a.msgContent.version,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!0,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type};case d(\"MAWMsgType\").MSG_TYPE.REVOKED:return{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isForwarded:j,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type};case d(\"MAWMsgType\").MSG_TYPE.XMA:var w;v=(v=a.msgContent)==null?void 0:v.content;w=v!=null?d(\"MAWVault\").isVaulted(v)?(w=a.msgContent)==null?void 0:w.content:d(\"MAWVault\").vault(v):void 0;v=c(\"justknobx\")._(\"1191\")||o||p?w:void 0;return babelHelpers[\"extends\"]({},e,{ack:a.ack,chatId:a.thread,chatJid:a.threadJid,content:v,ephemeralDurationInSec:(p=a.ephemeralSetting)==null?void 0:p.ephemeralExpirationInSec,externalId:u,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d(\"WAJids\").AUTHOR_ME,isExpiredXmaMsg:a.isExpiredXmaMsg,isForwarded:j,isPostPrivateReply:s,isStoryHighlightShare:r,isStoryMention:q,isStoryReaction:o,isStoryShare:n,msgId:a.msgId,offlineMsg:b,qplEvent:f,sender:d(\"WAJids\").authorToUserId(a.author,l),sortOrderMs:t,transportKey:h,ts:m,type_:a.type});default:return c(\"WAAssertUnreachable\")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);\n__d(\"MAWFrontendMediaUtils\",[\"MAWDbMedia\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b,c){if(a===\"image\/gif\")return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.GIF,serverMediaType:\"gif\"};if(a===\"image\/webp\"&&b!==!0)return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.STICKER,serverMediaType:\"sticker\"};c=(c=c)!=null?c:a.split(\"\/\")[0];switch(c){case\"image\":if(b===!0)return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.IMAGE,serverMediaType:\"xma-image\"};else return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.IMAGE,serverMediaType:\"image\"};case\"video\":return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.VIDEO,serverMediaType:\"video\"};case\"audio\":return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.PTT,serverMediaType:\"ptt\"};case\"application\":default:return{mediaType:d(\"MAWDbMedia\").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:\"document\"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);\n__d(\"MAWRavenUtils\",[\"EphemeralMediaViewMode\",\"MAWMsg\",\"RavenMessagingState\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=function(a){switch(a){case d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.PERMANENT:return c(\"RavenMessagingState\").PERMANENT;case d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.UNSEEN:return c(\"RavenMessagingState\").UNSEEN;case d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.SEEN:return c(\"RavenMessagingState\").SEEN;case d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.REPLAYED:return c(\"RavenMessagingState\").REPLAYED;case d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.EXPIRED:return c(\"RavenMessagingState\").EXPIRED}};b=function(a){switch(a){case d(\"MAWMsg\").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c(\"EphemeralMediaViewMode\").PERMANENT;case d(\"MAWMsg\").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c(\"EphemeralMediaViewMode\").REPLAYABLE;case d(\"MAWMsg\").MAWRavenMsgEphemeralType.VIEW_ONCE:return c(\"EphemeralMediaViewMode\").READ_ONCE}};function a(a,b){switch(b){case d(\"MAWMsg\").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.UNSEEN?c(\"RavenMessagingState\").SEEN:h(a);case d(\"MAWMsg\").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.UNSEEN)return c(\"RavenMessagingState\").SEEN;else if(a===d(\"MAWMsg\").MAWRavenMsgEphemeralMediaState.SEEN)return c(\"RavenMessagingState\").REPLAYED;return h(a);case d(\"MAWMsg\").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=b;g.getNextRavenMessageEphemeralState=a}),98);\n__d(\"MAWUpdateClientRestoreStatusOperationType\",[],(function(a,b,c,d,e,f){\"use strict\";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);\n__d(\"DoubleKeyMap\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b[\"delete\"]=function(a,b){var c=this.$1.get(a);c&&(c[\"delete\"](b),c.size===0&&this.$1[\"delete\"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1[\"delete\"](a)};return a}();f.DoubleKeyMap=a}),66);\n__d(\"NestedTimeRange\",[\"SimpleHook\",\"performance\",\"performanceAbsoluteNow\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=new(d(\"SimpleHook\").SimpleHook)(),k=new(d(\"SimpleHook\").SimpleHook)(),l=\"\/\";function m(a,b){return\"\"+a+l+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?m(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=(h||(h=c(\"performanceAbsoluteNow\")))());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){j.call(this,a)};b.stop=function(a){a===void 0&&(a=(h||(h=c(\"performanceAbsoluteNow\")))());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){k.call(this,a)};return a}();function a(){(i||(i=c(\"performance\"))).mark&&(i||(i=c(\"performance\"))).measure&&(j.add(function(a,b){(i||(i=c(\"performance\"))).mark(a.fullname()+\"_start\")}),k.add(function(a,b){(i||(i=c(\"performance\"))).measure(a.fullname(),a.fullname()+\"_start\")}))}g.OnRangeStart=j;g.OnRangeStop=k;g.TIME_RANGE_LEVEL_SEPARATOR=l;g.rangeFullName=m;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);\n__d(\"QLogEvent\",[\"DoubleKeyMap\",\"FBLogger\",\"NestedTimeRange\",\"QPLEvent\",\"SimpleHook\",\"performanceNavigationStart\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=new(d(\"DoubleKeyMap\").DoubleKeyMap)(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange1=c;i.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange1.point(this.fullname()+\"_START\",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange1.point(this.fullname()+\"_END\",{timestamp:a}),i[\"delete\"](this.$QPLRange1,this.fullname())};e.range=function(b){this.fullname().startsWith(d(\"NestedTimeRange\").TIME_RANGE_LEVEL_SEPARATOR)||c(\"FBLogger\")(\"qpl\").warn(\"Range %s cannot have subrange since root name does not start with \/\",this.fullname());var e=d(\"NestedTimeRange\").rangeFullName(this.fullname(),b);return(e=i.get(this.$QPLRange1,e))!=null?e:new a(b,this.$QPLRange1,this)};return a}(d(\"NestedTimeRange\").NestedTimeRange),k=new(d(\"DoubleKeyMap\").DoubleKeyMap)(),l=new((b=d(\"SimpleHook\")).SimpleHook)(),m=new b.SimpleHook(),n=new b.SimpleHook(),o=new b.SimpleHook(),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var i=(h||(h=d(\"QPLEvent\"))).getMarkerId(a);g=b.call(this,\"event_\"+i)||this;g.event=a;g.instanceKey=c;g.$QPLEvent1=e;g.isUserFlow=f;k.set(i,c,babelHelpers.assertThisInitialized(g));return g}var e=a.prototype;e.action=function(a){this.$QPLEvent1=a;return this};e.getAction=function(){return this.$QPLEvent1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c(\"performanceNavigationStart\")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){l.call(this,a)};e.__onStop=function(a){m.call(this,a),i.deleteAll(this),k[\"delete\"]((h||(h=d(\"QPLEvent\"))).getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=i.get(this,a))!=null?b:new j(a,this)};e.point=function(a,b){b===void 0&&(b={});n.call(this,a,b);return this};e.annotate=function(a){o.call(this,a);return this};return a}(d(\"NestedTimeRange\").NestedTimeRange);function a(a,b){var c;b===void 0&&(b=0);return(c=k.get((h||(h=d(\"QPLEvent\"))).getMarkerId(a),b))!=null?c:new p(a,b)}g.OnEventStart=l;g.OnEventStop=m;g.OnEventPoint=n;g.OnEventAnnotate=o;g.QPLEvent=p;g.event=a}),98);\n__d(\"TimedOnceFunc\",[\"ExecutionEnvironment\"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,(h||(h=c(\"ExecutionEnvironment\"))).isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);\n__d(\"FuncChannel\",[\"FBLogger\",\"Promise\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(h||(h=b(\"Promise\")))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!==\"function\"){c(\"FBLogger\")(\"worker\").mustfix(\"proxyMethods[%s] is not a functions\",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b===\"function\"&&typeof e===\"function\")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},i=(e=a==null?void 0:a(g))!=null?e:{},j=babelHelpers[\"extends\"]({},g);function k(a){j[a]=function(){var b={type:\"call\",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!==\"function\"){c(\"FBLogger\")(\"worker\").mustfix(\"_backend[%s] is not a functions\",a);return}return b.apply(f.$1,arguments)},i[a]==null&&(i[a]=g[a])}this.$1=j;if(a!=null){e=Object.keys(i);e.forEach(k);this.proxyMethods=i}else this.proxyMethods=new Proxy(i,{get:function(a,b){a=b;i[a]==null&&k(a);return i[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g[\"default\"]=a}),98);\n__d(\"MainPageUrl\",[\"ExecutionEnvironment\",\"FBLogger\",\"SimpleHook\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=new URL(\"http:\/\/undefined\"),j=new(d(\"SimpleHook\").SimpleHook)();function k(){var a;return(h||(h=c(\"ExecutionEnvironment\"))).isInBrowser&&(i==null?void 0:(a=i.searchParams)==null?void 0:a.get(\"workerlog\"))===\"debug\"}function a(a){try{k()&&c(\"FBLogger\")(\"worker\").debug(\"received url \"+a);var b=new URL(a,i.href||\"http:\/\/undefined\");i.href!==b.href?(i.href=b.href,j.call(i)):k()&&c(\"FBLogger\")(\"worker\").debug(\"ignoring url: path didn't change in \"+a)}catch(a){c(\"FBLogger\")(\"worker\").catching(a).warn(\"invalid url\")}}typeof window===\"object\"&&typeof window.location===\"object\"&&typeof window.location.href===\"string\"&&a(window.location.href);g.mainPageUrl=i;g.onMainPageUrlChange=j;g.isWorkerLogEnabled=k;g.updateMainPageUrl=a}),98);\n__d(\"VirtualMessageChannel\",[\"invariant\",\"Promise\",\"SimpleHook\",\"nullthrows\",\"promiseDone\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d(\"SimpleHook\").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a===\"message\"||a===\"error\")&&c==null||h(0,55320,a);if(a===\"message\")if(typeof b===\"function\")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b===\"function\")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c(\"nullthrows\")(e.$1,\"By now remote port must have value!\");b.$2.call({data:a,ports:d})};this.$3?f():c(\"promiseDone\")((i||(i=b(\"Promise\"))).resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new j(a),this.port2=new j(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=j;g.VirtualMessageChannel=a}),98);\n__d(\"WorkerMessagePortLogging\",[\"MainPageUrl\",\"QLogEvent\",\"qpl\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=Math.random()<.1,i=20,j=100,k=50;function a(){return d(\"MainPageUrl\").isWorkerLogEnabled()||d(\"MainPageUrl\").mainPageUrl.searchParams.get(\"worker_log\")===1}var l=0;function m(){return d(\"QLogEvent\").event(c(\"qpl\")._(41497718,\"106\"),l++)}function b(a,b,c){c===void 0&&(c=!1);if(b==null||!h)return;var d=b.sendDelayHighPrecision,e=b.sendTimestamp,f=b.sendDateTime,g=b.receiveTimestamp,l=b.receiveDateTime,n=m();n.startFromTime();var o=n.range(\"SEND_DELAY\");o.start(e);o.stop(g);o=n.range(\"SEND_DELAY_LOW_PRECISION\");o.start(f);o.stop(l);o=Math.abs(e-f);e=Math.abs(g-l);n.annotate({string:{port_name:a},\"int\":{send_delay:d,send_drift:o,receive_drift:e},bool:{send_delay_above_max:d!=null&&d>i,send_drift_above_max:o>j,receive_drift_above_max:e>j}});if(c){f=n.range(\"ROUND_TRIP\");f.start(b.sendTimestamp);f.stop(b.receiveTimestamp);g=b.receiveTimestamp-b.sendTimestamp;n.annotate({\"int\":{round_trip:g},bool:{round_trip_above_max:g>k}})}n.stop()}g.isWorkerLogEnabled=a;g.logMessageTiming=b}),98);\n__d(\"WorkerMessagePort\",[\"Deferred\",\"FBLogger\",\"MainPageUrl\",\"Promise\",\"PromiseAnnotate\",\"SimpleHook\",\"VirtualMessageChannel\",\"WorkerMessagePortLogging\",\"performanceAbsoluteNow\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d(\"SimpleHook\").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var e=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener(\"message\",function(a){return e.onMessageHandler(k(a.data))});this.$2.addEventListener(\"error\",function(a){return e.onError.call(a)});this.onPostMessage.add(function(a){m(a,{receiveDateTime:-1,receiveTimestamp:-1,sendDateTime:Date.now(),sendDelayHighPrecision:0,sendDelayLowPrecision:0,sendTimestamp:(j||(j=c(\"performanceAbsoluteNow\")))()})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendDateTime,f=a.sendTimestamp,g=(j||(j=c(\"performanceAbsoluteNow\")))(),h=Date.now();a.receiveTimestamp=g;a.receiveDateTime=h;a.sendDelayHighPrecision=g-f;a.sendDelayLowPrecision=h-b;d(\"WorkerMessagePortLogging\").logMessageTiming(e.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(i||(i=b(\"Promise\")))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d(\"VirtualMessageChannel\").VirtualMessagePort};return e}();function o(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var j=o(babelHelpers.assertThisInitialized(g)),k=new(c(\"Deferred\"))();e=k.getPromise();j.addMessageListener(\"endpoint_started\",function(a){k.resolve(a);var b=n(a);j.postMessage({endpoint:a.endpoint,startSendTimestamp:b==null?void 0:b.sendTimestamp,targetEndpoint:g.name,type:\"endpoint_started_received\"})});f=j.onMessageOnce(\"endpoint_started_received\",function(){return!0});void (h||(h=d(\"PromiseAnnotate\"))).setDisplayName(e,\"endpoint_started\");void h.setDisplayName(f,\"endpoint_started_received\");j.postMessage({endpoint:g.name,type:\"endpoint_started\"});c(\"promiseDone\")(e,function(a){a=n(a);d(\"WorkerMessagePortLogging\").logMessageTiming(g.name,a)});c(\"promiseDone\")(f,function(a){a=n(a);a!=null&&d(\"WorkerMessagePortLogging\").logMessageTiming(g.name,a,!0)});g.fullyConnected=(i||(i=b(\"Promise\"))).race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=o;g.WorkerSyncedMessagePort=e}),98);\n__d(\"WorkerFuncChannel\",[\"invariant\",\"DateConsts\",\"ExecutionEnvironment\",\"FBLogger\",\"FuncChannel\",\"MainPageUrl\",\"Promise\",\"TimedOnceFunc\",\"VirtualMessageChannel\",\"WorkerMessagePort\",\"err\",\"promiseDone\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j,k={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},l=1e4,m=0,n=5,o=n+1,p=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),q=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={\"function\":{serialize:function(a,b){b=o++;i.$WorkerFuncChannel1.set(b,a);a={type:\"function\",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:\"call\",id:c,method:\"__anonymous\",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new p(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:\"custom\",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:\"error\",value:b}},deserialize:function(a){var b=c(\"err\")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error(\"Cannot clone class object\");return{type:\"object\",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:\"raw\",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d(\"MainPageUrl\").isWorkerLogEnabled()&&c(\"FBLogger\")(\"adsworker\").debug(\"[Channel] removing callback ids: %s\",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1[\"delete\"](a)})};var k=i.__remoteInternalFunc(m,a);typeof jest===typeof void 0&&(j||(j=c(\"ExecutionEnvironment\"))).isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2[\"delete\"](c))});a.length>0?k(a):i.$WorkerFuncChannel2.size>5e3&&c(\"FBLogger\")(\"adsworker\").warn(\"[%s] has too many remaining refs %s\",i.name,i.$WorkerFuncChannel2.size)},l);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>n||this.$WorkerFuncChannel1.get(a)!=null)&&c(\"FBLogger\")(\"adsworker\").mustfix(\"invalid internal func id %s\",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5[\"function\"].deserialize({type:\"function\",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a===\"function\")return\"function\";if(a===null)return\"raw\";if(typeof a!==\"object\")return\"raw\";if(Array.isArray(a))return\"raw\";if(this.$WorkerFuncChannel6(a))return\"raw\";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return\"custom\";return a instanceof Error?\"error\":\"object\"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a===\"object\"&&typeof a.type===\"string\"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(i||(i=b(\"Promise\")))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),j=e.__onPostOutMessage(d);j!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h[\"catch\"](function(a){c(\"FBLogger\")(\"worker\").catching(a).mustfix(\"Error: channel %s, remote call of %s returned error %s\",e.name,d.method,a.message)});return h});c(\"promiseDone\")(d||x.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c(\"FBLogger\")(\"adsworker\").mustfix(\"Error: callback is called but no longer available\")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener(\"call\",function(a){typeof a.thisArg===\"string\"&&a.thisArg===b.name&&b.__messageToCall(a)});x.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c(\"FuncChannel\")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d(\"WorkerMessagePort\").WorkerMessagePort);function s(a,b,d,e){x.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new r(e,f.name+\"(\"+g.name+\")\"),e.start(),i.onError.add(function(a){c(\"FBLogger\")(\"worker\").catching(a).mustfix(\"error caught in remotePort\");throw a})):i=f;g.setMessagePort(i).setBackend(d);c(\"promiseDone\")(f.fullyConnected,function(){f.postMessage({type:\"channelReady\",channelName:g.name}),x.logState(\"EXPORTED\",a)})})}function a(a,b,c,d){d===void 0&&(d={});return s(c,function(){return new q(function(b){return a},c,null,d)},a,b)}var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e=\"\");var f=d(\"DateConsts\").MS_PER_MIN*1;return b.call(this,function(){c(\"FBLogger\")(\"worker\").warn(\"Channel %s did not establish eventually. %s\",a,e)},f)||this}return a}(d(\"TimedOnceFunc\").TimedOnceFunc);function u(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d(\"VirtualMessageChannel\").VirtualMessageChannel)(!0,!0),e=\"on virtual dedicated channel\"):(h=new MessageChannel(),e=\"on native dedicated channel\",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new r(i,b.name+\"(\"+a.name+\")\");c(\"promiseDone\")(b.fullyConnected,function(){x.logState(\"IMPORTING \"+e+\" \",a.name);a.setInMessagePort(j);var d=new t(a.name,e);c(\"promiseDone\")(b.onMessageOnce(\"channelReady\",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),x.logState(\"ESTABLISHED\",a.name)});b.postMessage({type:\"channelImport\",channelName:a.name,port:f},g)});return a.proxyMethods}function v(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new q(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return u(v(a,c,d,e),b)}var w=function(){function a(){this.name=self.name+\"_P\"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d(\"MainPageUrl\").isWorkerLogEnabled()&&c(\"FBLogger\")(\"worker\").debug(\"%s-%s %s\",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c(\"FBLogger\")(\"worker\").debug(\"Re-exporting channel %s\",a);e.onImportRequest=b;this.logState(\"REGISTERED\",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c(\"FBLogger\")(\"worker\").debug(\"Port %sis already duplicated \",a.name);return}this.$2.add(a);a.addMessageListener(\"channelImport\",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState(\"IMPORT REQUEST\",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return(i||(i=b(\"Promise\"))).resolve()};return a}(),x=new w();function f(a,b,c){x.activate(a,b,c)}g.TransferableTransformer=k;g.WorkerFuncChannel=q;g.exportChannelOnPort=s;g.exportChannel=a;g.importChannelOnPort=u;g.makeChannel=v;g.importChannel=e;g.activateChannels=f}),98);\n__d(\"WorkerQPLChannel\",[\"WorkerFuncChannel\",\"performanceAbsoluteNow\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=new(d(\"WorkerFuncChannel\").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=(h||(h=c(\"performanceAbsoluteNow\")))());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers[\"extends\"]({},e,{timestamp:(h||(h=c(\"performanceAbsoluteNow\")))()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=(h||(h=c(\"performanceAbsoluteNow\")))());return a.markerEnd(b,d,e,f)}}},\"qpl\");function a(a){i.setMessagePort(a)}function b(a){i.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);\n__d(\"WAShiftTimer\",[\"WAErr\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){h(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){h(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){h(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){h(a);h(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function h(a){if(!(a>=0))throw c(\"WAErr\")(\"ShiftTimer must be given delayMs >= 0\")}g.ShiftTimer=a}),98);\n__d(\"WABridgeBatcher\",[\"WAShiftTimer\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=20,i=1e3;a=function(){function a(a,b){var c=this;this.$1=null;this.$4=h;this.$5=Date.now();this.$6=new(d(\"WAShiftTimer\").ShiftTimer)(function(){var a=c.$1;if(a==null)return;c.$1=null;c.$2(a)});this.$2=b;this.$3=a}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$6.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$5,0)\/i;b=Math.min(b+c,h);this.$4=b;this.$5=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$6.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$6.cancel()};return a}();g.BridgeBatcher=a}),98);\n__d(\"WAPromiseCallSync\",[\"Promise\"],(function(a,b,c,d,e,f){\"use strict\";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b(\"Promise\"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b(\"Promise\"))).reject(a)}}f.promiseCallSync=a}),66);\n__d(\"WAPromiseManagement\",[\"WAPromiseCallSync\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){var b=null,c=function(){b||(b=d(\"WAPromiseCallSync\").promiseCallSync(a)[\"finally\"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f[\"finally\"](function(){return void c[\"delete\"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a[\"finally\"](function(){h[\"delete\"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);\n__d(\"WACrossWorkerPortal\",[\"Promise\",\"WABridgeBatcher\",\"WAErr\",\"WALogger\",\"WAPromiseManagement\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([\"absorbPortal: transferring request #\",\"\"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge unexpected non-result to call\"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge unexpected result to cast: \",\"\"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge unrecognized result \",\"\"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge \",\" response of \",\"\"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge \",\" request for \",\"\"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge queuing \",\" msgs\"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge sending \",\" across (delayed)\"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge received msg on old port\"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Bridge updating port\"]);r=function(){return a};return a}var s=function(){function a(a,b,c,e){var f=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();this.processedRequests=new Set();this.$1=a;this.sendStream=new(d(\"WABridgeBatcher\").BridgeBatcher)(b,function(a){f.$3(a)});c.forEach(function(b){a.setNamespaceHandler(b,f.$4(b))});this.clientId=e}var e=a.prototype;e.$5=function(){var a=this.clientId!=null?this.clientId+\"_\":\"\";return\"\"+a+this.$2++};e.$6=function(a){a=a.split(\"_\");return a.length!==2?null:a[0]};e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners[\"delete\"](a)}};e.setPort=function(a){var b=this;d(\"WALogger\").LOG(r());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d(\"WALogger\").WARN(q()).devConsole(c.data);return}c=c.data;if(!c||!Array.isArray(c))return;c.forEach(function(c){b.$7(c,\"incoming\"),b.$8(a,c)})};this.openRequests.forEach(function(a){a=a.request;d(\"WALogger\").LOG(p(),a.name);b.sendStream.addEvent({type:\"request\",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f){b.$9(a,c,d,e,f)}};e.$9=function(a,b,c,d,e){var f=this.$5();a={requestId:f,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e};this.openRequests.set(f,{request:a,resolver:d});this.sendStream.addEvent({type:\"request\",content:a})};e.$10=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:\"result\",content:b})};e.$3=function(a){var b=this,c=this.port;if(!c){d(\"WALogger\").LOG(o(),a.length);return}c.postMessage(a);a.forEach(function(a){return b.$7(a,\"outgoing\")})};e.$7=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$8=function(a,e){var f=this;if(e.type===\"request\"){var g=e.content,i=g.namespace,o=g.name,p=g.requestId,q=g.arg,r=g.expectsResponse,s=g.silentLog;s||d(\"WALogger\").LOG(n(),p,o);g=this.$1;if(r){r=g.sendAndReceive(i,o,q,s).then(function(b){f.$10(a,{requestId:p,type:\"success\",result:b,silentLog:s})},function(b){f.$10(a,{requestId:p,type:\"error\",result:String(b),silentLog:s})});d(\"WAPromiseManagement\").preventGarbageCollection(r)}else{g.fireAndForget(i,o,q,s);r={type:\"result\",content:{requestId:p,type:\"handled\",silentLog:s}};this.$7(r,\"outgoing\");a.postMessage([r])}}else{e.type;g=e.content;i=g.requestId;o=g.type;q=g.result;r=g.silentLog;r||d(\"WALogger\").LOG(m(),i,o);e=this.$6(i);if(e!==this.clientId||this.processedRequests.has(i))return;g=this.openRequests.get(i);if(!g){d(\"WALogger\").WARN(l(),i);return}switch(o){case\"success\":case\"error\":this.openRequests[\"delete\"](i);this.processedRequests.add(i);r=g.resolver;r?r(o===\"success\"?q:(h||(h=b(\"Promise\"))).reject(c(\"WAErr\")(q))):d(\"WALogger\").ERROR(k(),q);break;case\"handled\":g.resolver?d(\"WALogger\").ERROR(j()):(this.openRequests[\"delete\"](i),this.processedRequests.add(i));break}}};return a}();function a(a,b,c,d){return new s(a,c,b,d)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,h=b.silentLog;d(\"WALogger\").LOG(i(),b.requestId);a?a(c.sendAndReceive(e,f,g,h)):c.fireAndForget(e,f,g,h)})}g.CrossWorkerPortal=s;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);\n__d(\"WAOfflineUtils\",[\"$InternalEnum\"],(function(a,b,c,d,e,f){\"use strict\";a=b(\"$InternalEnum\").Mirrored([\"INIT\",\"OFFLINE_RESUME\",\"ONLINE\"]);c=b(\"$InternalEnum\")({Initializing:\"initializing\",Failed:\"failed\",Processing:\"processing\",Complete:\"complete\"});f.ServerRPCMode=a;f.WAClientInfraOfflineProgress=c}),66);\n__d(\"MAWLoggerUtils\",[],(function(a,b,c,d,e,f){\"use strict\";a={CleanerPurge:\"CleanerPurge\",CleanerStart:\"CleanerStart\",CleanerTimestamp:\"CleanerTimestamp\",CleanerUpdate:\"CleanerUpdate\",Countdown:\"Countdown\",Ephemeral:\"Ephemeral\",Incoming:\"Incoming\",MsgCleaner:\"MsgCleaner\",OnLoad:\"OnLoad\",OnRead:\"OnRead\",Outgoing:\"Outgoing\",PeerReceipt:\"PeerReceipt\",SettingChange:\"SettingChange\",SettingSync:\"SettingSync\",CryptoManager:\"CryptoManager\",SignedPrekey:\"SignedPrekey\",OneTimePrekey:\"OneTimePrekey\",DeviceRegistration:\"DeviceRegistration\",SignedPrekeyRotation:\"SignedPrekeyRotation\",PrekeyGenerateAndUpload:\"PrekeyGenerateAndUpload\",MessageReceive:\"MessageReceive\",MediaDownload:\"MediaDownload\",MediaPreview:\"MediaPreview\",WorkerSetup:\"WorkerSetup\",MAWWorker:\"MAWWorker\",MAWInit:\"MAWInit\",LogoutHandler:\"LogoutHandler\"};f.Tag=a}),66);\/*FB_PKG_DELIM*\/\n__d(\"InstamadilloReplyAttachmentId\",[\"I64\",\"ReQL\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;return(h||(h=d(\"I64\"))).of_string(a.attachmentFbid)});return i.apply(this,arguments)}g.getReplyAttachmentId=a}),98);\n__d(\"InstamadilloReplyAttachmentType\",[\"LSIntEnum\",\"LSReplyMessageAttachmentType\",\"MessagingAttachmentType\",\"ReQL\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(e={},e[(f=c(\"MessagingAttachmentType\")).STICKER]=(c=c(\"LSReplyMessageAttachmentType\")).STICKER,e[f.SELFIE_STICKER]=c.STICKER,e[f.IMAGE]=c.PHOTO,e[f.ANIMATED_IMAGE]=c.GIF,e[f.VIDEO]=c.VIDEO,e[f.AUDIO]=c.AUDIO,e[f.XMA]=c.XMA,e[f.EPHEMERAL_IMAGE]=c.PERMANENT_RAVEN_PHOTO,e[f.EPHEMERAL_VIDEO]=c.PERMANENT_RAVEN_VIDEO,e[f.SOUND_BITE]=c.SOUND_BITE,e[f.POWER_UP]=c.POWER_UP,e[f.FILE]=c.OTHER,e[f.CATALOG_ITEM]=c.OTHER,e);function a(a,b){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;b=(h||(h=d(\"LSIntEnum\"))).unwrapIntEnum(a.attachmentType);a=i[b];if(a!=null)return(h||(h=d(\"LSIntEnum\"))).ofNumber(a)});return j.apply(this,arguments)}g.getReplyAttachmentType=a}),98);\n__d(\"InstamadilloReplySnippet\",[\"CurrentMessengerUser\",\"I64\",\"LSMessagingThreadTypeUtil\",\"PolarisDirectStrings\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a,b){var c;d(\"PolarisDirectStrings\").REPLIED_TO;a&&b?c=d(\"PolarisDirectStrings\").YOU_REPLIED_TO_YOURSELF:b?c=d(\"PolarisDirectStrings\").REPLIED_TO_YOU:a?c=d(\"PolarisDirectStrings\").YOU_REPLIED:c=d(\"PolarisDirectStrings\").REPLIED_TO_THEMSELVES;return c.toString()}function j(a,b,c,e,f){var g=d(\"PolarisDirectStrings\").userRepliedToUser(f,e);b&&c?g=d(\"PolarisDirectStrings\").YOU_REPLIED_TO_YOURSELF:c?g=d(\"PolarisDirectStrings\").userRepliedToYou(f):b?g=d(\"PolarisDirectStrings\").youRepliedToUser(e):a&&(g=d(\"PolarisDirectStrings\").userRepliedToThemselves(f));return g.toString()}function a(a,b,c){var e=b.name,f=c.name,g=(h||(h=d(\"I64\"))).of_string(d(\"CurrentMessengerUser\").getIDorEIMU()),k=h.equal(b.id,c.id);b=h.equal(b.id,g);c=h.equal(c.id,g);g=d(\"LSMessagingThreadTypeUtil\").isOneToOne(a.threadType);if(g)return i(b,c);else return j(k,b,c,f,e)}g.getReplySnippet=a}),98);\n__d(\"InstamadilloReplySourceTypeV2\",[\"LSIntEnum\",\"LSMessageReplySourceTypeV2\",\"LSXmaContentType\",\"ReQL\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a){switch(a){case c(\"LSXmaContentType\").IG_STORY_PHOTO_SHARE:case c(\"LSXmaContentType\").IG_STORY_VIDEO_SHARE:case c(\"LSXmaContentType\").IG_STORY_PHOTO_MENTION:case c(\"LSXmaContentType\").IG_STORY_VIDEO_MENTION:case c(\"LSXmaContentType\").IG_STORY_PHOTO_HIGHLIGHT_SHARE:case c(\"LSXmaContentType\").IG_STORY_VIDEO_HIGHLIGHT_SHARE:return!0;default:return!1}}function a(a,b){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){var e=c(\"LSMessageReplySourceTypeV2\").MESSAGE;a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));b=a;if((b==null?void 0:b.xmaContentType)!=null){a=(h||(h=d(\"LSIntEnum\"))).unwrapIntEnum(b.xmaContentType);i(a)&&(e=c(\"LSMessageReplySourceTypeV2\").STORY);e=c(\"LSMessageReplySourceTypeV2\").XMA}return(h||(h=d(\"LSIntEnum\"))).ofNumber(e)});return j.apply(this,arguments)}g.getReplySourceTypeV2=a}),98);\n__d(\"InstamadilloReplyStatus\",[\"I64\",\"LSIntEnum\",\"LSReplyMessageStatus\",\"WATimeUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a){var b=a.isUnsent?c(\"LSReplyMessageStatus\").DELETED:c(\"LSReplyMessageStatus\").VALID;if(a.ephemeralExpirationTs!=null){a=(h||(h=d(\"I64\"))).to_int32(h.sub(a.ephemeralExpirationTs,h.of_float(d(\"WATimeUtils\").unixTime())));a<=0&&(b=c(\"LSReplyMessageStatus\").EXPIRED)}return(i||(i=d(\"LSIntEnum\"))).ofNumber(b)}g.getReplyStatusType=a}),98);\n__d(\"InstamadilloReplyMessageParams\",[\"InstamadilloMessageIdUtils\",\"InstamadilloReplyAttachmentId\",\"InstamadilloReplyAttachmentType\",\"InstamadilloReplySnippet\",\"InstamadilloReplySourceTypeV2\",\"InstamadilloReplyStatus\",\"LSIntEnum\",\"LSMessageReplySourceType\",\"Promise\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(){return{replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0}}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e,f,g){e=(yield (i||(i=b(\"Promise\"))).all([g.threads.get(a),g.contacts.get(e),g.messages.index(\"messageId\").get(d(\"InstamadilloMessageIdUtils\").toInstamadilloMessageId(a,f))]));a=e[0];f=e[1];e=e[2];var j={};if(f==null||a==null||e==null)return j;j.replySourceId=e.messageId;j.replySourceTimestampMs=e.timestampMs;j.replyToUserId=e.senderId;j.replyMessageText=e.text;j.replyStatus=d(\"InstamadilloReplyStatus\").getReplyStatusType(e);var k=(yield g.contacts.get(e.senderId));k!=null&&(j.replySnippet=d(\"InstamadilloReplySnippet\").getReplySnippet(a,f,k));j.replySourceType=(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSMessageReplySourceType\").MESSAGE);a=(yield i.all([d(\"InstamadilloReplySourceTypeV2\").getReplySourceTypeV2(g,e),d(\"InstamadilloReplyAttachmentType\").getReplyAttachmentType(g,e),d(\"InstamadilloReplyAttachmentId\").getReplyAttachmentId(g,e)]));f=a[0];k=a[1];g=a[2];j.replySourceTypeV2=f;j.replyAttachmentType=k;j.replyAttachmentId=g;return j});return j.apply(this,arguments)}g.getEmptyReplyMessageParams=a;g.getReplyMessageParams=e}),98);\n__d(\"InstamadilloMessageFactory\",[\"FBLogger\",\"I64\",\"InstamadilloMessageIdUtils\",\"InstamadilloReplyMessageParams\",\"LSAuthorityLevel\",\"LSBitFlag\",\"LSIntEnum\",\"LSMessageRenderingType\",\"LSMessageReplySourceTypeV2\",\"LSMessageSendStatus\",\"LSMessageThreadUnsendabilityStatus\",\"LSQuickReplyType\",\"MAWAuthor\",\"MessagingAttachmentType\",\"WAJids\",\"WALongInt\",\"WATimeUtils\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function j(a){var b=a.externalId,c=d(\"WAJids\").threadIdForChatJid(a.chat);a=(h||(h=d(\"I64\"))).of_string(d(\"WAJids\").threadIdForChatJid(a.chat));c=d(\"InstamadilloMessageIdUtils\").toInstamadilloMessageId(c,b);return{messageId:c,threadKey:a}}function a(a,b){var e=j(a),f=e.messageId;e=e.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d(\"I64\"))).zero,attachmentType:(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"MessagingAttachmentType\").NONE),authorityLevel:h.of_int32(c(\"LSAuthorityLevel\").AUTHORITATIVE),hasMedia:!0,hasXma:!1,isPreviewImage:!1,isSharable:!1,messageId:f,threadKey:e,timestampMs:b,xmaLayoutType:h.zero,xmasTemplateType:h.zero};return a}function e(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d(\"I64\"))).zero,ctaId:h.zero,messageId:c,threadKey:b,title:\"\"};return a}function f(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d(\"I64\"))).zero,defaultActionEnableExtensions:!1,messageId:c,threadKey:b};return a}function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,e,f){var g,k=d(\"MAWAuthor\").getAuthorUserJid(b.author);if(k==null)return c(\"FBLogger\")(\"igd_web_on_msgr\").warn(\"Skip createBaseInstamadilloMessage: a message cannot exist without an author\");var l=b.externalId;k=(h||(h=d(\"I64\"))).of_string(d(\"WAJids\").userIdFromJid(k));b=j(b);var m=b.messageId;b=b.threadKey;var n=(yield a.threads.get(b));n=(n=n==null?void 0:n.cannotUnsendReason)!=null?n:(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSMessageThreadUnsendabilityStatus\").CAN_UNSEND);var o={};g=f==null?void 0:(g=f.repliedToMessage)==null?void 0:g.repliedToMessageOtid;g!=null&&(o=(yield d(\"InstamadilloReplyMessageParams\").getReplyMessageParams(b,k,g,a)));a=f==null?void 0:(a=f.forwardingParams)==null?void 0:a.forwardedThreadId;a=a!=null;var p,q;if(f==null?void 0:f.ephemeralityParams){p=(f=d(\"WALongInt\").maybeNumberOrThrowIfTooLarge(f.ephemeralityParams.ephemeralDurationSec))!=null?f:0;q=d(\"WATimeUtils\").futureUnixTime(p,d(\"WATimeUtils\").castMilliSecondsToUnixTime((h||(h=d(\"I64\"))).to_float(e)))}f=babelHelpers[\"extends\"]({authorityLevel:h.of_int32(c(\"LSAuthorityLevel\").AUTHORITATIVE),cannotUnsendReason:n,displayedContentTypes:d(\"LSBitFlag\").empty,editCount:h.zero,ephemeralDurationInSec:p!=null?(h||(h=d(\"I64\"))).of_float(p):void 0,ephemeralExpirationTs:q!=null?(h||(h=d(\"I64\"))).of_float(q):void 0,hasQuickReplies:g!=null,isAdminMessage:!1,isCollapsed:!1,isForwarded:a,isUnsent:!1,messageId:m,messageRenderingType:h.of_int32(c(\"LSMessageRenderingType\").DEFAULT),offlineThreadingId:l,primarySortKey:e,quickReplyType:h.of_int32(c(\"LSQuickReplyType\").NONE),replyAttachmentType:void 0,replySourceTypeV2:a?(h||(h=d(\"I64\"))).of_int32(c(\"LSMessageReplySourceTypeV2\").FORWARD):void 0,replyStatus:void 0,secondarySortKey:void 0,senderId:k,sendStatus:h.of_int32(c(\"LSMessageSendStatus\").SERVER_RECEIVED),sendStatusV2:h.of_int32(2),threadKey:b,timestampMs:e,transportKey:\"Instamadillo\",unsentTimestampMs:void 0,viewFlags:h.zero},o);return f});return l.apply(this,arguments)}g.createBaseAttachment=a;g.createBaseAttachmentCta=e;g.createBaseAttachmentItem=f;g.createBaseMessage=k}),98);\n__d(\"InstamadilloTextMessageUtils\",[\"MWLinkRegex\",\"URLMatcher\",\"isStringNullOrEmpty\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){return c(\"isStringNullOrEmpty\")(a)?!1:c(\"URLMatcher\").multiMatchToPattern(a,d(\"MWLinkRegex\").getLinkRegex()).length>0&&c(\"URLMatcher\").multiMatchToPattern(a,d(\"MWLinkRegex\").getEmailRegex()).length===0}g.textHasLinks=a}),98);\n__d(\"LSUpdateThreadSnippet\",[\"LSGetThreadParticipantDisplayName\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.resolve((d[1]=\"\",d[0]=d[1]===\"\"?void 0:d[1]))},function(e){return d[0]!==void 0?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})}):a[7]?c.sequence([function(e){return c.i64.neq(a[3],void 0)?c.sequence([function(e){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),a[0],a[3]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return a[1]!==void 0?(d[2]!==void 0?d[4]=[d[2],\": \",a[1]].join(\"\"):d[4]=a[1],d[3]=d[4]):d[3]=void 0,d[1]=d[3]}]):c.resolve(d[1]=a[1])},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}]):c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:a[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSUpdateThreadSnippetFromLastMessageV2\",[\"LSGetThreadParticipantDisplayName\",\"LSGetViewerFBID\",\"LSUpdateThreadSnippet\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetchDesc([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(a){return d[5]=f.text,d[4]=f.threadKey,d[7]=c.i64.cast([0,0]),d[8]=f.messageId,d[3]=f.senderId,d[6]=f.stickerId,d[2]=f.isAdminMessage,d[0]=!0,d[2]||!d[0]?c.resolve(d[1]=d[5]==null?\"\":d[5]):c.sequence([function(a){return f.isUnsent?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.i64.eq(d[10],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2375715979]),void 0).then(function(a){return d[15]=a})},function(a){return d[11]=d[15]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=c.createArray(),d[18]=(d[16].push(d[15]),d[16]),c.localizeV2Async(c.i64.cast([0,3810165735]),d[16]).then(function(a){return d[17]=a})},function(a){return d[11]=d[17]}])},function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=!1:(e=b.item,d[12]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[12]?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a)})},function(a){return d[18]!==void 0?d[21]=d[18]:d[21]=d[11],d[14]=d[21]}]):c.resolve(d[14]=d[11])},function(a){return d[9]=d[14]}]):c.sequence([function(a){return c.sequence([function(a){return c.i64.eq(f.replyType,c.i64.cast([0,1]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1899892426]),void 0).then(function(a){return d[14]=a})},function(a){return d[13]=d[14]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[15]=c.createArray(),d[17]=(d[15].push(d[14]),d[15]),c.localizeV2Async(c.i64.cast([0,3287869262]),d[15]).then(function(a){return d[16]=a})},function(a){return d[13]=d[16]}])},function(a){return d[11]=d[13]}]):c.sequence([function(a){return d[5]!==void 0&&d[5]!==\"\"?c.sequence([function(a){return d[15]=d[5]==null?\"\":d[5],c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.i64.eq(d[13],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[16]=a})},function(a){return d[14]=[d[16],\": \",d[15]].join(\"\")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[16]=!1:(e=b.item,d[16]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[16]||!1?c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[18]=[d[19],\": \",d[15]].join(\"\")}]):c.resolve(d[18]=d[15])},function(a){return d[14]=d[18]}])},function(a){return d[12]=d[14]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[6],a)})?c.sequence([function(a){return d[16]=\"\\udb80\\udc00\",c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.i64.eq(d[14],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[17]=a})},function(a){return d[15]=[d[17],\": \",d[16]].join(\"\")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[17]=!1:(e=b.item,d[17]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[17]||!1?c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[19]=[d[20],\": \",d[16]].join(\"\")}]):c.resolve(d[19]=d[16])},function(a){return d[15]=d[19]}])},function(a){return d[13]=d[15]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.i64.eq(d[15],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[17]=a})},function(a){return d[16]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[18]).then(function(a){return d[19]=a})},function(a){return d[16]=d[19]}])},function(a){return d[14]=d[16]}]):c.sequence([function(a){return c.count(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]})).then(function(a){return d[15]=a})},function(a){return c.i64.eq(d[15],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[17],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[19]=a})},function(a){return d[18]=d[19]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=c.createArray(),d[22]=(d[20].push(d[19]),d[20]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[20]).then(function(a){return d[21]=a})},function(a){return d[18]=d[21]}])},function(a){return d[16]=d[18]}]):c.sequence([function(a){return c.i64.eq(d[15],c.i64.cast([0,1]))?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a)})},function(a){return d[24]=void 0,d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,1]))||c.i64.eq(d[18],c.i64.cast([0,15])))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,2]))||c.i64.eq(d[18],c.i64.cast([0,8])))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2106510577]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3960370133]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,3]))?c.sequence([function(a){return d[19]!==void 0?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[19]),d[32]),c.localizeV2Async(c.i64.cast([0,3798396796]),d[32]).then(function(a){return d[33]=a})},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),d[35]=(d[33].push(d[19]),d[33]),c.localizeV2Async(c.i64.cast([0,3388601579]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1556712457]),void 0).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),c.localizeV2Async(c.i64.cast([0,3601791933]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}])},function(a){return d[24]=d[29]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,4]))||c.i64.eq(d[18],c.i64.cast([0,9])))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3759817031]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2934729541]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,5]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,392493418]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,4085467454]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,10]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2738683656]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2996525642]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return c.i64.neq(d[22],void 0)?d[25]=d[22]:(d[20]===\"xma_live_location_sharing\"?d[29]=c.i64.cast([0,5e3]):d[29]=void 0,d[25]=d[29]),c.i64.neq(d[25],void 0)?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[25],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.i64.eq(d[31],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[33]=a})},function(a){return d[32]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[33]),d[34]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[34]).then(function(a){return d[35]=a})},function(a){return d[32]=d[35]}])},function(a){return d[30]=d[32]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1001]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1002]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}])},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1003]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),c.localizeV2Async(c.i64.cast([0,284944921]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1004]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[39]=a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}])},function(a){return d[36]=d[38]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1005]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3557790945]),void 0).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),c.localizeV2Async(c.i64.cast([0,3756846086]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1006]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1007]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),c.localizeV2Async(c.i64.cast([0,284944921]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}])},function(a){return d[39]=d[41]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1008]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1009]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,780378803]),void 0).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),c.localizeV2Async(c.i64.cast([0,3918212613]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1010]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3161890215]),void 0).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),c.localizeV2Async(c.i64.cast([0,863428456]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1011]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2716405471]),void 0).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),c.localizeV2Async(c.i64.cast([0,3909474073]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1012]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}])},function(a){return d[44]=d[46]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1013]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1014]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[49]=a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}])},function(a){return d[46]=d[48]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1015]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1016]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1017]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}])},function(a){return d[49]=d[51]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1018]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1019]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.i64.eq(d[52],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[54]=a})},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=c.createArray(),d[57]=(d[55].push(d[54]),d[55]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[55]).then(function(a){return d[56]=a})},function(a){return d[53]=d[56]}])},function(a){return d[51]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2001]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.i64.eq(d[54],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[56]=a})},function(a){return d[55]=d[56]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[57]=c.createArray(),d[59]=(d[57].push(d[56]),d[57]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[57]).then(function(a){return d[58]=a})},function(a){return d[55]=d[58]}])},function(a){return d[53]=d[55]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2002]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),c.localizeV2Async(c.i64.cast([0,284944921]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2003]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.i64.eq(d[56],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[58]=a})},function(a){return d[57]=d[58]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=c.createArray(),d[61]=(d[59].push(d[58]),d[59]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[59]).then(function(a){return d[60]=a})},function(a){return d[57]=d[60]}])},function(a){return d[55]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2004]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.i64.eq(d[57],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[59]=a})},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return d[60]=c.createArray(),d[62]=(d[60].push(d[59]),d[60]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[60]).then(function(a){return d[61]=a})},function(a){return d[58]=d[61]}])},function(a){return d[56]=d[58]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2005]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,772459202]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),c.localizeV2Async(c.i64.cast([0,3546068912]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2006]))?c.sequence([function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2459540079]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),c.localizeV2Async(c.i64.cast([0,1596311291]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2253698324]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),c.localizeV2Async(c.i64.cast([0,4269602817]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2007]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.i64.eq(d[60],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[62]=a})},function(a){return d[61]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[62]),d[63]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[63]).then(function(a){return d[64]=a})},function(a){return d[61]=d[64]}])},function(a){return d[59]=d[61]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2008]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2009]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[63]=a[0],a})},function(a){return c.i64.eq(d[63],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[65]=a})},function(a){return d[64]=d[65]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return d[66]=c.createArray(),d[68]=(d[66].push(d[65]),d[66]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[66]).then(function(a){return d[67]=a})},function(a){return d[64]=d[67]}])},function(a){return d[62]=d[64]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3001]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3002]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3003]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.i64.eq(d[66],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[68]=a})},function(a){return d[67]=d[68]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return d[69]=c.createArray(),d[71]=(d[69].push(d[68]),d[69]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[69]).then(function(a){return d[70]=a})},function(a){return d[67]=d[70]}])},function(a){return d[65]=d[67]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3006]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3007]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3008]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3009]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.i64.eq(d[70],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[72]=a})},function(a){return d[71]=d[72]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return d[73]=c.createArray(),d[75]=(d[73].push(d[72]),d[73]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[73]).then(function(a){return d[74]=a})},function(a){return d[71]=d[74]}])},function(a){return d[69]=d[71]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3010]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[73]=a})},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[74]).then(function(a){return d[75]=a})},function(a){return d[72]=d[75]}])},function(a){return d[70]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3012]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.i64.eq(d[72],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[74]=a})},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[74]),d[75]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[75]).then(function(a){return d[76]=a})},function(a){return d[73]=d[76]}])},function(a){return d[71]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3014]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3015]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.i64.eq(d[74],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3471188061]),void 0).then(function(a){return d[76]=a})},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[77]=c.createArray(),d[79]=(d[77].push(d[76]),d[77]),c.localizeV2Async(c.i64.cast([0,2776822462]),d[77]).then(function(a){return d[78]=a})},function(a){return d[75]=d[78]}])},function(a){return d[73]=d[75]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3016]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.i64.eq(d[75],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[77]=a})},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[78]=c.createArray(),d[80]=(d[78].push(d[77]),d[78]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[78]).then(function(a){return d[79]=a})},function(a){return d[76]=d[79]}])},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.i64.eq(d[76],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[80]=a})},function(a){return d[77]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[77]=d[80]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1739999037]),void 0).then(function(a){return d[79]=a})},function(a){return d[75]=d[79]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4001]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[78]=d[81]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3373597599]),void 0).then(function(a){return d[80]=a})},function(a){return d[76]=d[80]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4002]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[82]=a[0],a})},function(a){return d[79]=d[82]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.i64.eq(d[80],d[3])?c.sequence([function(a){return d[82]=c.createArray(),d[84]=(d[82].push(d[79]),d[82]),c.localizeV2Async(c.i64.cast([0,259473449]),d[82]).then(function(a){return d[83]=a})},function(a){return d[81]=d[83]}]):c.sequence([function(a){return d[82]=c.createArray(),d[84]=(d[82].push(d[79]),d[82]),c.localizeV2Async(c.i64.cast([0,1338912959]),d[82]).then(function(a){return d[83]=a})},function(a){return d[81]=d[83]}])},function(a){return d[77]=d[81]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4003]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.i64.eq(d[79],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[83]=a})},function(a){return d[80]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[80]=d[83]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[3])?c.sequence([function(a){return d[83]=c.createArray(),d[85]=(d[83].push(d[80]),d[83]),c.localizeV2Async(c.i64.cast([0,812940701]),d[83]).then(function(a){return d[84]=a})},function(a){return d[82]=d[84]}]):c.sequence([function(a){return d[83]=c.createArray(),d[85]=(d[83].push(d[80]),d[83]),c.localizeV2Async(c.i64.cast([0,1099878966]),d[83]).then(function(a){return d[84]=a})},function(a){return d[82]=d[84]}])},function(a){return d[78]=d[82]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4004]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[80]=a[0],a})},function(a){return c.i64.eq(d[80],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[84]=a})},function(a){return d[81]=d[84]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[81]=d[84]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[83]=a})},function(a){return d[79]=d[83]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4005]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[82]=d[85]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[84]=a})},function(a){return d[80]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4006]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.i64.eq(d[82],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[86]=a})},function(a){return d[83]=d[86]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[83]=d[86]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[84]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,2470414797]),void 0).then(function(a){return d[85]=a})},function(a){return d[81]=d[85]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4007]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[87]=a})},function(a){return d[84]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[84]=d[87]}])},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1306024833]),void 0).then(function(a){return d[86]=a})},function(a){return d[82]=d[86]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,5e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[84]=a[0],a})},function(a){return c.i64.eq(d[84],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2135145355]),void 0).then(function(a){return d[86]=a})},function(a){return d[85]=d[86]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[87]=c.createArray(),d[89]=(d[87].push(d[86]),d[87]),c.localizeV2Async(c.i64.cast([0,3603511704]),d[87]).then(function(a){return d[88]=a})},function(a){return d[85]=d[88]}])},function(a){return d[83]=d[85]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,6e3]))?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}]):c.resolve(d[84]=void 0)},function(a){return d[83]=d[84]}])},function(a){return d[82]=d[83]}])},function(a){return d[81]=d[82]}])},function(a){return d[80]=d[81]}])},function(a){return d[79]=d[80]}])},function(a){return d[78]=d[79]}])},function(a){return d[77]=d[78]}])},function(a){return d[76]=d[77]}])},function(a){return d[75]=d[76]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}])},function(a){return d[72]=d[73]}])},function(a){return d[71]=d[72]}])},function(a){return d[70]=d[71]}])},function(a){return d[69]=d[70]}])},function(a){return d[68]=d[69]}])},function(a){return d[67]=d[68]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[26]=d[30]}]):c.resolve(d[26]=void 0)},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,7]))&&d[26]!==void 0?d[24]=d[26]:0,c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[17]=d[24]==null?d[28]:d[24]}]):c.sequence([function(a){return d[18]=!0,c.forEach(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[18]=!1})},function(a){return d[18]?c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return d[22]=c.createArray(),d[24]=(d[22].push(d[15]),d[22]),c.localizeV2Async(c.i64.cast([0,705614308]),d[22]).then(function(a){return d[23]=a})},function(a){return d[21]=d[23]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),d[25]=(d[23].push(d[15]),d[23]),c.localizeV2Async(c.i64.cast([0,313217698]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3558654267]),void 0).then(function(a){return d[22]=a})},function(a){return d[21]=d[22]}]):c.sequence([function(a){return c.storedProcedure(b(\"LSGetThreadParticipantDisplayName\"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),c.localizeV2Async(c.i64.cast([0,3422266740]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}])},function(a){return d[17]=d[19]}])},function(a){return d[16]=d[17]}])},function(a){return d[14]=d[16]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[10]=d[11]}])},function(a){return d[9]=d[10]}])},function(a){return d[1]=d[9]}])},function(e){return c.storedProcedure(b(\"LSUpdateThreadSnippet\"),a[0],d[1],d[2],d[3],c.like(d[1],\"%\\udb80\\udc00%\"),void 0,void 0,!1)}]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSUpdateThreadSnippetFromLastMessageV2StoredProcedure\",[\"LSUpdateThreadSnippetFromLastMessageV2\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c(\"LSUpdateThreadSnippetFromLastMessageV2\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSBumpThreadStoredProcedure\",[\"LSBumpThread\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.bumpTimestampMs;d[1]=b.readStateEffect;d[2]=b.threadKey;return c(\"LSBumpThread\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"MessageThreadReadState\",[],(function(a,b,c,d,e,f){\"use strict\";a={MARK_READ:1,MARK_UNREAD:2,KEEP_AS_IS:3};b=a;f[\"default\"]=b}),66);\n__d(\"instamadilloBumpThread\",[\"FBLogger\",\"I64\",\"LSBumpThreadStoredProcedure\",\"LSFactory\",\"LSIntEnum\",\"MAWAuthor\",\"MAWCurrentUser\",\"MessageThreadReadState\",\"WAJids\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,e){var f=d(\"MAWAuthor\").getAuthorUserJid(b.author);if(f==null)return c(\"FBLogger\")(\"igd_web_on_msgr\").warn(\"Skip instamadilloBumpThread: a message cannot exist without an author\");f=(h||(h=d(\"I64\"))).of_string(d(\"WAJids\").userIdFromJid(f));b=h.of_string(d(\"WAJids\").threadIdForChatJid(b.chat));var g=(yield a.threads.get(b));f=h.equal(f,h.of_string(d(\"MAWCurrentUser\").getID()));f=(i||(i=d(\"LSIntEnum\"))).ofNumber(f?c(\"MessageThreadReadState\").KEEP_AS_IS:c(\"MessageThreadReadState\").MARK_UNREAD);g=g==null?void 0:g.lastActivityTimestampMs;g!=null&&(h||(h=d(\"I64\"))).ge(e,g)&&(yield c(\"LSBumpThreadStoredProcedure\")(c(\"LSFactory\")(a),{bumpTimestampMs:e,readStateEffect:f,threadKey:b}))});return j.apply(this,arguments)}g[\"default\"]=a}),98);\n__d(\"handleInstamadilloReceiverFetchContent\",[\"I64\",\"IGDXMAAttachmentUtil\",\"InstamadilloMessageFactory\",\"InstamadilloTextMessageUtils\",\"LSAuthorityLevel\",\"LSFactory\",\"LSIntEnum\",\"LSUpdateThreadSnippetFromLastMessageV2StoredProcedure\",\"LSVerifyThreadRowExistsV2StoredProcedure\",\"MAWExternalId\",\"MNLSXMALayoutType\",\"MessagingAttachmentType\",\"WAResultOrError\",\"asyncToGeneratorRuntime\",\"instamadilloBumpThread\",\"isStringNullOrEmpty\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a,e,f,g,j,k,l,m,n){return a.runInTransaction(function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){var b=(yield d(\"InstamadilloMessageFactory\").createBaseMessage(a,e,f,k));if(b==null)return d(\"WAResultOrError\").makeResult({reason:\"cannot_create_base_message\",result:\"skip\"});var o=b.threadKey,p=JSON.stringify(j);yield c(\"LSVerifyThreadRowExistsV2StoredProcedure\")(c(\"LSFactory\")(a),{authorityLevel:(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSAuthorityLevel\").AUTHORITATIVE),syncGroup:(i||(i=d(\"I64\"))).of_int32(1),threadKey:o,threadType:i.of_int32(1)});var q=8;c(\"isStringNullOrEmpty\")(g.text)||(q+=1);yield a.messages.put(babelHelpers[\"extends\"]({},b,{displayedContentTypes:i.of_int32(q),text:g.text,textHasLinks:d(\"InstamadilloTextMessageUtils\").textHasLinks(g.text),xmaReceiverFetchParams:p},n));var r;b=m==null?void 0:m.type_;if(b!=null){q=(i||(i=d(\"I64\"))).of_string(d(\"MAWExternalId\").generateExternalId());r=babelHelpers[\"extends\"]({},d(\"InstamadilloMessageFactory\").createBaseAttachmentCta(e),{ctaId:q,type_:b},m);yield a.attachment_ctas.put(r)}yield a.attachments.put(babelHelpers[\"extends\"]({},d(\"InstamadilloMessageFactory\").createBaseAttachment(e,f),{attachmentType:h.ofNumber(c(\"MessagingAttachmentType\").XMA),defaultCtaId:(p=r)==null?void 0:p.ctaId,defaultCtaTitle:(q=r)==null?void 0:q.title,defaultCtaType:(b=r)==null?void 0:b.type_,faviconUrl:d(\"IGDXMAAttachmentUtil\").DEFAULT_PROFILE_URL,hasXma:!0,isSharable:!0,xmaLayoutType:h.ofNumber(c(\"MNLSXMALayoutType\").SINGLE)},l));yield c(\"instamadilloBumpThread\")(a,e,f);yield c(\"LSUpdateThreadSnippetFromLastMessageV2StoredProcedure\")(c(\"LSFactory\")(a),{threadKey:o});return d(\"WAResultOrError\").makeResult({result:\"handled\"})});return function(b){return a.apply(this,arguments)}}(),\"readwrite\")}g[\"default\"]=a}),98);\n__d(\"renderInstamadilloOptimisticXmaReceiverFetch\",[\"I64\",\"MAWCurrentUser\",\"OfflineThreadingId\",\"Promise\",\"WAJids\",\"WAStanzaUtils\",\"asyncToGeneratorRuntime\",\"handleInstamadilloReceiverFetchContent\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=c(\"requireDeferred\")(\"LSDatabaseSingletonLazyWrapper\").__setRef(\"renderInstamadilloOptimisticXmaReceiverFetch\");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e,f,g,k,l){var m=d(\"OfflineThreadingId\").createOfflineThreadingID(),n=d(\"WAJids\").toMsgrUserJid(d(\"MAWCurrentUser\").getID()),o=(i||(i=d(\"I64\"))).of_float(Date.now());n={author:n,chat:d(\"WAJids\").toMsgrUserJid(a),externalId:d(\"WAStanzaUtils\").toStanzaId(m)};a=(yield j.load());a=(yield a());yield c(\"handleInstamadilloReceiverFetchContent\")(a,n,o,e,f,{},g,k,l);return(h||(h=b(\"Promise\"))).resolve(m)});return k.apply(this,arguments)}g[\"default\"]=a}),98);\n__d(\"issueSendXMAReceiverFetchCometTask\",[\"CometTaskFramework\",\"MAWCurrentUser\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){return c(\"CometTaskFramework\")(d(\"MAWCurrentUser\").getID()).issueTask(\"igd_send_xma_receiver_fetch\",a)}g[\"default\"]=a}),98);\n__d(\"getSendPostToInstamadilloRecipient\",[\"fbt\",\"I64\",\"IGDDataclassTypes.flow\",\"LSAuthorityLevel\",\"LSMessageSendStatus\",\"asyncToGeneratorRuntime\",\"issueSendXMAReceiverFetchCometTask\",\"renderInstamadilloOptimisticXmaReceiverFetch\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i;function a(a,e,f,g){var j={__typename:\"XMSGIgReceiverFetchXmaFeedFetchParams\",media_igid:a};e={__typename:\"XMSGIgXmaContentRefDataclass\",action_type:d(\"IGDDataclassTypes.flow\").XmsgIgXmaActionType.Share,content_type:d(\"IGDDataclassTypes.flow\").XmsgIgReceiverFetchContentType.Feed,fetch_params:j,owner_fbid:e,target_url:g,username:f};var k={contentRef:JSON.stringify(e)},l={authorityLevel:(i||(i=d(\"I64\"))).of_int32(c(\"LSAuthorityLevel\").OPTIMISTIC),sendStatus:i.of_int32(c(\"LSMessageSendStatus\").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},m={actionUrl:g,nativeUrl:g,targetId:i.of_string(a),type_:\"igd_web_post_share\"},n={authorityLevel:i.of_int32(c(\"LSAuthorityLevel\").OPTIMISTIC),subtitleText:h._(\"__JHASH___C2jDMKyMih__JHASH__\").toString(),titleText:f};return function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,d,e,f){try{var g=(yield c(\"renderInstamadilloOptimisticXmaReceiverFetch\")(a,k,j,n,m,l));yield c(\"issueSendXMAReceiverFetchCometTask\")({comment:d,isDisappearingModeSettingOn:b,offlineThreadingId:g,receiverFetchXma:JSON.stringify(k),threadKey:a});e==null?void 0:e(a)}catch(b){f==null?void 0:f(b,a)}});return function(b,c,d,e,f){return a.apply(this,arguments)}}()}g[\"default\"]=a}),226);\n__d(\"PolarisDesktopPostLoadingShimmer.react\",[\"cx\",\"PolarisIGTheme.react\",\"PolarisReactRedux.react\",\"PolarisSizing\",\"polarisPostModalHelpers\",\"polarisPostSelectors\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function l(a){var b,c=j(8),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;var h=a!=null&&a>d(\"PolarisSizing\").MEDIUM_SCREEN_MIN;b=(b=d(\"PolarisReactRedux.react\").useSelector(function(a){return d(\"polarisPostSelectors\").getPostOrNullById(a,(a=f)!=null?a:\"\")}))==null?void 0:b.isSponsored;b=d(\"polarisPostModalHelpers\").getMediaContainerProps({dimensions:e,hasFooter:b,hasSidebarInRedesign:h,viewportHeight:(b=g)!=null?b:0,viewportWidth:(g=a)!=null?g:0});a=h&&e!=null&&e.width>=e.height;c[0]!==a?(g=\"_aas3\"+(a?\" _aas4\":\"\"),c[0]=a,c[1]=g):g=c[1];c[2]!==e?(h=k.jsx(m,{dimensions:e}),c[2]=e,c[3]=h):h=c[3];c[4]!==g||c[5]!==b||c[6]!==h?(a=k.jsx(\"div\",babelHelpers[\"extends\"]({className:g},b,{children:h})),c[4]=g,c[5]=b,c[6]=h,c[7]=a):a=c[7];return a}function m(a){var b=j(2);a=a.dimensions;var c={},e=d(\"PolarisIGTheme.react\").useTheme();a&&(c.paddingBottom=d(\"PolarisSizing\").getHeightPercent(a)+\"%\");a=e.getTheme()===d(\"PolarisIGTheme.react\").IGTheme.Dark;b[0]!==a?(e=\"_aas5\"+(a?\" _aas6\":\"\"),b[0]=a,b[1]=e):e=b[1];return k.jsx(\"div\",{className:e,style:c})}m.displayName=m.name+\" [from \"+f.id+\"]\";function n(a){var b=j(5),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]!==c||b[1]!==d||b[2]!==e||b[3]!==a?(f=k.jsx(l,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[0]=c,b[1]=d,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function a(a){var b=j(21),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f={},b[0]=f):f=b[0];f=f;if(c){var g;b[1]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g={flexDirection:\"row\"},b[1]=g):g=b[1];f=g}b[2]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=\"_aas7\",b[2]=g):g=b[2];var h;b[3]!==c||b[4]!==d||b[5]!==e||b[6]!==a?(h=k.jsx(n,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[3]=c,b[4]=d,b[5]=e,b[6]=a,b[7]=h):h=b[7];b[8]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(c=\"_aas8\",b[8]=c):c=b[8];b[9]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=\"_aas9\",b[9]=d):d=b[9];b[10]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=k.jsx(\"div\",{className:\"_aasa\"}),b[10]=e):e=b[10];b[11]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=\"_aasb\",b[11]=a):a=b[11];var i;b[12]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(i=k.jsx(\"div\",{className:\"_aasc\"}),b[12]=i):i=b[12];b[13]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=k.jsxs(\"div\",{className:d,children:[e,k.jsxs(\"div\",{className:a,children:[i,k.jsx(\"div\",{className:\"_aasd\"})]})]}),b[13]=d):d=b[13];b[14]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=\"_aase\",b[14]=e):e=b[14];b[15]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=k.jsx(\"div\",{className:\"_aasf\"}),b[15]=a):a=b[15];b[16]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(i=k.jsx(\"div\",{className:\"_aasg\"}),b[16]=i):i=b[16];b[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(c=k.jsxs(\"div\",{className:c,children:[d,k.jsxs(\"div\",{className:e,children:[a,i,k.jsx(\"div\",{className:\"_aash\"})]})]}),b[17]=c):c=b[17];b[18]!==f||b[19]!==h?(d=k.jsxs(\"div\",{className:g,style:f,children:[h,c]}),b[18]=f,b[19]=h,b[20]=d):d=b[20];return d}g.SIDEBAR_VARIANT_CUTOFF=d(\"PolarisSizing\").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);\n__d(\"PolarisPostModalLoading.react\",[\"IGDSBox.react\",\"IGDSSpinner.react\",\"PolarisDesktopPostLoadingShimmer.react\",\"PolarisPostConstants\",\"PolarisUA\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(6),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;if(d(\"PolarisUA\").isDesktop()&&a>d(\"PolarisPostConstants\").SIDEBAR_VARIANT_CUTOFF){var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=j.jsx(d(\"PolarisDesktopPostLoadingShimmer.react\").DesktopPostLoadingShimmer,{dimensions:e,postId:f,viewportHeight:g,viewportWidth:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}b[5]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=j.jsx(c(\"IGDSBox.react\"),{alignItems:\"center\",position:\"relative\",children:j.jsx(c(\"IGDSSpinner.react\"),{color:\"light\",size:\"medium\"})}),b[5]=e):e=b[5];return e}g[\"default\"]=a}),98);\n__d(\"PolarisPostModalPaginationArrow.react\",[\"cx\",\"IGDSChevronIcon.react\",\"Locale\",\"PolarisGenericStrings\",\"PolarisIGCoreSVGIconButton.react\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function a(a){var b=j(12),e=a.direction;a=a.onClick;var f;if(b[0]!==e){var g=c(\"Locale\").isRTL();f=e===\"back\"&&!g||e===\"next\"&&g;g=e===\"next\"&&!g||e===\"back\"&&g;g=(f?\"_aaqf\":\"\")+(g?\" _aaqg\":\"\")+\" _aaqh\";b[0]=e;b[1]=f;b[2]=g}else f=b[1],g=b[2];f=f?d(\"PolarisGenericStrings\").GO_BACK:d(\"PolarisGenericStrings\").NEXT;var h;b[3]!==f||b[4]!==e?(h=k.jsx(c(\"IGDSChevronIcon.react\"),{alt:f,color:\"web-always-black\",direction:e,size:16}),b[3]=f,b[4]=e,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(f=k.jsx(c(\"PolarisIGCoreSVGIconButton.react\"),{onClick:a,children:h}),b[6]=a,b[7]=h,b[8]=f):f=b[8];b[9]!==g||b[10]!==f?(e=k.jsx(\"div\",{className:g,children:f}),b[9]=g,b[10]=f,b[11]=e):e=b[11];return e}g[\"default\"]=a}),98);\n__d(\"PolarisPostModalInternal.react\",[\"cx\",\"IGCoreModal.react\",\"IGCoreModalLocation.react\",\"PolarisAutoplayViewpointManager.react\",\"PolarisConfig\",\"PolarisDOMListener.react\",\"PolarisLogger\",\"PolarisPostActionLoadPost\",\"PolarisPostModalLoading.react\",\"PolarisPostModalPaginationArrow.react\",\"PolarisPostModalRenderingContext.react\",\"PolarisReactRedux.react\",\"PolarisRoutes\",\"PolarisThreadedCommentActions\",\"getPolarisKeyCommandConfig\",\"nullthrows\",\"polarisPostModalHelpers\",\"polarisPostSelectors\",\"react\",\"useGlobalKeyCommands\",\"usePolarisDisplayProperties\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a[\"data-testid\"];f=a.dimensions;var h=a.mediaLinkBuilder,i=a.modalEntryPath;i=i===void 0?d(\"PolarisRoutes\").FEED_PATH:i;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.showLoadingShimmer,v=a.skipMediaInfo,w=d(\"PolarisReactRedux.react\").useDispatch(),x=n(null);a=d(\"PolarisReactRedux.react\").useSelector(function(a){return d(\"polarisPostSelectors\").getAreCommentsFetched(a,t)});var y=d(\"PolarisReactRedux.react\").useSelector(function(a){return d(\"polarisPostSelectors\").getIsPostDataFetched(a,s)}),z=d(\"PolarisConfig\").isLoggedIn()===!0?y:y&&a;y=k(function(){z||(v===!0?w(d(\"PolarisThreadedCommentActions\").requestInitialComments(t)):w(d(\"PolarisPostActionLoadPost\").loadPost(s,t)))},[v,z,w,s,t]);l(y,[y]);var A=g.findIndex(function(a){return a===t}),B=k(function(a){return a>=0&&a<g.length},[g.length]),C=k(function(a){a=A+a;B(a)&&r&&r(c(\"nullthrows\")(g[a]),a)},[g,A,B,r]),D=k(function(a){p(a),x.current!=null&&x.current.returnToEntry()},[p]);a=m(function(){return[d(\"getPolarisKeyCommandConfig\").getPolarisKeyCommandConfig(\"postModal\",\"navigateLeft\",function(){C(d(\"polarisPostModalHelpers\").LEFT_DELTA)}),d(\"getPolarisKeyCommandConfig\").getPolarisKeyCommandConfig(\"postModal\",\"navigateRight\",function(){C(d(\"polarisPostModalHelpers\").RIGHT_DELTA)}),d(\"getPolarisKeyCommandConfig\").getPolarisKeyCommandConfig(\"postModal\",\"exit\",function(){D()})]},[C,D]);c(\"useGlobalKeyCommands\")(a);y=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();C(a);d(\"PolarisLogger\").logAction(\"postModalArrowClick\")}};a=k(function(){var a=d(\"polarisPostModalHelpers\").getModalPageIdFromAnalyticsContext(b);a.length>0&&d(\"PolarisLogger\").logPageView(a,{page_id:a,post_id:t})},[b,t]);var E=B(A-1),F=B(A+1);E=j.jsx(\"div\",{className:\"_aeap _aeaq\",children:j.jsxs(\"div\",{className:\"_aear\",children:[E&&j.jsx(c(\"PolarisPostModalPaginationArrow.react\"),{direction:\"back\",onClick:y(d(\"polarisPostModalHelpers\").LEFT_DELTA)}),F&&j.jsx(c(\"PolarisPostModalPaginationArrow.react\"),{direction:\"next\",onClick:y(d(\"polarisPostModalHelpers\").RIGHT_DELTA)})]})});F=c(\"usePolarisDisplayProperties\")();y=F.viewportHeight;F=F.viewportWidth;u=j.jsx(j.Fragment,{children:!z&&u?j.jsx(c(\"PolarisPostModalLoading.react\"),{dimensions:f,postId:t,viewportHeight:y,viewportWidth:F}):e});f=j.jsx(c(\"IGCoreModal.react\"),{aboveContent:E,backgroundColor:\"DEPRECATED_transparent\",closeButtonPosition:\"background\",\"data-testid\":void 0,onClose:D,size:\"fullscreenResponsive\",children:u});return j.jsxs(j.Fragment,{children:[j.jsx(d(\"PolarisAutoplayViewpointManager.react\").FullscreenAutoplayViewpointClipRegion,{id:\"postModal\"}),j.jsx(c(\"IGCoreModalLocation.react\"),{entryPath:i,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:\"postPage\",parentModule:\"PolarisPostModal\",path:h(s),ref:x}),j.jsx(c(\"PolarisDOMListener.react\"),{event:\"popstate\",handler:D,once:!0,target:window}),j.jsx(d(\"PolarisPostModalRenderingContext.react\").PolarisPostModalRenderingContext.Provider,{value:o,children:f})]})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\n__d(\"PolarisProfileTabTaggedPhotosConstants\",[],(function(a,b,c,d,e,f){\"use strict\";a=\"tagged\";f.TAGGED_TAB_ID=a}),66);\n__d(\"PolarisInstantPostModal.react\",[\"PolarisPostModalInternal.react\",\"PolarisProfileTabTaggedPhotosConstants\",\"polarisPostModalHelpers\",\"polarisPostSelectors\",\"react\",\"usePolarisSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b,e=i(6),f=!1,g=d(\"polarisPostModalHelpers\").getModalPageIdFromAnalyticsContext(a.analyticsContext)===\"profilePageModal\";b=((b=a.modalEntryPath)==null?void 0:b.endsWith(\"\/\"+d(\"PolarisProfileTabTaggedPhotosConstants\").TAGGED_TAB_ID+\"\/\"))===!0;g=g&&!b;var h;e[0]!==a.postId?(h=function(b){return d(\"polarisPostSelectors\").getPostOrNullById(b,a.postId)},e[0]=a.postId,e[1]=h):h=e[1];h=c(\"usePolarisSelector\")(h);(h==null||b&&h.isVideo===!0)&&(f=!0);e[2]!==a||e[3]!==f||e[4]!==g?(b=j.jsx(c(\"PolarisPostModalInternal.react\"),babelHelpers[\"extends\"]({},a,{showLoadingShimmer:f,skipMediaInfo:g})),e[2]=a,e[3]=f,e[4]=g,e[5]=b):b=e[5];return b}g[\"default\"]=a}),98);\n__d(\"PolarisMediaBrowserPostModal.react\",[\"invariant\",\"PolarisInstantPostModal.react\",\"PolarisIsLoggedInDesktop\",\"PolarisPost.react\",\"PolarisPostVariants\",\"PolarisReactRedux.react\",\"PolarisRoutes\",\"isStringNullOrEmpty\",\"nullthrows\",\"polarisPostSelectors\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useEffect,l=b.unstable_useMemoCache;function a(a){var b=l(22),e=a.analyticsContext,f=a.combinedPosts,g=a.mediaLinkBuilder,i=a.modalEntryPath,m=a.onClose,n=a.onOpen,o=a.postId;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=function(a){return d(\"polarisPostSelectors\").getDeletedIds(a)},b[0]=a):a=b[0];var p=d(\"PolarisReactRedux.react\").useSelector(a);if(b[1]!==f){b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=function(a){return a.id},b[3]=a):a=b[3];a=f.map(a);b[1]=f;b[2]=a}else a=b[2];f=a;b[4]!==o?(a=function(a){return d(\"polarisPostSelectors\").getPostOrNullById(a,o)},b[4]=o,b[5]=a):a=b[5];var q=d(\"PolarisReactRedux.react\").useSelector(a);k(function(){q==null&&(p.includes(o)||h(0,51476),m())},[p,m,q,o]);if(q==null)return null;a=c(\"isStringNullOrEmpty\")(i)?d(\"PolarisRoutes\").FEED_PATH:i;i=c(\"nullthrows\")(q.code);var r=e+\"Modal\",s;b[6]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(s=d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),b[6]=s):s=b[6];b[7]!==r||b[8]!==o||b[9]!==q.code?(s=j.jsx(c(\"PolarisPost.react\"),{analyticsContext:r,autoplay:s,id:o,isVisible:!0,shortcode:q.code,testid:void 0,variant:d(\"PolarisPostVariants\").VARIANTS.flexible,visiblePosition:0}),b[7]=r,b[8]=o,b[9]=q.code,b[10]=s):s=b[10];b[11]!==e||b[12]!==f||b[13]!==q.dimensions||b[14]!==g||b[15]!==a||b[16]!==m||b[17]!==n||b[18]!==i||b[19]!==o||b[20]!==s?(r=j.jsx(c(\"PolarisInstantPostModal.react\"),{analyticsContext:e,combinedPostIds:f,dimensions:q.dimensions,mediaLinkBuilder:g,modalEntryPath:a,onClose:m,onOpen:n,postCode:i,postId:o,children:s}),b[11]=e,b[12]=f,b[13]=q.dimensions,b[14]=g,b[15]=a,b[16]=m,b[17]=n,b[18]=i,b[19]=o,b[20]=s,b[21]=r):r=b[21];return r}g[\"default\"]=a}),98);\n__d(\"PolarisPostModal.react\",[\"PolarisPostModalInternal.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c(\"PolarisPostModalInternal.react\"),babelHelpers[\"extends\"]({},a,{showLoadingShimmer:!0})),b[0]=a,b[1]=d):d=b[1];return d}g[\"default\"]=a}),98);\n__d(\"PolarisClipsItemModal.react\",[\"IGRouter.react\",\"PolarisClipsHelpers\",\"PolarisLinkBuilder\",\"PolarisPost.react\",\"PolarisPostModal.react\",\"PolarisPostVariants\",\"nullthrows\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useRef,k=b.unstable_useMemoCache;function a(a){var b=k(32),e=a.analyticsContext,f=a.clips,g=a.history,h=a.onClose,l=a.onOpen;a=a.postId;g=j(g.location.pathname);var m,n,o,p,q,r,s,t,u,v;if(b[0]!==f||b[1]!==a||b[2]!==e||b[3]!==h||b[4]!==l){v=Symbol[\"for\"](\"react.early_return_sentinel\");bb18:{var w=d(\"PolarisClipsHelpers\").getClipItemFromPostID(f,a);if(!w){v=null;break bb18}if(b[15]!==f){var x;b[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(x=function(a){return c(\"nullthrows\")((a=a.media)==null?void 0:a.pk)},b[17]=x):x=b[17];x=f.map(x);b[15]=f;b[16]=x}else x=b[16];x=x;m=c(\"PolarisPostModal.react\");n=e;o=x;p=d(\"PolarisClipsHelpers\").getClipDimensionsFromItemDict(w);q=d(\"PolarisLinkBuilder\").buildClipsMediaLink;r=g.current;s=h;t=l;u=c(\"nullthrows\")((x=w.media)==null?void 0:x.code)}b[0]=f;b[1]=a;b[2]=e;b[3]=h;b[4]=l;b[5]=m;b[6]=n;b[7]=o;b[8]=p;b[9]=q;b[10]=r;b[11]=s;b[12]=t;b[13]=u;b[14]=v}else m=b[5],n=b[6],o=b[7],p=b[8],q=b[9],r=b[10],s=b[11],t=b[12],u=b[13],v=b[14];if(v!==Symbol[\"for\"](\"react.early_return_sentinel\"))return v;g=e+\"Modal\";b[18]!==g||b[19]!==a?(w=i.jsx(c(\"PolarisPost.react\"),{analyticsContext:g,autoplay:!0,id:a,isVisible:!0,variant:d(\"PolarisPostVariants\").VARIANTS.flexible,visiblePosition:0}),b[18]=g,b[19]=a,b[20]=w):w=b[20];b[21]!==m||b[22]!==n||b[23]!==o||b[24]!==p||b[25]!==q||b[26]!==s||b[27]!==t||b[28]!==u||b[29]!==a||b[30]!==w?(x=i.jsx(m,{analyticsContext:n,combinedPostIds:o,dimensions:p,mediaLinkBuilder:q,modalEntryPath:r,onClose:s,onOpen:t,postCode:u,postId:a,children:w}),b[21]=m,b[22]=n,b[23]=o,b[24]=p,b[25]=q,b[26]=s,b[27]=t,b[28]=u,b[29]=a,b[30]=w,b[31]=x):x=b[31];return x}e=d(\"IGRouter.react\").withIGRouter(a);g[\"default\"]=e}),98);\n__d(\"usePolarisPostToastPosition\",[\"PolarisPanavisionQEHelpers\",\"PolarisPostConstants\",\"PolarisPostToastProvider.react\",\"PolarisUA\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=h||d(\"react\");var i=b.useLayoutEffect,j=b.unstable_useMemoCache,k=2,l=-4,m=-1,n=-6,o=16,p=1;function q(a){var b=a.isFeed,c=a.isNarrow,e=a.isSidecar,f=a.postToastContainerElem;a=a.setPositionStyles;if(f!=null){f=f.getBoundingClientRect();var g=f.left-(c?o:0),h={left:g},i=f.right-f.left+(c?2*o:0);b?d(\"PolarisPanavisionQEHelpers\").hasPolarisFeedRevamp()?a({absolutePositionStyles:{left:f.left+p,top:f.bottom+window.pageYOffset-d(\"PolarisPostConstants\").POST_TOAST_HEIGHT-2},width:f.width-p}):d(\"PolarisUA\").isDesktop()?a({absolutePositionStyles:{left:g,top:f.top+window.pageYOffset-d(\"PolarisPostConstants\").POST_TOAST_HEIGHT+n-(e?k:0)},width:i}):a({absolutePositionStyles:{left:g-p,top:f.top+window.pageYOffset-d(\"PolarisPostConstants\").POST_TOAST_HEIGHT+n-(e?k:0)},width:i+p}):a({absolutePositionStyles:babelHelpers[\"extends\"]({},h,{top:f.top+window.pageYOffset-d(\"PolarisPostConstants\").POST_TOAST_HEIGHT+m-(c?l:0)}),width:i})}}function a(a){var b=j(13),c=a.isFeed,e=a.isNarrow,f=a.isSidecar;a=d(\"PolarisPostToastProvider.react\").usePostToastContext();var g=a.positionStyles,h=a.postToastContainerElem,k=a.setPositionStyles;a=a.showToast;var l;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==h||b[4]!==k?(l=function(){return q({isFeed:c,isNarrow:e,isSidecar:f,postToastContainerElem:h,setPositionStyles:k})},b[0]=c,b[1]=e,b[2]=f,b[3]=h,b[4]=k,b[5]=l):l=b[5];var m;b[6]!==c||b[7]!==e||b[8]!==f||b[9]!==h||b[10]!==k||b[11]!==a?(m=[c,e,f,h,k,a],b[6]=c,b[7]=e,b[8]=f,b[9]=h,b[10]=k,b[11]=a,b[12]=m):m=b[12];i(l,m);return g}g[\"default\"]=a}),98);\n__d(\"PolarisPostToastImpl.react\",[\"BasePortal.react\",\"ExecutionEnvironment\",\"IGDSText.react\",\"PolarisIGAnimate\",\"PolarisIGCoreButton.react\",\"PolarisPostConstants\",\"PolarisPostStrings\",\"PolarisPostToastProvider.react\",\"PolarisSizing\",\"PolarisUA\",\"browserHistory\",\"react\",\"stylex\",\"usePolarisDisplayProperties\",\"usePolarisPostToastPosition\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j,k=j||(j=d(\"react\"));b=j;var l=b.useEffect,m=b.unstable_useMemoCache,n=3e3,o=350,p={toast:{alignContent:\"xc26acl\",alignItems:\"x6s0dn4\",backgroundColor:\"xvbhtw8\",borderEndColor:\"x1nk0tez\",borderEndStyle:\"xu3j5b3\",borderEndWidth:\"xm81vs4\",borderStartColor:\"x1hm1hlx\",borderStartStyle:\"x26u7qi\",borderStartWidth:\"xy80clv\",display:\"x78zum5\",$$css:!0},toastFamiliar:{borderBottomColor:\"xh05dso\",borderBottomEndRadius:\"xrt01vj\",borderBottomStartRadius:\"x10y3i5r\",borderBottomStyle:\"x1q0q8m5\",borderBottomWidth:\"xso031l\",borderTopColor:\"x1xp8e9x\",borderTopStyle:\"x13fuv20\",borderTopWidth:\"x178xt8z\",$$css:!0}};function a(a){var b=m(19),e=a.isFeedVariant,f=a.isModal;a=a.isSidecar;var g;b[0]!==e?(g=e&&d(\"PolarisUA\").isDesktop(),b[0]=e,b[1]=g):g=b[1];var j=g;g=d(\"PolarisPostToastProvider.react\").usePostToastContext();var q=g.ActionText,r=g.BodyText,s=g.actionHref,t=g.setShowToast;g=g.showToast;var u=c(\"usePolarisDisplayProperties\")();u=u.viewportWidth;u=u<d(\"PolarisSizing\").SMALL_SCREEN_MAX;e=c(\"usePolarisPostToastPosition\")({isFeed:e,isNarrow:u,isSidecar:a});a=(u=e==null?void 0:e.width)!=null?u:0;b[2]!==e||b[3]!==a?(u=e!=null?babelHelpers[\"extends\"]({},e.absolutePositionStyles,{width:a}):null,b[2]=e,b[3]=a,b[4]=u):u=b[4];var v=u,w=a>o;b[5]!==t?(e=function(){var a=window.setTimeout(function(){t(!1)},n);return function(){return window.clearTimeout(a)}},b[5]=t,b[6]=e):e=b[6];l(e);u=d(\"PolarisIGAnimate\").useFadeTransition({show:g===!0});b[7]!==f?(a=(h||(h=c(\"ExecutionEnvironment\"))).canUseDOM?f?document.body:document.querySelector('[role=\"main\"]'):null,b[7]=f,b[8]=a):a=b[8];b[9]!==v||b[10]!==j||b[11]!==r||b[12]!==s||b[13]!==q||b[14]!==w?(e=function(a,b){return b?k.jsx(d(\"PolarisIGAnimate\").Animated.div,{className:\"x10l6tqk xhtitgo\",style:babelHelpers[\"extends\"]({},a,v),children:k.jsx(\"div\",{className:(i||(i=c(\"stylex\")))(p.toast,j&&p.toastFamiliar),style:{height:d(\"PolarisPostConstants\").POST_TOAST_HEIGHT},children:k.jsxs(\"div\",{className:\"x6s0dn4 x78zum5 x1q0g3np x1szn6h9 xyamay9 x1pi30zi x1l90r2v x1swvt13 xh8yej3\",children:[k.jsx(\"div\",{className:\"x1iyjqo2\",children:k.jsx(c(\"IGDSText.react\").Label,{maxLines:1,textAlign:\"start\",children:r})}),k.jsx(c(\"PolarisIGCoreButton.react\"),{borderless:!0,onClick:function(){var a;return d(\"browserHistory\").redirect((a=s)!=null?a:\"\/\")},children:q!=null&&w?q:d(\"PolarisPostStrings\").POST_PAGE_ACTION_TEXT})]})})}):null},b[9]=v,b[10]=j,b[11]=r,b[12]=s,b[13]=q,b[14]=w,b[15]=e):e=b[15];g=u(e);b[16]!==a||b[17]!==g?(f=k.jsx(c(\"BasePortal.react\"),{target:a,children:g}),b[16]=a,b[17]=g,b[18]=f):f=b[18];return f}g[\"default\"]=a}),98);\n__d(\"InstagramWebDiscoveryModuleFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"2843\");b=d(\"FalcoLoggerInternal\").create(\"instagram_web_discovery_module\",a);e=b;g[\"default\"]=e}),98);\n__d(\"PolarisLoggedOutExploreModuleLogger\",[\"CometRouteURL\",\"InstagramWebDiscoveryModuleFalcoEvent\",\"PolarisLogger\",\"PolarisLoggerUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){var b=a.component,e=a.containermodule,f=a.eventName,g=a.key;c(\"InstagramWebDiscoveryModuleFalcoEvent\").log(function(){var a;return babelHelpers[\"extends\"]({},d(\"PolarisLogger\").getExtra(babelHelpers[\"extends\"]({component:b,containermodule:e,event_name:f},g!=null&&{category:g})),{objid:d(\"PolarisLoggerUtils\").trimAndSanitizeUrl((a=d(\"CometRouteURL\").getWindowURL())!=null?a:\"\")})})}g.logExploreModuleEvent=a}),98);\/*FB_PKG_DELIM*\/\n\/**\n *\n * This file is generated from fbsource. Please do not modify it directly.\n *\n *\n * @nolint\n * @generated\n * @nopackage\n * @fullSyntaxTransform\n * @preserve-whitespace\n *\/__d(\"ls_voprf_utils\",[\"Promise\"],(function $module_ls_voprf_utils(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;\n\nvar Module=function(){\nvar _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;\n\nreturn(\nfunction(moduleArg){if(moduleArg===void 0){moduleArg={};}\n\nvar Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module[\"ready\"]=new(_require_closure_Promise||(_require_closure_Promise=require(\"Promise\")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});[\"_main\",\"getExceptionMessage\",\"___get_exception_message\",\"_free\",\"_memory\",\"_curve_create\",\"_curve_free\",\"_curve_init_ristretto\",\"_get_curve_element_bytes\",\"_get_curve_scalar_bytes\",\"_kdf_create\",\"_kdf_free\",\"_kdf_init_naor_reingold\",\"_sodiumInit\",\"_voprf_create\",\"_voprf_free\",\"_voprf_init_exp_twohashdh\",\"_blind\",\"_verifiable_unblind\",\"_voprf_client_finalize\",\"_voprf_setup\",\"_voprf_evaluate\",\"_voprf_server_finalize\",\"_get_voprf_final_evaluation_bytes\",\"___indirect_function_table\",\"__embind_initialize_bindings\",\"_fflush\",\"___start_em_asm\",\"___stop_em_asm\",\"onRuntimeInitialized\"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module[\"ready\"],prop)){Object.defineProperty(Module[\"ready\"],prop,{get:function get(){return abort(\"You are getting \"+prop+\" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src\/settings.js\");},set:function set(){return abort(\"You are setting \"+prop+\" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src\/settings.js\");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram=\".\/this.program\";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module[\"ENVIRONMENT\"]){throw new Error(\"Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)\");}var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process==\"object\"&&typeof require===\"function\"||typeof window==\"object\"||typeof importScripts==\"function\")throw new Error(\"not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)\");if(typeof read!=\"undefined\"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer==\"function\"){return new Uint8Array(readbuffer(f));}var data=read(f,\"binary\");assert(typeof data==\"object\");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout==\"undefined\"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout==\"undefined\"){globalThis.setTimeout=function(f){return typeof f==\"function\"?f():abort();};}if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs;}else if(typeof arguments!=\"undefined\"){arguments_=arguments;}if(typeof quit==\"function\"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow==\"object\"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err(\"exiting due to exception: \"+toLog);}quit(status);});throw toThrow;};}if(typeof print!=\"undefined\"){if(typeof console==\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!=\"undefined\"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!=\"undefined\"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(\/[?#].*\/,\"\").lastIndexOf(\"\/\")+1);}else{scriptDirectory=\"\";}if(!(typeof window==\"object\"||typeof importScripts==\"function\"))throw new Error(\"not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)\");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error(\"environment detection error\");}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module[\"arguments\"])arguments_=Module[\"arguments\"];legacyModuleProp(\"arguments\",\"arguments_\");if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];legacyModuleProp(\"thisProgram\",\"thisProgram\");if(Module[\"quit\"])quit_=Module[\"quit\"];legacyModuleProp(\"quit\",\"quit_\");assert(typeof Module[\"memoryInitializerPrefixURL\"]==\"undefined\",\"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead\");assert(typeof Module[\"pthreadMainPrefixURL\"]==\"undefined\",\"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead\");assert(typeof Module[\"cdInitializerPrefixURL\"]==\"undefined\",\"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead\");assert(typeof Module[\"filePackagePrefixURL\"]==\"undefined\",\"Module.filePackagePrefixURL option was removed, use Module.locateFile instead\");assert(typeof Module[\"read\"]==\"undefined\",\"Module.read option was removed (modify read_ in JS)\");assert(typeof Module[\"readAsync\"]==\"undefined\",\"Module.readAsync option was removed (modify readAsync in JS)\");assert(typeof Module[\"readBinary\"]==\"undefined\",\"Module.readBinary option was removed (modify readBinary in JS)\");assert(typeof Module[\"setWindowTitle\"]==\"undefined\",\"Module.setWindowTitle option was removed (modify setWindowTitle in JS)\");assert(typeof Module[\"TOTAL_MEMORY\"]==\"undefined\",\"Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY\");legacyModuleProp(\"asm\",\"wasmExports\");legacyModuleProp(\"read\",\"read_\");legacyModuleProp(\"readAsync\",\"readAsync\");legacyModuleProp(\"readBinary\",\"readBinary\");legacyModuleProp(\"setWindowTitle\",\"setWindowTitle\");assert(!ENVIRONMENT_IS_WORKER,\"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.\");assert(!ENVIRONMENT_IS_NODE,\"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.\");assert(!ENVIRONMENT_IS_SHELL,\"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.\");var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];legacyModuleProp(\"wasmBinary\",\"wasmBinary\");var noExitRuntime=Module[\"noExitRuntime\"]||true;legacyModuleProp(\"noExitRuntime\",\"noExitRuntime\");if(typeof WebAssembly!=\"object\"){abort(\"no native wasm support detected\");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(\"Assertion failed\"+(text?\": \"+text:\"\"));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module[\"HEAP8\"]=HEAP8=new Int8Array(b);Module[\"HEAP16\"]=HEAP16=new Int16Array(b);Module[\"HEAP32\"]=HEAP32=new Int32Array(b);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(b);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(b);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(b);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(b);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(b);}assert(!Module[\"STACK_SIZE\"],\"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time\");assert(typeof Int32Array!=\"undefined\"&&typeof Float64Array!==\"undefined\"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,\"JS engine does not provide full typed array support\");assert(!Module[\"wasmMemory\"],\"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally\");assert(!Module[\"INITIAL_MEMORY\"],\"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically\");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort(\"Stack overflow! Stack cookie has been overwritten at \"+ptrToString(max)+\", expected hex dwords 0x89BACDFE and 0x2135467, but received \"+ptrToString(cookie2)+\" \"+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort(\"Runtime error: The application has corrupted its heap memory area (address zero)!\");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw\"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)\";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,\"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill\");assert(Math.fround,\"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill\");assert(Math.clz32,\"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill\");assert(Math.trunc,\"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill\");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!=\"undefined\"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err(\"still waiting on run dependencies:\");}err(\"dependency: \"+dep);}if(shown){err(\"(end of list)\");}},1e4);}}else{err(\"warning: run dependency added without ID\");}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err(\"warning: run dependency removed without ID\");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what);}what=\"Aborted(\"+what+\")\";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort(\"Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C\/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM\");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module[\"FS_createDataFile\"]=FS.createDataFile;Module[\"FS_createPreloadedFile\"]=FS.createPreloadedFile;var dataURIPrefix=\"data:application\/octet-stream;base64,\";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith(\"file:\/\/\");}function createExportWrapper(name){return function(){assert(runtimeInitialized,\"native function `\"+name+\"` called before runtime initialization\");var f=wasmExports[name];assert(f,\"exported native function `\"+name+\"` not found\");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){\"use strict\";babelHelpers.inheritsLoose(EmscriptenEH,_Error);function EmscriptenEH(){return _Error.apply(this,arguments)||this;}return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){\"use strict\";babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){\"use strict\";babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile=\"crypto_utils.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw\"both async and sync fetching of the wasm failed\";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch==\"function\"){return fetch(binaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+binaryFile+\"'\";}return response[\"arrayBuffer\"]();})[\"catch\"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require(\"Promise\"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);if(isFileURI(wasmBinaryFile)){err(\"warning: Loading from a file URI (\"+wasmBinaryFile+\") is not supported in most browsers. See https:\/\/emscripten.org\/docs\/getting_started\/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing\");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming==\"function\"&&!isDataURI(binaryFile)&&typeof fetch==\"function\"){return fetch(binaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={\"env\":wasmImports,\"wasi_snapshot_preview1\":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports[\"memory\"];assert(wasmMemory,\"memory not found in wasm exports\");updateMemoryViews();wasmTable=wasmExports[\"__indirect_function_table\"];assert(wasmTable,\"table not found in wasm exports\");addOnInit(wasmExports[\"__wasm_call_ctors\"]);removeRunDependency(\"wasm-instantiate\");return exports;}addRunDependency(\"wasm-instantiate\");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,\"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?\");trueModule=null;receiveInstance(result[\"instance\"]);}if(Module[\"instantiateWasm\"]){try{return Module[\"instantiateWasm\"](info,receiveInstance);}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)[\"catch\"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?\" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)\":\"\";abort(\"`Module.\"+prop+\"` has been replaced by `\"+newName+\"`\"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort(\"`Module.\"+prop+\"` was supplied but `\"+prop+\"` not included in INCOMING_MODULE_JS_API\");}}function isExportedByForceFilesystem(name){return name===\"FS_createPath\"||name===\"FS_createDataFile\"||name===\"FS_createPreloadedFile\"||name===\"FS_unlink\"||name===\"addRunDependency\"||name===\"FS_createLazyFile\"||name===\"FS_createDevice\"||name===\"removeRunDependency\";}function missingGlobal(sym,msg){if(typeof globalThis!==\"undefined\"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){warnOnce(\"`\"+sym+\"` is not longer defined by emscripten. \"+msg);return undefined;}});}}missingGlobal(\"buffer\",\"Please use HEAP8.buffer or wasmMemory.buffer\");function missingLibrarySymbol(sym){if(typeof globalThis!==\"undefined\"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg=\"`\"+sym+\"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line\";var librarySymbol=sym;if(!librarySymbol.startsWith(\"_\")){librarySymbol=\"$\"+sym;}msg+=\" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='\"+librarySymbol+\"')\";if(isExportedByForceFilesystem(sym)){msg+=\". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you\";}warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg=\"'\"+sym+\"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)\";if(isExportedByForceFilesystem(sym)){msg+=\". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you\";}abort(msg);}});}}var ASM_CONSTS={50180:function _(){return Module.getRandomValue();},50216:function _(){if(Module.getRandomValue===undefined){try{var window_=\"object\"===typeof window?window:self;var crypto_=typeof window_.crypto!==\"undefined\"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw\"No secure random number generator found\";}}}}};function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf8\"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx)){++endPtr;}if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)warnOnce(\"Invalid UTF-8 leading byte \"+ptrToString(u0)+\" encountered when deserializing a UTF-8 string in wasm memory to a JS string!\");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr==\"number\");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module[\"getExceptionMessage\"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type=\"i8\";}if(type.endsWith(\"*\"))type=\"*\";switch(type){case\"i1\":return HEAP8[ptr>>0];case\"i8\":return HEAP8[ptr>>0];case\"i16\":return HEAP16[ptr>>1];case\"i32\":return HEAP32[ptr>>2];case\"i64\":abort(\"to do getValue(i64) use WASM_BIGINT\");case\"float\":return HEAPF32[ptr>>2];case\"double\":return HEAPF64[ptr>>3];case\"*\":return HEAPU32[ptr>>2];default:abort(\"invalid type for getValue: \"+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr===\"number\");ptr>>>=0;return\"0x\"+ptr.toString(16).padStart(8,\"0\");};var warnOnce=function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort(\"Assertion failed: \"+UTF8ToString(condition)+\", at: \"+[filename?UTF8ToString(filename):\"unknown filename\",line,func?UTF8ToString(func):\"unknown function\"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(\"Unknown type size: \"+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret=\"\";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError(\"type \\\"\"+name+\"\\\" must have a positive integer typeid pointer\");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError(\"Cannot register type '\"+name+\"' twice\");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!(\"argPackAdvance\"in registeredInstance)){throw new TypeError(\"registerType registeredInstance requires argPackAdvance\");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function fromWireType(wt){return!!wt;},\"toWireType\":function toWireType(destructors,o){return o?trueValue:falseValue;},\"argPackAdvance\":8,\"readValueFromPointer\":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError(\"Unknown boolean type size: \"+name);}return this[\"fromWireType\"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,\"invalid handle: \"+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module[\"count_emval_handles\"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError(\"Cannot use deleted val. handle = \"+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this[\"fromWireType\"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},\"toWireType\":function toWireType(destructors,value){return Emval.toHandle(value);},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return\"null\";}var t=typeof v;if(t===\"object\"||t===\"array\"||t===\"function\"){return v.toString();}else{return\"\"+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this[\"fromWireType\"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this[\"fromWireType\"](HEAPF64[pointer>>3]);};default:throw new TypeError(\"Unknown float type: \"+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function fromWireType(value){return value;},\"toWireType\":function toWireType(destructors,value){if(typeof value!=\"number\"&&typeof value!=\"boolean\"){throw new TypeError(\"Cannot convert \"+embindRepr(value)+\" to \"+this.name);}return value;},\"argPackAdvance\":8,\"readValueFromPointer\":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError(\"Unknown integer type: \"+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes(\"unsigned\");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!=\"number\"&&typeof value!=\"boolean\"){throw new TypeError(\"Cannot convert \\\"\"+embindRepr(value)+\"\\\" to \"+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError(\"Passing a number \\\"\"+embindRepr(value)+\"\\\" from JS side to C\/C++ side to an argument of type \\\"\"+name+\"\\\", which is outside the valid range [\"+minRange+\", \"+maxRange+\"]!\");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,\"fromWireType\":fromWireType,\"toWireType\":toWireType,\"argPackAdvance\":8,\"readValueFromPointer\":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":decodeMemoryView,\"argPackAdvance\":8,\"readValueFromPointer\":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str===\"string\");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce(\"Invalid Unicode code point \"+ptrToString(u)+\" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).\");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite==\"number\",\"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!\");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name===\"std::string\";registerType(rawType,{name:name,\"fromWireType\":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join(\"\");}_free(value);return str;},\"toWireType\":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value==\"string\";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError(\"Cannot pass non-string to std::string\");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError(\"String has UTF-16 code units that do not fit in 8 bits\");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf-16le\"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,\"Pointer passed to UTF16ToString must be aligned to two bytes!\");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead\/2;while(!(idx>=maxIdx)&&HEAPU16[idx]){++idx;}endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str=\"\";for(var i=0;!(i>=maxBytesToRead\/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,\"Pointer passed to stringToUTF16 must be aligned to two bytes!\");assert(typeof maxBytesToWrite==\"number\",\"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!\");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite\/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,\"Pointer passed to UTF32ToString must be aligned to four bytes!\");var i=0;var str=\"\";while(!(i>=maxBytesToRead\/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,\"Pointer passed to stringToUTF32 must be aligned to four bytes!\");assert(typeof maxBytesToWrite==\"number\",\"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!\");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,\"fromWireType\":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},\"toWireType\":function toWireType(destructors,value){if(!(typeof value==\"string\")){throwBindingError(\"Cannot pass non-string to C++ string type \"+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},\"argPackAdvance\":8,\"readValueFromPointer\":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,\"argPackAdvance\":0,\"fromWireType\":function fromWireType(){return undefined;},\"toWireType\":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort(\"native code called abort()\");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=[\"d\",\"f\",\"i\"];assert(validChars.includes(chr),\"Invalid character \"+ch+\"(\\\"\"+chr+\"\\\") in readEmAsmArgs! Use only [\"+validChars+\"], and do not specify \\\"v\\\" for void return argument.\");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort(\"No EM_ASM constant found at address \"+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 2147483648;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err(\"growMemory: Attempted to grow heap from \"+b.byteLength+\" bytes to \"+size+\" bytes, but got error: \"+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err(\"Cannot enlarge memory, asked to go up to \"+requestedSize+\" bytes, but the limit is \"+maxHeapSize+\" bytes!\");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2\/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err(\"Failed to grow the heap from \"+oldSize+\" bytes to \"+newSize+\" bytes, not enough memory!\");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort(\"fd_close called without SYSCALLS_REQUIRE_FILESYSTEM\");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,\"writeArrayToMemory array must have a length (should be an array or typed array)\");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module[\"BindingError\"]=function(_Error2){\"use strict\";babelHelpers.inheritsLoose(BindingError,_Error2);function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name=\"BindingError\";return _this2;}return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module[\"InternalError\"]=function(_Error3){\"use strict\";babelHelpers.inheritsLoose(InternalError,_Error3);function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name=\"InternalError\";return _this3;}return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp(\"fetchSettings\");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper(\"__wasm_call_ctors\");var _curve_create=Module[\"_curve_create\"]=createExportWrapper(\"curve_create\");var _malloc=Module[\"_malloc\"]=createExportWrapper(\"malloc\");var _curve_free=Module[\"_curve_free\"]=createExportWrapper(\"curve_free\");var _free=Module[\"_free\"]=createExportWrapper(\"free\");var _curve_init_ristretto=Module[\"_curve_init_ristretto\"]=createExportWrapper(\"curve_init_ristretto\");var _get_curve_element_bytes=Module[\"_get_curve_element_bytes\"]=createExportWrapper(\"get_curve_element_bytes\");var _get_curve_scalar_bytes=Module[\"_get_curve_scalar_bytes\"]=createExportWrapper(\"get_curve_scalar_bytes\");var _kdf_create=Module[\"_kdf_create\"]=createExportWrapper(\"kdf_create\");var _kdf_free=Module[\"_kdf_free\"]=createExportWrapper(\"kdf_free\");var _kdf_init_naor_reingold=Module[\"_kdf_init_naor_reingold\"]=createExportWrapper(\"kdf_init_naor_reingold\");var _sodiumInit=Module[\"_sodiumInit\"]=createExportWrapper(\"sodiumInit\");var _voprf_create=Module[\"_voprf_create\"]=createExportWrapper(\"voprf_create\");var _voprf_free=Module[\"_voprf_free\"]=createExportWrapper(\"voprf_free\");var _voprf_init_exp_twohashdh=Module[\"_voprf_init_exp_twohashdh\"]=createExportWrapper(\"voprf_init_exp_twohashdh\");var _blind=Module[\"_blind\"]=createExportWrapper(\"blind\");var _verifiable_unblind=Module[\"_verifiable_unblind\"]=createExportWrapper(\"verifiable_unblind\");var _voprf_client_finalize=Module[\"_voprf_client_finalize\"]=createExportWrapper(\"voprf_client_finalize\");var _voprf_setup=Module[\"_voprf_setup\"]=createExportWrapper(\"voprf_setup\");var _voprf_evaluate=Module[\"_voprf_evaluate\"]=createExportWrapper(\"voprf_evaluate\");var _voprf_server_finalize=Module[\"_voprf_server_finalize\"]=createExportWrapper(\"voprf_server_finalize\");var _get_voprf_final_evaluation_bytes=Module[\"_get_voprf_final_evaluation_bytes\"]=createExportWrapper(\"get_voprf_final_evaluation_bytes\");var ___errno_location=createExportWrapper(\"__errno_location\");var ___getTypeName=createExportWrapper(\"__getTypeName\");var __embind_initialize_bindings=Module[\"__embind_initialize_bindings\"]=createExportWrapper(\"_embind_initialize_bindings\");var _fflush=Module[\"_fflush\"]=createExportWrapper(\"fflush\");var _emscripten_builtin_memalign=createExportWrapper(\"emscripten_builtin_memalign\");var _setThrew=createExportWrapper(\"setThrew\");var setTempRet0=createExportWrapper(\"setTempRet0\");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports[\"emscripten_stack_init\"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports[\"emscripten_stack_get_free\"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports[\"emscripten_stack_get_base\"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports[\"emscripten_stack_get_end\"])();};var stackSave=createExportWrapper(\"stackSave\");var stackRestore=createExportWrapper(\"stackRestore\");var stackAlloc=createExportWrapper(\"stackAlloc\");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports[\"emscripten_stack_get_current\"])();};var ___cxa_free_exception=createExportWrapper(\"__cxa_free_exception\");var ___cxa_increment_exception_refcount=createExportWrapper(\"__cxa_increment_exception_refcount\");var ___cxa_decrement_exception_refcount=createExportWrapper(\"__cxa_decrement_exception_refcount\");var ___get_exception_message=Module[\"___get_exception_message\"]=createExportWrapper(\"__get_exception_message\");var ___cxa_can_catch=createExportWrapper(\"__cxa_can_catch\");var ___cxa_is_pointer_type=createExportWrapper(\"__cxa_is_pointer_type\");var dynCall_iiiji=Module[\"dynCall_iiiji\"]=createExportWrapper(\"dynCall_iiiji\");var dynCall_iiij=Module[\"dynCall_iiij\"]=createExportWrapper(\"dynCall_iiij\");var dynCall_iijii=Module[\"dynCall_iijii\"]=createExportWrapper(\"dynCall_iijii\");var dynCall_iiijiji=Module[\"dynCall_iiijiji\"]=createExportWrapper(\"dynCall_iiijiji\");var dynCall_iiijiii=Module[\"dynCall_iiijiii\"]=createExportWrapper(\"dynCall_iiijiii\");var dynCall_jiji=Module[\"dynCall_jiji\"]=createExportWrapper(\"dynCall_jiji\");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module[\"getValue\"]=getValue;Module[\"stringToUTF8\"]=stringToUTF8;Module[\"lengthBytesUTF8\"]=lengthBytesUTF8;Module[\"writeArrayToMemory\"]=writeArrayToMemory;var missingLibrarySymbols=[\"writeI53ToI64\",\"writeI53ToI64Clamped\",\"writeI53ToI64Signaling\",\"writeI53ToU64Clamped\",\"writeI53ToU64Signaling\",\"readI53FromI64\",\"readI53FromU64\",\"convertI32PairToI53\",\"convertU32PairToI53\",\"zeroMemory\",\"exitJS\",\"isLeapYear\",\"ydayFromDate\",\"arraySum\",\"addDays\",\"setErrNo\",\"inetPton4\",\"inetNtop4\",\"inetPton6\",\"inetNtop6\",\"readSockaddr\",\"writeSockaddr\",\"getHostByName\",\"initRandomFill\",\"randomFill\",\"getCallstack\",\"emscriptenLog\",\"convertPCtoSourceLocation\",\"runMainThreadEmAsm\",\"jstoi_q\",\"jstoi_s\",\"getExecutableName\",\"listenOnce\",\"autoResumeAudioContext\",\"dynCallLegacy\",\"getDynCaller\",\"dynCall\",\"setWasmTableEntry\",\"handleException\",\"runtimeKeepalivePush\",\"runtimeKeepalivePop\",\"callUserCallback\",\"maybeExit\",\"safeSetTimeout\",\"asmjsMangle\",\"asyncLoad\",\"alignMemory\",\"mmapAlloc\",\"getNativeTypeSize\",\"STACK_SIZE\",\"STACK_ALIGN\",\"POINTER_SIZE\",\"ASSERTIONS\",\"getCFunc\",\"ccall\",\"cwrap\",\"uleb128Encode\",\"sigToWasmTypes\",\"generateFuncType\",\"convertJsFunctionToWasm\",\"getEmptyTableSlot\",\"updateTableMap\",\"getFunctionAddress\",\"addFunction\",\"removeFunction\",\"reallyNegative\",\"unSign\",\"strLen\",\"reSign\",\"formatString\",\"intArrayFromString\",\"intArrayToString\",\"AsciiToString\",\"stringToAscii\",\"stringToNewUTF8\",\"stringToUTF8OnStack\",\"registerKeyEventCallback\",\"maybeCStringToJsString\",\"findEventTarget\",\"findCanvasEventTarget\",\"getBoundingClientRect\",\"fillMouseEventData\",\"registerMouseEventCallback\",\"registerWheelEventCallback\",\"registerUiEventCallback\",\"registerFocusEventCallback\",\"fillDeviceOrientationEventData\",\"registerDeviceOrientationEventCallback\",\"fillDeviceMotionEventData\",\"registerDeviceMotionEventCallback\",\"screenOrientation\",\"fillOrientationChangeEventData\",\"registerOrientationChangeEventCallback\",\"fillFullscreenChangeEventData\",\"registerFullscreenChangeEventCallback\",\"JSEvents_requestFullscreen\",\"JSEvents_resizeCanvasForFullscreen\",\"registerRestoreOldStyle\",\"hideEverythingExceptGivenElement\",\"restoreHiddenElements\",\"setLetterbox\",\"softFullscreenResizeWebGLRenderTarget\",\"doRequestFullscreen\",\"fillPointerlockChangeEventData\",\"registerPointerlockChangeEventCallback\",\"registerPointerlockErrorEventCallback\",\"requestPointerLock\",\"fillVisibilityChangeEventData\",\"registerVisibilityChangeEventCallback\",\"registerTouchEventCallback\",\"fillGamepadEventData\",\"registerGamepadEventCallback\",\"registerBeforeUnloadEventCallback\",\"fillBatteryEventData\",\"battery\",\"registerBatteryEventCallback\",\"setCanvasElementSize\",\"getCanvasElementSize\",\"demangle\",\"demangleAll\",\"jsStackTrace\",\"stackTrace\",\"getEnvStrings\",\"checkWasiClock\",\"wasiRightsToMuslOFlags\",\"wasiOFlagsToMuslOFlags\",\"createDyncallWrapper\",\"setImmediateWrapped\",\"clearImmediateWrapped\",\"polyfillSetImmediate\",\"getPromise\",\"makePromise\",\"idsToPromises\",\"makePromiseCallback\",\"setMainLoop\",\"getSocketFromFD\",\"getSocketAddress\",\"FS_createPreloadedFile\",\"FS_modeStringToFlags\",\"FS_getMode\",\"FS_stdin_getChar\",\"_setNetworkCallback\",\"heapObjectForWebGLType\",\"heapAccessShiftForWebGLHeap\",\"webgl_enable_ANGLE_instanced_arrays\",\"webgl_enable_OES_vertex_array_object\",\"webgl_enable_WEBGL_draw_buffers\",\"webgl_enable_WEBGL_multi_draw\",\"emscriptenWebGLGet\",\"computeUnpackAlignedImageSize\",\"colorChannelsInGlTextureFormat\",\"emscriptenWebGLGetTexPixelData\",\"__glGenObject\",\"emscriptenWebGLGetUniform\",\"webglGetUniformLocation\",\"webglPrepareUniformLocationsBeforeFirstUse\",\"webglGetLeftBracePos\",\"emscriptenWebGLGetVertexAttrib\",\"__glGetActiveAttribOrUniform\",\"writeGLArray\",\"registerWebGlEventCallback\",\"runAndAbortIfError\",\"SDL_unicode\",\"SDL_ttfContext\",\"SDL_audio\",\"GLFW_Window\",\"ALLOC_NORMAL\",\"ALLOC_STACK\",\"allocate\",\"writeStringToMemory\",\"writeAsciiToMemory\",\"getTypeName\",\"heap32VectorToArray\",\"requireRegisteredType\",\"init_embind\",\"throwUnboundTypeError\",\"ensureOverloadTable\",\"exposePublicSymbol\",\"replacePublicSymbol\",\"extendError\",\"createNamedFunction\",\"getBasestPointer\",\"registerInheritedInstance\",\"unregisterInheritedInstance\",\"getInheritedInstance\",\"getInheritedInstanceCount\",\"getLiveInheritedInstances\",\"enumReadValueFromPointer\",\"runDestructors\",\"craftInvokerFunction\",\"embind__requireFunction\",\"genericPointerToWireType\",\"constNoSmartPtrRawPointerToWireType\",\"nonConstNoSmartPtrRawPointerToWireType\",\"init_RegisteredPointer\",\"RegisteredPointer\",\"RegisteredPointer_getPointee\",\"RegisteredPointer_destructor\",\"RegisteredPointer_deleteObject\",\"RegisteredPointer_fromWireType\",\"runDestructor\",\"releaseClassHandle\",\"detachFinalizer\",\"attachFinalizer\",\"makeClassHandle\",\"init_ClassHandle\",\"ClassHandle\",\"ClassHandle_isAliasOf\",\"throwInstanceAlreadyDeleted\",\"ClassHandle_clone\",\"ClassHandle_delete\",\"ClassHandle_isDeleted\",\"ClassHandle_deleteLater\",\"flushPendingDeletes\",\"setDelayFunction\",\"RegisteredClass\",\"shallowCopyInternalPointer\",\"downcastPointer\",\"upcastPointer\",\"validateThis\",\"char_0\",\"char_9\",\"makeLegalFunctionName\",\"getStringOrSymbol\",\"craftEmvalAllocator\",\"emval_get_global\",\"emval_lookupTypes\",\"emval_allocateDestructors\",\"emval_addMethodCaller\"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=[\"run\",\"addOnPreRun\",\"addOnInit\",\"addOnPreMain\",\"addOnExit\",\"addOnPostRun\",\"addRunDependency\",\"removeRunDependency\",\"FS_createFolder\",\"FS_createPath\",\"FS_createDataFile\",\"FS_createLazyFile\",\"FS_createLink\",\"FS_createDevice\",\"FS_unlink\",\"out\",\"err\",\"callMain\",\"abort\",\"keepRuntimeAlive\",\"wasmMemory\",\"wasmTable\",\"wasmExports\",\"stackAlloc\",\"stackSave\",\"stackRestore\",\"getTempRet0\",\"setTempRet0\",\"writeStackCookie\",\"checkStackCookie\",\"convertI32PairToI53Checked\",\"ptrToString\",\"getHeapMax\",\"growMemory\",\"ENV\",\"MONTH_DAYS_REGULAR\",\"MONTH_DAYS_LEAP\",\"MONTH_DAYS_REGULAR_CUMULATIVE\",\"MONTH_DAYS_LEAP_CUMULATIVE\",\"ERRNO_CODES\",\"ERRNO_MESSAGES\",\"DNS\",\"Protocols\",\"Sockets\",\"timers\",\"warnOnce\",\"UNWIND_CACHE\",\"readEmAsmArgsArray\",\"readEmAsmArgs\",\"runEmAsmFunction\",\"getWasmTableEntry\",\"handleAllocatorInit\",\"HandleAllocator\",\"freeTableIndexes\",\"functionsInTableMap\",\"setValue\",\"PATH\",\"PATH_FS\",\"UTF8Decoder\",\"UTF8ArrayToString\",\"UTF8ToString\",\"stringToUTF8Array\",\"UTF16Decoder\",\"UTF16ToString\",\"stringToUTF16\",\"lengthBytesUTF16\",\"UTF32ToString\",\"stringToUTF32\",\"lengthBytesUTF32\",\"JSEvents\",\"specialHTMLTargets\",\"currentFullscreenStrategy\",\"restoreOldWindowedStyle\",\"ExitStatus\",\"flush_NO_FILESYSTEM\",\"promiseMap\",\"uncaughtExceptionCount\",\"exceptionLast\",\"exceptionCaught\",\"ExceptionInfo\",\"findMatchingCatch\",\"getExceptionMessageCommon\",\"incrementExceptionRefcount\",\"decrementExceptionRefcount\",\"getExceptionMessage\",\"Browser\",\"wget\",\"SYSCALLS\",\"preloadPlugins\",\"FS_stdin_getChar_buffer\",\"FS\",\"MEMFS\",\"TTY\",\"PIPEFS\",\"SOCKFS\",\"tempFixedLengthArray\",\"miniTempWebGLFloatBuffers\",\"miniTempWebGLIntBuffers\",\"GL\",\"emscripten_webgl_power_preferences\",\"AL\",\"GLUT\",\"EGL\",\"GLEW\",\"IDBStore\",\"SDL\",\"SDL_gfx\",\"GLFW\",\"allocateUTF8\",\"allocateUTF8OnStack\",\"InternalError\",\"BindingError\",\"throwInternalError\",\"throwBindingError\",\"registeredTypes\",\"awaitingDependencies\",\"typeDependencies\",\"tupleRegistrations\",\"structRegistrations\",\"sharedRegisterType\",\"whenDependentTypesAreResolved\",\"embind_charCodes\",\"embind_init_charCodes\",\"readLatin1String\",\"UnboundTypeError\",\"PureVirtualError\",\"embindRepr\",\"registeredInstances\",\"registeredPointers\",\"registerType\",\"getShiftFromSize\",\"integerReadValueFromPointer\",\"floatReadValueFromPointer\",\"simpleReadValueFromPointer\",\"finalizationRegistry\",\"detachFinalizer_deps\",\"deletionQueue\",\"delayFunction\",\"emval_handles\",\"emval_symbols\",\"init_emval\",\"count_emval_handles\",\"Emval\",\"emval_newers\",\"emval_methodCallers\",\"emval_registeredMethods\"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();assert(!Module[\"_main\"],'compiled without a main, but one is present. if you added it from JS, use Module[\"onRuntimeInitialized\"]');postRun();}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()();}}run();\n\n\nreturn moduleArg.ready;\n});\n\n\n}();\nif(typeof exports==='object'&&typeof module==='object')\nmodule.exports=Module;else\nif(typeof define==='function'&&define['amd'])\ndefine([],function(){return Module;});}),null);\/*FB_PKG_DELIM*\/\n__d(\"MAWEphemeralMsgAutoResetSystemId\",[],(function(a,b,c,d,e,f){\"use strict\";a=\"-111111\";b=a;f[\"default\"]=b}),66);\n__d(\"MAWEBFrontendQPLLogger\",[\"QPLUserFlow\",\"Random\",\"gkx\",\"hashString\",\"qpl\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){var a=c(\"Random\").uint32();c(\"QPLUserFlow\").start(c(\"qpl\")._(521478596,\"1329\"),{instanceKey:a});return a}function b(a){if(a==null)return;c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521478596,\"1329\"),\"processing_threads_from_occamadillo\",{instanceKey:a})}function d(a,b){if(a==null)return;b===!0?c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521478596,\"1329\"),\"backup_restore_completed_success\",{instanceKey:a}):c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521478596,\"1329\"),\"backup_restore_completed_failed\",{instanceKey:a})}function e(a,b,d){if(a==null)return;if(b===!0)c(\"QPLUserFlow\").endSuccess(c(\"qpl\")._(521478596,\"1329\"),{instanceKey:a});else{d=(b=d)!=null?b:\"dyi_e2e_failed_unspecifed_reason\";c(\"QPLUserFlow\").endFailure(c(\"qpl\")._(521478596,\"1329\"),d,{instanceKey:a})}}function f(a,b,d){if(c(\"gkx\")(\"23946\")!==!0||a==null)return;a=c(\"hashString\")(a);c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521485625,\"1876\"),b,{data:d,instanceKey:a})}function h(a,b,d){if(c(\"gkx\")(\"23946\")!==!0||a==null)return;a=c(\"hashString\")(a);c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521485625,\"1876\"),b,{data:d,instanceKey:a});c(\"QPLUserFlow\").endCancel(c(\"qpl\")._(521485625,\"1876\"),{annotations:d,instanceKey:a})}function i(a,b,d){if(c(\"gkx\")(\"23946\")!==!0||a==null)return;a=c(\"hashString\")(a);if(b){c(\"QPLUserFlow\").endSuccess(c(\"qpl\")._(521485625,\"1876\"),{instanceKey:a});return}c(\"QPLUserFlow\").endFailure(c(\"qpl\")._(521485625,\"1876\"),(b=d)!=null?b:\"upload_message_backup_failed\",{instanceKey:a})}function j(a,b,d){c(\"QPLUserFlow\").addPoint(c(\"qpl\")._(521480745,\"830\"),b,{data:d,instanceKey:a})}function k(a,b){j(a,\"upload_tracking_completed\",b),c(\"QPLUserFlow\").endSuccess(c(\"qpl\")._(521480745,\"830\"),{instanceKey:a})}function l(a,b,d){c(\"QPLUserFlow\").endFailure(c(\"qpl\")._(521480745,\"830\"),b,{annotations:d,instanceKey:a})}function m(a,b){j(a,b),k(a)}g.startDyiQplE2EUserFlow=a;g.logDyiE2EProcessThreadsFromOccamadillo=b;g.logDyiE2EDyiBackupRestoreCompleted=d;g.endDyiE2ECompleted=e;g.addPointUploadMessageBackup=f;g.addPointAndEndFlowUploadMessageBackup=h;g.endFlowUploadMessageBackup=i;g.addPointEBUploadTracking=j;g.endEBUploadTracking=k;g.failEBUploadTracking=l;g.recordPointAndEndFlow=m}),98);\n__d(\"MAWEncryptedBackupUtils\",[\"I64\",\"LSAuthorityLevel\",\"LSDataTraceCheckPoint\",\"LSIntEnum\",\"MAWEBFrontendQPLLogger\",\"MAWTraceUtils\",\"Promise\",\"ReQL\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function k(a,b,c,e,f){d(\"MAWTraceUtils\").recordCheckpointForTrace(a,b,c,e,f)}function a(a,e,f){d(\"MAWEBFrontendQPLLogger\").addPointUploadMessageBackup(e,\"get_backup_tenancy\");k(e,(j||(j=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.secure_encrypted_backups_client_state)).then(function(a){var e;if(a==null){f!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(f,\"get_backup_tenancy_null_client_state_row\");return(h||(h=b(\"Promise\"))).resolve()}e=(e=a.backupTenancy)!=null?e:(i||(i=d(\"I64\"))).one;a=a.authorityLevel;if(f!=null){var g;d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(f,\"get_backup_tenancy\",{\"int\":{authorityLevel:(i||(i=d(\"I64\"))).to_int32((g=a)!=null?g:(i||(i=d(\"I64\"))).zero),backupTenancy:i.to_int32((g=e)!=null?g:(i||(i=d(\"I64\"))).zero)}})}if(e!=null&&(i||(i=d(\"I64\"))).equal((j||(j=d(\"LSIntEnum\"))).ofNumber(c(\"LSAuthorityLevel\").AUTHORITATIVE),a))return e})}g.getBackupTenancy=a}),98);\n__d(\"LSWriteToPendingBackupsContext\",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(177).add({pk:void 0,pendingBackupTaskId:a[0],persistentId:a[1],actionType:a[2],contentType:a[3],backupStatus:a[4],listKey:a[5],uniqueKey:a[6],sortKey:a[7],echoContent:a[8],lsTraceId:a[9],error:a[13],echoEncodingLatencyNs:a[14]})},function(a){return b.resolve(c)}])}e.exports=a}),null);\n__d(\"LSIssueThreadRemove\",[\"LSArrayGetObjectAt\",\"LSIsEncryptionVersionSecure\",\"LSIssueNewTaskAndGetTaskID\",\"LSLogMebClientEvent.nop\",\"LSWriteToPendingBackupsContext\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][issueThreadRemove] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push(\"Skipping thread remove since EB is disabled. act thread id = \"),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[12]=d[11].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",\"\",d[12]].join(\"\")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set(\"error_code\",c.i64.cast([0,1])),d[13].set(\"stored_procedure\",\"LSEncryptedBackupsIssueThreadRemoveStoredProcedure\"),d[13].set(\"error_message\",\"\"),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[17]=f.backupTenancy,d[16]=f.encryptionVersion,c.i64.neq(void 0,void 0)?c.resolve(d[11]=void 0):c.sequence([function(a){return d[18]=c.createArray(),c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[28]=(d[18].push(c.i64.cast([0,0])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,2])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[28]=(d[18].push(c.i64.cast([0,2])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,3])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[28]=(d[18].push(c.i64.cast([0,3])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,4])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[28]=(d[18].push(c.i64.cast([0,4])),d[18]):0,d[23]=c.createArray(),d[24]=c.i64.of_int32(d[18].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(a){return d[28]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[18],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=(d[23].push(d[29]),d[23])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[23].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[23],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(\",\"),d[25]=d[30]}])},function(a){return d[23].some(function(a){return c.i64.eq(d[16],a)})?d[26]=d[16]:d[26]=void 0,c.i64.neq(d[26],void 0)?d[27]=d[26]:d[27]=void 0,d[11]=d[27]}])},function(e){return c.i64.neq(d[11],void 0)?d[12]=d[11]:d[12]=c.i64.cast([0,0]),c.i64.neq(d[17],void 0)?d[13]=d[17]:d[13]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[18]=c.i64.cast([0,4]):d[18]=c.i64.cast([0,0]),d[19]=[\"eb_upload\",\":\",a[0]].join(\"\"),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),d[19],c.i64.cast([0,50026]),\"\",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.storedProcedure(b(\"LSWriteToPendingBackupsContext\"),d[21],\"\",c.i64.cast([0,2]),c.i64.cast([0,2]),c.i64.cast([0,1]),a[0],a[0],a[1],void 0,a[3],void 0,void 0,a[2],a[4],void 0,void 0,void 0,void 0,void 0,d[18],!1)},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued message backup task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(\", otid = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",\"\",d[24]].join(\"\")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued message remove task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(\", otid = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",\"\",d[24]].join(\"\")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued thread remove task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",\"\",d[24]].join(\"\")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set(\"task_id\",d[21]),a=[d[22],void 0],d[14]=a[0],d[15]=a[1],a}]):c.sequence([function(b){return d[18]=c.createArray(),d[21]=(d[18].push(\"Skipping thread remove since EB is disabled. act thread id = \"),d[18]),d[21]=(d[18].push(a[0]),d[18]),d[19]=d[18].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",\"\",d[19]].join(\"\")),c.resolve()},function(a){return d[20]=new c.Map(),d[20].set(\"error_code\",c.i64.cast([0,24])),d[20].set(\"stored_procedure\",\"LSEncryptedBackupsIssueThreadRemoveStoredProcedure\"),d[20].set(\"error_message\",\"\"),a=[void 0,d[20]],d[14]=a[0],d[15]=a[1],a}])},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueThreadRemove] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"issueThreadRemove\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSIssueThreadRemoveStoredProcedure\",[\"LSIssueThreadRemove\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.sortKey;d[2]=b.source;d[3]=b.traceId;d[4]=b.error;return c(\"LSIssueThreadRemove\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"MAWBridgeDeleteMessagesOfThreadHandler\",[\"I64\",\"LSEncryptedBackupsBackupTenancy\",\"LSFactory\",\"LSIntEnum\",\"LSIssueThreadRemoveStoredProcedure\",\"LSMEBTaskCreationSource\",\"MAWEncryptedBackupUtils\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d(\"MAWEncryptedBackupUtils\").getBackupTenancy(a));if(e==null||!(h||(h=d(\"I64\"))).equal(e,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSEncryptedBackupsBackupTenancy\").PRODUCTION)))return;yield c(\"LSIssueThreadRemoveStoredProcedure\")(c(\"LSFactory\")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSMEBTaskCreationSource\").TAM_WEB)})}});return j.apply(this,arguments)}g.call=a}),98);\n__d(\"LSIssuePointQueryRestoreTask\",[\"LSAppendDataTraceAddon\",\"LSArrayGetObjectAt\",\"LSBase64Encode.nop\",\"LSIsEncryptionVersionSecure\",\"LSIsMobileClient\",\"LSIssueNewTaskAndGetTaskID\",\"LSLogMebClientEvent.nop\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution.\"),a[3]!==void 0?c.storedProcedure(b(\"LSAppendDataTraceAddon\"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b(\"LSIsMobileClient\")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}(\"[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported\"),d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"MEBTraceUtils\",\"LSDataTraceMciTraceLog native op not supported\",d[13],c.i64.cast([0,3]))):c.resolve()},function(e){return function(a){c.logger(a).info(a)}(\"[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is enabled\"),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[13]=new c.Map(),d[13].set(\"error_code\",c.i64.cast([0,1])),d[13].set(\"error_message\",\"\"),d[13].set(\"stored_procedure\",\"issuePointQueryRestoreTask\"),d[14]=new c.Map(),d[14].set(\"act_thread_id\",a[0]),d[15]=new c.Map(),d[15].set(\"restore_context\",d[14]),d[15].set(\"failure\",d[13]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[24]=c.i64.of_float(Date.now()),d[16]=c.i64.add(d[24],c.i64.cast([0,0]))):d[16]=c.i64.cast([0,0]),d[17]=d[15].get(\"restore_context\"),d[15],d[18]=d[15].get(\"success\"),d[15],d[18]!==void 0?(d[24]=d[18].get(\"message_id\"),d[18],d[19]=d[24]):d[19]=\"\",d[20]=d[17].get(\"act_thread_id\"),d[17],d[21]=\":\",d[22]=c.toJSON(d[15]),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),[\"encrypted_backups_restore\",d[21],d[20],d[21],d[19]].join(\"\"),c.i64.cast([0,50035]),d[22],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[16],c.i64.cast([0,0])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[3]=d[23]}]):(f=e.item,c.sequence([function(a){return d[19]=f.deviceId,d[18]=f.backupTenancy,d[17]=f.encryptionVersion,c.i64.neq(void 0,void 0)?c.resolve(d[13]=void 0):c.sequence([function(a){return d[20]=c.createArray(),c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[30]=(d[20].push(c.i64.cast([0,0])),d[20]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,2])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[30]=(d[20].push(c.i64.cast([0,2])),d[20]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,3])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[30]=(d[20].push(c.i64.cast([0,3])),d[20]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,4])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[30]=(d[20].push(c.i64.cast([0,4])),d[20]):0,d[25]=c.createArray(),d[26]=c.i64.of_int32(d[20].length),c.i64.gt(d[26],c.i64.cast([0,0]))?c.loopAsync(d[26],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=(d[25].push(d[31]),d[25])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[30]=c.createArray(),d[31]=c.i64.of_int32(d[25].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[25],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[36]=(d[30].push(c.i64.to_string(d[34])),d[30])}])}):c.resolve()},function(a){return d[32]=d[30].join(\",\"),d[27]=d[32]}])},function(a){return d[25].some(function(a){return c.i64.eq(d[17],a)})?d[28]=d[17]:d[28]=void 0,c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=void 0,d[13]=d[29]}])},function(e){return c.i64.neq(d[13],void 0)?d[14]=d[13]:d[14]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[15]=d[18]:d[15]=c.i64.cast([0,1]),c.i64.neq(d[19],void 0)?c.sequence([function(e){return d[20]=new c.Map(),d[20].set(\"act_thread_id\",a[0]),d[20].set(\"request_id\",a[3]),d[20].set(\"tam_thread_subtype\",c.i64.cast([0,0])),d[20].set(\"source\",a[4]),c.nativeOperation(b(\"LSBase64Encode.nop\"),f.ocmfClientStateBlob).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b(\"LSBase64Encode.nop\"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=new c.Map(),d[23].set(\"ocmf_client_state_blob\",d[21]==null?\"\":d[21]),d[23].set(\"mailbox_root_key\",d[22]==null?\"\":d[22]),d[24]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[40]=(d[24].push(a.epochId),d[24])})},function(a){return d[38]=\"Queried locally available epochs. Count: \",d[25]=c.i64.of_int32(d[24].length),d[39]=c.i64.to_string(d[25]),d[26]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][MEBEpochClientUtils] \",d[26],d[38],d[26],d[39]].join(\"\")),c.resolve()},function(e){return d[27]=new c.Map(),d[27].set(\"device_id\",d[19]),d[27].set(\"raw_tokens\",d[23]),d[27].set(\"locally_available_epochs\",d[24]),d[28]=new c.Map(),d[28].set(\"reference_timestamp\",a[2]),d[28].set(\"device_context\",d[27]),d[28].set(\"message_id\",a[1]),d[29]=new c.Map(),d[29].set(\"restore_context\",d[20]),d[29].set(\"success\",d[28]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[40]=c.i64.of_float(Date.now()),d[30]=c.i64.add(d[40],c.i64.cast([0,0]))):d[30]=c.i64.cast([0,0]),d[31]=d[29].get(\"restore_context\"),d[29],d[32]=d[29].get(\"success\"),d[29],d[32]!==void 0?(d[40]=d[32].get(\"message_id\"),d[32],d[33]=d[40]):d[33]=\"\",d[34]=d[31].get(\"act_thread_id\"),d[31],d[35]=\":\",d[36]=c.toJSON(d[29]),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),[\"encrypted_backups_restore\",d[35],d[34],d[35],d[33]].join(\"\"),c.i64.cast([0,50035]),d[36],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[30],c.i64.cast([0,0])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[16]=d[37]}]):c.sequence([function(e){return d[20]=new c.Map(),d[20].set(\"error_code\",c.i64.cast([0,1])),d[20].set(\"error_message\",\"\"),d[20].set(\"stored_procedure\",\"issuePointQueryRestoreTask\"),d[21]=new c.Map(),d[21].set(\"act_thread_id\",a[0]),d[22]=new c.Map(),d[22].set(\"restore_context\",d[21]),d[22].set(\"failure\",d[20]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[31]=c.i64.of_float(Date.now()),d[23]=c.i64.add(d[31],c.i64.cast([0,0]))):d[23]=c.i64.cast([0,0]),d[24]=d[22].get(\"restore_context\"),d[22],d[25]=d[22].get(\"success\"),d[22],d[25]!==void 0?(d[31]=d[25].get(\"message_id\"),d[25],d[26]=d[31]):d[26]=\"\",d[27]=d[24].get(\"act_thread_id\"),d[24],d[28]=\":\",d[29]=c.toJSON(d[22]),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),[\"encrypted_backups_restore\",d[28],d[27],d[28],d[26]].join(\"\"),c.i64.cast([0,50035]),d[29],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[23],c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[16]=d[30]}])},function(a){return d[3]=d[16]}]))})},function(d){return a[3]!==void 0?c.storedProcedure(b(\"LSAppendDataTraceAddon\"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b(\"LSIsMobileClient\")).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[5]?d[6]=!0:d[6]=!1,d[6]?(function(a){c.logger(a).mustfix(a)}(\"[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported\"),d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"MEBTraceUtils\",\"LSDataTraceMciTraceLog native op not supported\",d[13],c.i64.cast([0,3]))):c.resolve()},function(a){return d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]=\"Finishing execution. Execution time: \",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=\" ms\",d[9]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] \",d[9],d[10],d[9],d[11],d[9],d[12]].join(\"\")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[13]=\",\",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure\",[d[10],d[13],d[11],d[13],d[12]].join(\"\"),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSIssuePointQueryRestoreTaskStoredProcedure\",[\"LSIssuePointQueryRestoreTask\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.startSortKey;d[3]=b.traceId;d[4]=b.source;return c(\"LSIssuePointQueryRestoreTask\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"MAWBridgeIssuePointQueryHandler\",[\"I64\",\"LSEncryptedBackupsBackupTenancy\",\"LSFactory\",\"LSIntEnum\",\"LSIssuePointQueryRestoreTaskStoredProcedure\",\"LSMEBTaskCreationSource\",\"MAWEncryptedBackupUtils\",\"MAWGetStorageQplAnnotations\",\"Promise\",\"QuickPerformanceLogger\",\"WAHashStringToNumber\",\"promiseDone\",\"qpl\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j,k;function a(a,e){return d(\"MAWEncryptedBackupUtils\").getBackupTenancy(a).then(function(f){if(f==null)return(k||(k=b(\"Promise\"))).resolve();if(!(i||(i=d(\"I64\"))).equal(f,(j||(j=d(\"LSIntEnum\"))).ofNumber(c(\"LSEncryptedBackupsBackupTenancy\").PRODUCTION)))return(k||(k=b(\"Promise\"))).resolve();f=d(\"WAHashStringToNumber\").hashStringToNumber(e.messageId);var g=f.toString(),l=e.startSortKey,m=e.taskSource===c(\"LSMEBTaskCreationSource\").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES?c(\"LSMEBTaskCreationSource\").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:c(\"LSMEBTaskCreationSource\").EB_POINT_QUERY_IN_ACT;m===c(\"LSMEBTaskCreationSource\").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES&&((h||(h=c(\"QuickPerformanceLogger\"))).markerStart(c(\"qpl\")._(1056840931,\"814\"),f),c(\"promiseDone\")(d(\"MAWGetStorageQplAnnotations\").getStorageQplAnnotations().then(function(a){(h||(h=c(\"QuickPerformanceLogger\"))).markerAnnotate(c(\"qpl\")._(1056840931,\"814\"),a)})),h.markerPoint(c(\"qpl\")._(1056840931,\"814\"),\"eb_point_restore_begin\",{data:{\"int\":{msgId:f},string:{jid:e.jid}},instanceKey:f}));if(l!=null)return c(\"LSIssuePointQueryRestoreTaskStoredProcedure\")(c(\"LSFactory\")(a),{messageId:e.messageId,source:(j||(j=d(\"LSIntEnum\"))).ofNumber(m),startSortKey:l,threadId:e.threadId,traceId:g}).then(function(){});else return c(\"LSIssuePointQueryRestoreTaskStoredProcedure\")(c(\"LSFactory\")(a),{messageId:e.messageId,source:(j||(j=d(\"LSIntEnum\"))).ofNumber(m),threadId:e.threadId,traceId:g}).then(function(){})})}g.call=a}),98);\n__d(\"MAWBridgeTraceUtils\",[\"I64\",\"Promise\",\"ReQL\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a,c,e){return d(\"ReQL\").toArrayAsync(d(\"ReQL\").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d(\"I64\"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b(\"Promise\"))).resolve(a[0].traceId);else return(h||(h=b(\"Promise\"))).resolve()})}g.getTraceId=a}),98);\n__d(\"MAWBridgeStartTraceHandler\",[\"ArmadilloDataTraceCheckPoint\",\"ArmadilloDataTraceType\",\"I64\",\"LSAppendDataTraceAddonStoredProcedure\",\"LSDataTraceTag\",\"LSFactory\",\"LSRequestId\",\"MAWAckLevel\",\"MAWBridgeTraceUtils\",\"MAWMsg\",\"MAWTimeUtils\",\"Promise\",\"gkx\",\"killswitch\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d(\"I64\"))).zero,initTimestampMs:d(\"MAWTimeUtils\").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:d(\"ArmadilloDataTraceCheckPoint\").traceCreated,dataTraceId:e,syncChannel:(i||(i=d(\"I64\"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c(\"gkx\")(\"23995\"))return;return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:d(\"ArmadilloDataTraceCheckPoint\").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d(\"I64\"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){if(c(\"killswitch\")(\"MESSENGER_WEB_DATA_TRACE_ID\"))return(h||(h=b(\"Promise\"))).resolve();var f=e.ack,g=e.traceType;return f===d(\"MAWAckLevel\").ACK.clock?d(\"MAWBridgeTraceUtils\").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c(\"LSRequestId\").generate();if((i||(i=d(\"I64\"))).equal(g,d(\"ArmadilloDataTraceType\").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b===\"User\")return;return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:d(\"ArmadilloDataTraceCheckPoint\").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d(\"I64\"))).neg_one})}).then(function(){if(e.isFirstMsg)return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:d(\"ArmadilloDataTraceCheckPoint\").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d(\"I64\"))).neg_one,tags:\"first_msg=1\"})}).then(function(){var f=e.type_;f=f===d(\"MAWMsg\").text?d(\"ArmadilloDataTraceCheckPoint\").traceTextMessage:f===d(\"MAWMsg\").ptt||f===d(\"MAWMsg\").image||f===d(\"MAWMsg\").video||f===d(\"MAWMsg\").gif?d(\"ArmadilloDataTraceCheckPoint\").traceMediaMessage:void 0;if(f==null)return(h||(h=b(\"Promise\"))).resolve(f);c(\"promiseDone\")(c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d(\"I64\"))).neg_one}));return(h||(h=b(\"Promise\"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d(\"I64\"))).equal(b,d(\"ArmadilloDataTraceCheckPoint\").traceMediaMessage))return;b=e.type_;b=b===d(\"MAWMsg\").image?d(\"LSDataTraceTag\").image:b===d(\"MAWMsg\").ptt?d(\"LSDataTraceTag\").audio:b===d(\"MAWMsg\").video?d(\"LSDataTraceTag\").video:b===d(\"MAWMsg\").gif?d(\"LSDataTraceTag\").animatedImage:d(\"LSDataTraceTag\").none;return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:d(\"ArmadilloDataTraceCheckPoint\").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d(\"I64\"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b(\"Promise\"))).resolve()}g.call=a}),98);\n__d(\"MAWBridgeStartTraceWithTraceIdHandler\",[\"MAWMainTraceUtils\",\"MAWTimeUtils\",\"WATimeUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b){return d(\"MAWMainTraceUtils\").startTraceWithTxn(a,d(\"MAWTimeUtils\").toTimestamp(d(\"WATimeUtils\").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);\n__d(\"MAWBridgeTraceRecordCheckpointHandler\",[\"I64\",\"LSAppendDataTraceAddonStoredProcedure\",\"LSFactory\",\"LSFlushDataTrace.nop\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function a(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d(\"I64\"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c(\"LSFlushDataTrace.nop\")(a,0,f)})}g.call=a}),98);\n__d(\"EncryptedBackupdDYIFileSaver\",[\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=c(\"requireDeferred\")(\"file-saver\").__setRef(\"EncryptedBackupdDYIFileSaver\");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);\n__d(\"EncryptedBackupsDYIFileUtils\",[\"FBLogger\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=\"media\",i=\"messages.zip\";function a(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory();throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Storage management API is not supported. Please try one of the supported browsers.\")}function d(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory(h);throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Storage management API is not supported. Please try one of the supported browsers.\")}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,d){a=(yield a.getFileHandle(b,{create:!0}));try{b=(yield a.createSyncAccessHandle());b.write(d);b.flush();b.close()}catch(e){if(e instanceof Error){if(e instanceof TypeError)try{b=(yield a.createWritable());yield b.write(d);yield b.close();return}catch(a){if(a instanceof Error){if(a instanceof TypeError)throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Write operation is not supported. Please try one of the supported browsers.\");throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Failed to write using writable: %e\",a.message)}throw a}throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Failed to write using sync access handle: %s\",e.message)}throw e}});return j.apply(this,arguments)}function f(a,b){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield a.getFileHandle(b));try{var d=(yield a.createSyncAccessHandle()),e=new ArrayBuffer(d.getSize());d.read(e);d.close();return new Blob([e])}catch(d){if(d instanceof Error){if(d instanceof TypeError)return a.getFile();throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Failed to read file %s, %s\",b,d.message)}throw d}});return k.apply(this,arguments)}g.DyiMediaFolder=h;g.DyiArchiveFilename=i;g.getRootFolderHandle=a;g.getMediaFolderHandle=d;g.writeFile=e;g.readFile=f}),98);\n__d(\"MAWBridgeUpdateDYIStatusV2\",[\"EncryptedBackupdDYIFileSaver\",\"EncryptedBackupsDYIFileUtils\",\"EncryptedBackupsDYITypes\",\"FBLogger\",\"WATagsLogger\",\"asyncToGeneratorRuntime\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";function h(){var a=babelHelpers.taggedTemplateLiteralLoose([\"DYI Complete\"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose([\"Saving file with filename \",\"\"]);i=function(){return a};return a}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,e){d(\"EncryptedBackupdDYIFileSaver\").saveFile(a,b),window.setTimeout(function(){c(\"promiseDone\")(e())},1e3)});return k.apply(this,arguments)}function a(a){return l.apply(this,arguments)}function l(){l=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){var e=a.qplInstanceKeyE2E;a=a.status;if(a===d(\"EncryptedBackupsDYITypes\").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Storage management API is not supported. Please try one of the supported browsers.\");var f=d(\"EncryptedBackupsDYIFileUtils\").DyiArchiveFilename,g=(yield d(\"EncryptedBackupsDYIFileUtils\").getRootFolderHandle()),k=(yield d(\"EncryptedBackupsDYIFileUtils\").readFile(g,f));yield j(f,k,b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){yield g.removeEntry(f)}));void d(\"WATagsLogger\").TAGS([\"igd_labyrinth_web\",\"igd_dyi\"]).LOG(i(),f);e!=null&&c(\"FBLogger\")(\"labyrinth_web\").mustfix(\"TODO: End the QPL marker here\");void d(\"WATagsLogger\").TAGS([\"igd_labyrinth_web\",\"igd_dyi\"]).LOG(h())}catch(a){c(\"FBLogger\")(\"labyrinth_web\").mustfix(\"Failed to download the DYI archive: %s\",a);return d(\"EncryptedBackupsDYITypes\").EncryptedBackupsDYIState.Failed}return a});return l.apply(this,arguments)}g.call=a}),98);\n__d(\"EncryptedBackupsDYIUtils\",[\"EncryptedBackupdDYIFileSaver\",\"MAWBridgeSendAndReceive\",\"MAWEBFrontendQPLLogger\",\"Promise\",\"asyncToGeneratorRuntime\",\"promiseDone\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=c(\"requireDeferred\")(\"jszip\").__setRef(\"EncryptedBackupsDYIUtils\");function j(a){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){var c=(yield d(\"MAWBridgeSendAndReceive\").sendAndReceive(\"backend\",\"getAllThreadsAsJson\")),e={};Object.keys(c).forEach(function(b){var d=c[b],f=d.messages,g=d.participants;d=d.stickers;f=f.map(function(a){var b=a.common;a.jsonType;a=babelHelpers.objectWithoutPropertiesLoose(a,[\"common\",\"jsonType\"]);return babelHelpers[\"extends\"]({},b,a)});a.file(\"inbox\/\"+b+\"\/messages.json\",JSON.stringify({messages:f,participants:g},null,4));[\"photos\",\"videos\",\"audio\",\"gifs\"].forEach(function(d){var e=c[b][d];Object.entries(e).forEach(function(c){var e=c[0];c=c[1];a.file(\"inbox\/\"+b+\"\/\"+d+\"\/\"+e,c)})});Object.entries(d).forEach(function(a){var b=a[0];a=a[1];e[b]=a})});Object.entries(e).forEach(function(b){var c=b[0];b=b[1];a.file(\"stickers_used\/\"+c,b)});return(h||(h=b(\"Promise\"))).resolve(a)});return k.apply(this,arguments)}function a(a){i.onReady(function(b){b=b();c(\"promiseDone\")(j(b).then(function(a){return a.generateAsync({compression:\"DEFLATE\",compressionOptions:{level:6},type:\"blob\"})}).then(function(b){d(\"EncryptedBackupdDYIFileSaver\").saveFile(\"messages.zip\",b),d(\"MAWEBFrontendQPLLogger\").endDyiE2ECompleted(a,!0)}))})}g.createFileAndDownload=a}),98);\n__d(\"MAWBridgeUpdateDyiStatus\",[\"EncryptedBackupsDYIUtils\",\"I64\",\"LSIntEnum\",\"MAWEBFrontendQPLLogger\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function j(a,b){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){yield a.encrypted_backups_dyi_backup_restore_status.put({currentStatus:b,pk:(h||(h=d(\"I64\"))).zero})});return k.apply(this,arguments)}function a(a,b){var c=b.qplInstanceKeyE2E;b=b.status;d(\"MAWEBFrontendQPLLogger\").logDyiE2EDyiBackupRestoreCompleted(c,b);d(\"EncryptedBackupsDYIUtils\").createFileAndDownload(c);if(b)return j(a,(i||(i=d(\"LSIntEnum\"))).ofNumber(1));else return j(a,(i||(i=d(\"LSIntEnum\"))).ofNumber(2))}g.call=a}),98);\n__d(\"MAWBridgeUpdateTraceHandler\",[\"ArmadilloDataTraceCheckPoint\",\"I64\",\"LSAppendDataTraceAddonStoredProcedure\",\"LSDataTraceCheckPoint\",\"LSFactory\",\"LSIntEnum\",\"MAWBridgeTraceEvent\",\"Promise\",\"ReQL\",\"emptyFunction\",\"killswitch\",\"updateAndFlushLSDataTrace\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function k(a,e,f){return d(\"ReQL\").toArrayAsync(d(\"ReQL\").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d(\"I64\"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d(\"I64\"))).neg_one});else return c(\"LSAppendDataTraceAddonStoredProcedure\")(c(\"LSFactory\")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d(\"I64\"))).neg_one})})},(h||(h=b(\"Promise\"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c(\"updateAndFlushLSDataTrace\")(a,d)})},(h||(h=b(\"Promise\"))).resolve())}function a(a,e){if(c(\"killswitch\")(\"MESSENGER_WEB_DATA_TRACE_ID\"))return(h||(h=b(\"Promise\"))).resolve();var f=e.event;if(f===c(\"MAWBridgeTraceEvent\").ReceivedReceipt)return k(a,e,d(\"ArmadilloDataTraceCheckPoint\").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c(\"MAWBridgeTraceEvent\").ReceivedSent)return k(a,e,d(\"ArmadilloDataTraceCheckPoint\").advancedCryptoMEMSendTaskComplete).then(c(\"emptyFunction\"));else if(f===c(\"MAWBridgeTraceEvent\").FlowEndForFailure)return k(a,e,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c(\"MAWBridgeTraceEvent\").FlowEndForSuccess)return k(a,e,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b(\"Promise\"))).resolve()}g.call=a}),98);\n__d(\"LSDeleteMessageFromMPS\",[\"LSLogMebClientEvent.nop\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][deleteMessageFromMPS] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[0]&&b.offlineThreadingId===a[1]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[2]=!1:(a.item,d[2]=!0)})},function(b){return d[2]?c.resolve(d[4]=!1):c.sequence([function(b){return d[11]=void 0,d[12]=!1,d[13]=c.i64.cast([-1,4294967295]),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[0]&&b.offlineThreadingId===a[1]}).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[11]=b.messagePayload,d[12]=b.isLocalOnlyMessage,d[13]=b.messageTimestampMs)})},function(b){return c.db.table(303).add({pk:void 0,deletedMessagePayload:d[11],threadId:a[0],offlineThreadingId:a[1],deletionOfflineThreadingId:a[4],deletionTimestampMs:a[2],isLocalOnlyMessage:d[12],messageTimestampMs:d[13]})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[0]&&b.offlineThreadingId===a[1]}),function(a){return a[\"delete\"]()})},function(b){return c.blobs.neq(a[3],void 0)?a[4]!==void 0?c.db.table(301).add({pk:void 0,messagePayload:a[3],threadId:a[0],offlineThreadingId:a[1],messageTimestampMs:d[13],isLocalOnlyMessage:d[12]}):c.resolve():c.resolve()},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][deleteMessageFromMPS] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"deleteMessageFromMPS\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSDeleteMessageFromMPSStoredProcedure\",[\"LSDeleteMessageFromMPS\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.offlineThreadingId;d[2]=b.deletionTimestampMs;d[3]=b.placeholderPayload;d[4]=b.deletionOfflineThreadingId;return c(\"LSDeleteMessageFromMPS\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSWriteSupplementalMessage\",[\"LSLogMebClientEvent.nop\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][writeSupplementalMessage] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][writeSupplementalMessage] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"writeSupplementalMessage\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSWriteSupplementalMessageStoredProcedure\",[\"LSWriteSupplementalMessage\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.toplevelOfflineThreadingId;d[3]=b.supplementalKey;d[4]=b.offlineThreadingId;d[5]=b.messageTimestampMs;return c(\"LSWriteSupplementalMessage\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSWriteTopLevelMessage\",[\"LSLogMebClientEvent.nop\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][writeTopLevelMessage] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][writeTopLevelMessage] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"writeTopLevelMessage\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSWriteTopLevelMessageStoredProcedure\",[\"LSWriteTopLevelMessage\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.offlineThreadingId;d[3]=b.messageTimestampMs;d[4]=b.isLocalOnlyMessage;return c(\"LSWriteTopLevelMessage\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"MAWWriteToMPSTables\",[\"FBLogger\",\"I64\",\"LSDeleteMessageFromMPSStoredProcedure\",\"LSFactory\",\"LSWriteSupplementalMessageStoredProcedure\",\"LSWriteTopLevelMessageStoredProcedure\",\"MAWSharedEbUploadEntity\",\"MAWTimeUtils\",\"Promise\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;function a(a,e,f,g){var j=e.backupActionType,k=e.msgId,l=e.originalMsgProtocolId,m=e.protobuf,n=e.serverTs;e=e.supplementalKey;g===void 0&&(g=!1);switch(j){case 1:return c(\"LSWriteTopLevelMessageStoredProcedure\")(c(\"LSFactory\")(a),{isLocalOnlyMessage:!1,messagePayload:d(\"MAWSharedEbUploadEntity\").getEbBackupMessabeBytesBuffer(m),messageTimestampMs:g?(i||(i=d(\"I64\"))).of_int32(n):d(\"MAWTimeUtils\").toTimestamp(n),offlineThreadingId:k.externalId,threadId:f});case 2:if(l==null||e==null)throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Missing offline threading Id or supplemental key\");return c(\"LSWriteSupplementalMessageStoredProcedure\")(c(\"LSFactory\")(a),{messagePayload:d(\"MAWSharedEbUploadEntity\").getEbBackupMessabeBytesBuffer(m),messageTimestampMs:g?(i||(i=d(\"I64\"))).of_int32(n):d(\"MAWTimeUtils\").toTimestamp(n),offlineThreadingId:k.externalId,supplementalKey:e,threadId:f,toplevelOfflineThreadingId:l.externalId});case 3:case 4:return c(\"LSDeleteMessageFromMPSStoredProcedure\")(c(\"LSFactory\")(a),{deletionTimestampMs:d(\"MAWTimeUtils\").toTimestamp(n),offlineThreadingId:k.externalId,threadId:f});default:return(h||(h=b(\"Promise\"))).resolve()}}g.writeToMPSTables=a}),98);\n__d(\"MAWBridgeUploadMessageGQLHandler\",[\"I64\",\"JSResourceForInteraction\",\"LSEncryptedBackupsBackupTenancy\",\"LSIntEnum\",\"MAWEBFrontendQPLLogger\",\"MAWEncryptedBackupUtils\",\"MAWWriteToMPSTables\",\"Promise\",\"WALogger\",\"asyncToGeneratorRuntime\",\"gkx\",\"isInstamadilloEB\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose([\"[labyrinth_web] uploadMessage.authTs is null for the message\"]);k=function(){return a};return a}function a(a,b){return l.apply(this,arguments)}function l(){l=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e){if(c(\"isInstamadilloEB\")())return(j||(j=b(\"Promise\"))).resolve();var f=(yield d(\"MAWEncryptedBackupUtils\").getBackupTenancy(a));e=(yield (j||(j=b(\"Promise\"))).all(e.map(function(b){var e=b.protoMsg;if(f==null||!(h||(h=d(\"I64\"))).equal(f,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSEncryptedBackupsBackupTenancy\").PRODUCTION))){o(b.uploadTrackingInstanceKey,\"user_device_not_enrolled_invalid_echo_request\");return}var g=b.authTs;if(g==null){d(\"WALogger\").ERROR(k());o(b.uploadTrackingInstanceKey,\"message_auth_ts_is_null\");return}return c(\"gkx\")(\"23966\")&&e!=null?d(\"MAWWriteToMPSTables\").writeToMPSTables(a,e,b.threadId).then(function(){return b}):b})));yield m(a,e.filter(Boolean))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){yield c(\"JSResourceForInteraction\")(\"MAWEncryptedBackupsMessageUploadMutation\").__setRef(\"MAWBridgeUploadMessageGQLHandler\").load().then(function(c){return c.uploadMessageOverGQL(a,b)})});return n.apply(this,arguments)}function o(a,b){a!=null&&d(\"MAWEBFrontendQPLLogger\").recordPointAndEndFlow(a,b)}g.call=a}),98);\n__d(\"LSSerializeAttachmentBackupPayload\",[\"LSLogMebClientEvent.nop\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.of_float(Date.now()),d[3]=c.i64.random(),d[5]=\"Finishing execution. Execution time: \",d[6]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=\" ms\",d[4]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][serializeAttachmentBackupPayload] \",d[4],d[5],d[4],d[6],d[4],d[7]].join(\"\")),c.i64.eq(c.i64.mod_(d[3],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[8]=\",\",d[9]=c.createArray(),void 0!==void 0?d[10]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"serializeAttachmentBackupPayload\",[d[5],d[8],d[6],d[8],d[7]].join(\"\"),d[9],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[void 0,void 0],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSWriteToPendingProtobufBackupsContext\",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],messageTimestampMs:a[4],backupAction:a[5],supplementalKey:a[3],attachmentPayload:a[6],senderId:a[7]})},function(a){return b.resolve(c)}])}e.exports=a}),null);\n__d(\"LSIssueMessageBackup\",[\"LSArrayGetObjectAt\",\"LSIsEncryptionVersionSecure\",\"LSIssueNewTaskAndGetTaskID\",\"LSLogMebClientEvent.nop\",\"LSSerializeAttachmentBackupPayload\",\"LSWriteToPendingBackupsContext\",\"LSWriteToPendingProtobufBackupsContext\"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][issueMessageBackup] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push(\"Skipping the message upload since EB is disabled. act thread id = \"),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[14]=(d[11].push(\", otid = \"),d[11]),d[14]=(d[11].push(a[1]),d[11]),d[12]=d[11].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",\"\",d[12]].join(\"\")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set(\"error_code\",c.i64.cast([0,1])),d[13].set(\"stored_procedure\",\"LSEncryptedBackupsIssueMessageBackupStoredProcedure\"),d[13].set(\"error_message\",\"\"),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[17]=f.backupTenancy,d[16]=f.encryptionVersion,c.i64.neq(void 0,void 0)?c.resolve(d[11]=void 0):c.sequence([function(a){return d[18]=c.createArray(),c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[28]=(d[18].push(c.i64.cast([0,0])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,2])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[28]=(d[18].push(c.i64.cast([0,2])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,3])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[28]=(d[18].push(c.i64.cast([0,3])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,4])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[28]=(d[18].push(c.i64.cast([0,4])),d[18]):0,d[23]=c.createArray(),d[24]=c.i64.of_int32(d[18].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(a){return d[28]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[18],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=(d[23].push(d[29]),d[23])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[23].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[23],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(\",\"),d[25]=d[30]}])},function(a){return d[23].some(function(a){return c.i64.eq(d[16],a)})?d[26]=d[16]:d[26]=void 0,c.i64.neq(d[26],void 0)?d[27]=d[26]:d[27]=void 0,d[11]=d[27]}])},function(e){return c.i64.neq(d[11],void 0)?d[12]=d[11]:d[12]=c.i64.cast([0,0]),c.i64.neq(d[17],void 0)?d[13]=d[17]:d[13]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(a){return c.resolve((function(a){c.logger(a).info(a)}(\"[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Skip processing attachments as not enabled.\"),a=[void 0,void 0],d[18]=a[0],d[19]=a[1],a))},function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[20]=c.i64.cast([0,4]):d[20]=c.i64.cast([0,0]),d[21]=[\"eb_upload\",\":\",a[0]].join(\"\"),d[22]=c.i64.of_float(Date.now()),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),d[21],c.i64.cast([0,50026]),\"\",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[22],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[22],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[23]=a[0],a})},function(e){return c.storedProcedure(b(\"LSWriteToPendingBackupsContext\"),d[23],\"\",c.i64.cast([0,1]),c.i64.cast([0,1]),c.i64.cast([0,1]),a[0],a[1],c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),a[4],a[5],void 0,void 0,a[3],a[6],a[7],a[8],void 0,d[18],d[19],d[20],a[12])},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?(d[25]=c.createArray(),d[27]=(d[25].push(\"Successfully issued message backup task. act thread id = \"),d[25]),d[27]=(d[25].push(a[0]),d[25]),d[27]=(d[25].push(\", otid = \"),d[25]),d[27]=(d[25].push(a[1]),d[25]),d[26]=d[25].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",\"\",d[26]].join(\"\")),c.resolve()):(d[25]=c.createArray(),d[27]=(d[25].push(\"Successfully issued message remove task. act thread id = \"),d[25]),d[27]=(d[25].push(a[0]),d[25]),d[27]=(d[25].push(\", otid = \"),d[25]),d[27]=(d[25].push(a[1]),d[25]),d[26]=d[25].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",\"\",d[26]].join(\"\")),c.resolve()):(d[25]=c.createArray(),d[27]=(d[25].push(\"Successfully issued thread remove task. act thread id = \"),d[25]),d[27]=(d[25].push(a[0]),d[25]),d[26]=d[25].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",\"\",d[26]].join(\"\")),c.resolve())},function(e){return a[9]!==void 0?(d[25]=a[9].get(\"act_thread_id\"),a[9],d[26]=a[9].get(\"backup_action\"),a[9],d[27]=a[9].get(\"toplevel_offline_threading_id\"),a[9],d[28]=a[9].get(\"message_timestamp_ms\"),a[9],d[29]=a[9].get(\"supplemental_key\"),a[9],d[30]=a[9].get(\"attachment_payload\"),a[9],c.storedProcedure(b(\"LSWriteToPendingProtobufBackupsContext\"),d[23],d[25],d[27],d[29],d[28],d[26],d[30],void 0)):c.resolve()},function(a){return d[24]=new c.Map(),d[24].set(\"task_id\",d[23]),a=[d[24],void 0],d[14]=a[0],d[15]=a[1],a}]):c.sequence([function(b){return d[18]=c.createArray(),d[21]=(d[18].push(\"Skipping the message upload since EB is disabled. act thread id = \"),d[18]),d[21]=(d[18].push(a[0]),d[18]),d[21]=(d[18].push(\", otid = \"),d[18]),d[21]=(d[18].push(a[1]),d[18]),d[19]=d[18].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",\"\",d[19]].join(\"\")),c.resolve()},function(a){return d[20]=new c.Map(),d[20].set(\"error_code\",c.i64.cast([0,24])),d[20].set(\"stored_procedure\",\"LSEncryptedBackupsIssueMessageBackupStoredProcedure\"),d[20].set(\"error_message\",\"\"),a=[void 0,d[20]],d[14]=a[0],d[15]=a[1],a}])},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageBackup] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"issueMessageBackup\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}c=a;g[\"default\"]=c}),98);\n__d(\"LSIssueMessageBackupStoredProcedure\",[\"LSIssueMessageBackup\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.echoDocument;d[5]=b.traceId;d[6]=b.error;d[7]=b.echoEncodingLatencyNs;d[8]=b.errorMessage;d[9]=b.protobufBackupContext;d[10]=b.tamThreadSubtype;d[11]=b.attachmentBackupContext;d[12]=b.isInstamadillo;return c(\"LSIssueMessageBackup\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSIssueMessageRemove\",[\"LSArrayGetObjectAt\",\"LSIsEncryptionVersionSecure\",\"LSIssueNewTaskAndGetTaskID\",\"LSLogMebClientEvent.nop\",\"LSWriteToPendingBackupsContext\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}(\"[EncryptedBackups][issueMessageRemove] Beginning execution.\"),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push(\"Skipping message upload since EB is disabled. act thread id = \"),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[14]=(d[11].push(\", otid = \"),d[11]),d[14]=(d[11].push(a[1]),d[11]),d[12]=d[11].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",\"\",d[12]].join(\"\")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set(\"error_code\",c.i64.cast([0,1])),d[13].set(\"stored_procedure\",\"LSEncryptedBackupsIssueMessageRemoveStoredProcedure\"),d[13].set(\"error_message\",\"\"),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[17]=f.backupTenancy,d[16]=f.encryptionVersion,c.i64.neq(void 0,void 0)?c.resolve(d[11]=void 0):c.sequence([function(a){return d[18]=c.createArray(),c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[28]=(d[18].push(c.i64.cast([0,0])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,2])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[28]=(d[18].push(c.i64.cast([0,2])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,3])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[28]=(d[18].push(c.i64.cast([0,3])),d[18]):0,c.storedProcedure(b(\"LSIsEncryptionVersionSecure\"),c.i64.cast([0,4])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[28]=(d[18].push(c.i64.cast([0,4])),d[18]):0,d[23]=c.createArray(),d[24]=c.i64.of_int32(d[18].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(a){return d[28]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[18],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=(d[23].push(d[29]),d[23])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[23].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation(\"Array\",b(\"LSArrayGetObjectAt\"),d[23],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(\",\"),d[25]=d[30]}])},function(a){return d[23].some(function(a){return c.i64.eq(d[16],a)})?d[26]=d[16]:d[26]=void 0,c.i64.neq(d[26],void 0)?d[27]=d[26]:d[27]=void 0,d[11]=d[27]}])},function(e){return c.i64.neq(d[11],void 0)?d[12]=d[11]:d[12]=c.i64.cast([0,0]),c.i64.neq(d[17],void 0)?d[13]=d[17]:d[13]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[18]=c.i64.cast([0,4]):d[18]=c.i64.cast([0,0]),d[19]=[\"eb_upload\",\":\",a[0]].join(\"\"),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b(\"LSIssueNewTaskAndGetTaskID\"),d[19],c.i64.cast([0,50026]),\"\",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.storedProcedure(b(\"LSWriteToPendingBackupsContext\"),d[21],\"\",c.i64.cast([0,2]),c.i64.cast([0,1]),c.i64.cast([0,1]),a[0],a[1],c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),void 0,a[4],void 0,void 0,a[3],a[5],void 0,void 0,void 0,void 0,void 0,d[18],!1)},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued message backup task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(\", otid = \"),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",\"\",d[24]].join(\"\")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued message remove task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(\", otid = \"),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",\"\",d[24]].join(\"\")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push(\"Successfully issued thread remove task. act thread id = \"),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",\"\",d[24]].join(\"\")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set(\"task_id\",d[21]),a=[d[22],void 0],d[14]=a[0],d[15]=a[1],a}]):c.sequence([function(b){return d[18]=c.createArray(),d[21]=(d[18].push(\"Skipping message upload since EB is disabled. act thread id = \"),d[18]),d[21]=(d[18].push(a[0]),d[18]),d[21]=(d[18].push(\", otid = \"),d[18]),d[21]=(d[18].push(a[1]),d[18]),d[19]=d[18].join(void 0||\"\"),function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",\"\",d[19]].join(\"\")),c.resolve()},function(a){return d[20]=new c.Map(),d[20].set(\"error_code\",c.i64.cast([0,24])),d[20].set(\"stored_procedure\",\"LSEncryptedBackupsIssueMessageRemoveStoredProcedure\"),d[20].set(\"error_message\",\"\"),a=[void 0,d[20]],d[14]=a[0],d[15]=a[1],a}])},function(a){return a=[d[14],d[15]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]=\"Finishing execution. Execution time: \",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=\" ms\",d[7]=\"\",function(a){c.logger(a).info(a)}([\"[EncryptedBackups][issueMessageRemove] \",d[7],d[8],d[7],d[9],d[7],d[10]].join(\"\")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,100])),c.i64.cast([0,0]))?(d[11]=\",\",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b(\"LSLogMebClientEvent.nop\"),\"issueMessageRemove\",[d[8],d[11],d[9],d[11],d[10]].join(\"\"),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSIssueMessageRemoveStoredProcedure\",[\"LSIssueMessageRemove\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.traceId;d[5]=b.error;return c(\"LSIssueMessageRemove\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSTamThreadSubtype\",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f[\"default\"]=a}),66);\n__d(\"MAWBridgeUploadMessageHandler\",[\"FBLogger\",\"I64\",\"LSDataTraceCheckPoint\",\"LSEncryptedBackupsBackupTenancy\",\"LSFactory\",\"LSIntEnum\",\"LSIssueMessageBackupStoredProcedure\",\"LSIssueMessageRemoveStoredProcedure\",\"LSMEBTaskCreationSource\",\"LSShape\",\"LSTamThreadSubtype\",\"MAWEBFrontendQPLLogger\",\"MAWEncryptedBackupUtils\",\"MAWJobDefinitions\",\"MAWReceiveToUploadUtils\",\"MAWTimeUtils\",\"MAWTimedJob\",\"MAWTraceUtils\",\"MAWWriteToMPSTables\",\"Promise\",\"WALogger\",\"asyncToGeneratorRuntime\",\"gkx\",\"isInstamadillo\",\"isInstamadilloEB\",\"qex\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose([\"[labyrinth_web] uploadMessage.authTs is null for the message\"]);k=function(){return a};return a}var l=c(\"requireDeferred\")(\"EncryptedBackupTaskIssuedFalcoEvent\").__setRef(\"MAWBridgeUploadMessageHandler\");function a(a,b){return m.apply(this,arguments)}function m(){m=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e){var f;if(c(\"isInstamadilloEB\")())return(j||(j=b(\"Promise\"))).resolve();var g=e.protoMsg,m=e.traceId,n=(yield d(\"MAWEncryptedBackupUtils\").getBackupTenancy(a,m,e.uploadTrackingInstanceKey));f=((f=e.uploadTrackingInstanceKey)!=null?f:e.traceId).toString();if(n==null||!(h||(h=d(\"I64\"))).equal(n,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSEncryptedBackupsBackupTenancy\").PRODUCTION))){d(\"MAWEBFrontendQPLLogger\").addPointAndEndFlowUploadMessageBackup(m,\"user_device_not_enrolled_invalid_echo_request\");if(e.uploadTrackingInstanceKey!=null){n=e.uploadTrackingInstanceKey;d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(n,\"user_device_not_enrolled_invalid_echo_request\");d(\"MAWEBFrontendQPLLogger\").endEBUploadTracking(n)}d(\"MAWTraceUtils\").recordCheckpointForTrace(f,(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d(\"MAWTraceUtils\").recordInvalidUploadRequestAndFlushTrace(f,i.ofNumber(c(\"LSDataTraceCheckPoint\").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}m=e.echoDocument;n=e.authTs;if(n==null){d(\"WALogger\").ERROR(k());return}if(e.actionType===1){var o=e.echoEncodingLatencyNs,p=e.errorCode,q=e.errorMessage;d(\"MAWEBFrontendQPLLogger\").addPointUploadMessageBackup(e.traceId,\"issuing_message_backup\");e.uploadTrackingInstanceKey!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(e.uploadTrackingInstanceKey,\"issuing_message_backup\");var r;if(c(\"gkx\")(\"23966\")&&g!=null)try{var s;yield d(\"MAWWriteToMPSTables\").writeToMPSTables(a,g,e.threadId);r=d(\"LSShape\").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(i||(i=d(\"LSIntEnum\"))).ofNumber(g.backupActionType),message_timestamp_ms:d(\"MAWTimeUtils\").toTimestamp(g.serverTs),supplemental_key:g.supplementalKey,toplevel_offline_threading_id:(s=(s=g.originalMsgProtocolId)==null?void 0:s.externalId)!=null?s:g.msgId.externalId})}catch(a){c(\"FBLogger\")(\"labyrinth_web\").mustfix(\"[labyrinth_web] Error writing to MPSTables for the upload message\")}yield c(\"LSIssueMessageBackupStoredProcedure\")(c(\"LSFactory\")(a),{actThreadId:e.threadId,authoritativeTs:(h||(h=d(\"I64\"))).of_float(n*1e3),echoDocument:(s=m)!=null?s:\"\",echoEncodingLatencyNs:o!=null?(h||(h=d(\"I64\"))).of_float(o):void 0,error:p!=null?(i||(i=d(\"LSIntEnum\"))).ofNumber(p):void 0,errorMessage:q!=null?q:void 0,isInstamadillo:c(\"isInstamadillo\")(),otid:e.messageId,protobufBackupContext:r,source:(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSMEBTaskCreationSource\").TAM),tamThreadSubtype:i.ofNumber(c(\"isInstamadillo\")()?c(\"LSTamThreadSubtype\").BLEND_DUAL_SEND:c(\"LSTamThreadSubtype\").STANDARD),traceId:f});e.uploadTrackingInstanceKey!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(e.uploadTrackingInstanceKey,\"upload_tracking_upload_task_issued\");d(\"MAWReceiveToUploadUtils\").checkUploadEligbility(e.messageId)&&void l.load().then(function(a){return a.log(function(){return{message_id:e.messageId,trace_id:e.traceId}})});(c(\"gkx\")(\"23947\")||c(\"qex\")._(\"229\")===!0)&&void d(\"MAWTimedJob\").TimedUIJobStarters.fireAndForget(d(\"MAWJobDefinitions\").jobSerializers.postBackupWriteCompletionHook([f]))}else e.actionType===2&&(yield c(\"LSIssueMessageRemoveStoredProcedure\")(c(\"LSFactory\")(a),{actThreadId:e.threadId,authoritativeTs:(h||(h=d(\"I64\"))).of_float(n*1e3),otid:e.messageId,source:(i||(i=d(\"LSIntEnum\"))).ofNumber(c(\"LSMEBTaskCreationSource\").TAM),traceId:f}),e.uploadTrackingInstanceKey!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(e.uploadTrackingInstanceKey,\"upload_tracking_remove_task_issued\"))});return m.apply(this,arguments)}g.call=a}),98);\n__d(\"MAWBridgeUploadMessageByBatchHandler\",[\"MAWBridgeTraceRecordCheckpointHandler\",\"MAWBridgeUploadMessageGQLHandler\",\"MAWBridgeUploadMessageHandler\",\"MAWEBFrontendQPLLogger\",\"Promise\",\"QPLUserFlow\",\"WALogger\",\"asyncToGeneratorRuntime\",\"gkx\",\"promiseDone\",\"qex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([\"[labyrinth][web] Error in GQL upload batch of size \",\" , error: \",\"\"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([\"[labyrinth][web] Successfully completed GQL upload batch of size \",\"\"]);j=function(){return a};return a}function a(a,b){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e){if(c(\"gkx\")(\"381\")||c(\"qex\")._(\"973\")===!0){for(var f of e.messages)f.uploadTrackingInstanceKey!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(f.uploadTrackingInstanceKey,\"upload_tracking_bridge_handler\");try{yield d(\"MAWBridgeUploadMessageGQLHandler\").call(a,e.messages),d(\"WALogger\").LOG(j(),e.messages.length),l(e,\"gql_upload_complete\")}catch(a){l(e,\"upload_failed\"),d(\"WALogger\").ERROR(i(),e.messages.length,a)}return(h||(h=b(\"Promise\"))).resolve()}e.qpl.forEach(function(a){return c(\"QPLUserFlow\").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c(\"promiseDone\")(d(\"MAWBridgeTraceRecordCheckpointHandler\").call(a,b))});for(f of e.messages)f.uploadTrackingInstanceKey!=null&&d(\"MAWEBFrontendQPLLogger\").addPointEBUploadTracking(f.uploadTrackingInstanceKey,\"upload_tracking_bridge_handler\"),yield d(\"MAWBridgeUploadMessageHandler\").call(a,f);return(h||(h=b(\"Promise\"))).resolve()});return k.apply(this,arguments)}function l(a,b){for(a of a.messages){var c=a.uploadTrackingInstanceKey;c!=null&&d(\"MAWEBFrontendQPLLogger\").recordPointAndEndFlow(c,b)}}g.call=a}),98);\n__d(\"LSOptimisticUpdateThreadDisappearingSetting\",[\"LSIssueNewError\",\"LSIssueNewTask\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[[\"timestampMs\",\"DESC\"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b(\"LSIssueNewError\"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set(\"wa_jid\",void 0),d[2].set(\"thread_key\",a[0]),d[2].set(\"disappearing_ttl\",a[1]),d[2].set(\"updated_timestamp\",a[2]),d[2].set(\"updated_by\",a[3]),d[2].set(\"sync_group\",c.i64.cast([0,95])),d[3]=c.toJSON(d[2]),c.storedProcedure(b(\"LSIssueNewTask\"),\"disappearing_setting\",c.i64.cast([0,714]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSOptimisticUpdateThreadDisappearingSettingStoredProcedure\",[\"LSOptimisticUpdateThreadDisappearingSetting\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.threadKey;d[1]=b.disappearingTtl;d[2]=b.updatedTimestamp;d[3]=b.updatedBy;return c(\"LSOptimisticUpdateThreadDisappearingSetting\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"MAWEphemeralSettingsUpdate\",[\"FBLogger\",\"I64\",\"LSOptimisticUpdateThreadDisappearingSettingStoredProcedure\",\"MAWChatJid\",\"MAWCurrentUser\",\"MAWEphemeralMsgAutoResetSystemId\",\"Promise\",\"asyncToGeneratorRuntime\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=c(\"requireDeferred\")(\"LSDatabaseSingletonLazyWrapper\").__setRef(\"MAWEphemeralSettingsUpdate\"),k=c(\"requireDeferred\")(\"LSFactory\").__setRef(\"MAWEphemeralSettingsUpdate\"),l=c(\"requireDeferred\")(\"WATimeUtils\").__setRef(\"MAWEphemeralSettingsUpdate\");function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,c,e){a=(yield a.threads.get(e));if(a!=null){e=a.disappearingSettingUpdatedTs;a=a.disappearingSettingTtl;if(e==null||a==null)return!0;if((i||(i=d(\"I64\"))).lt(e,(i||(i=d(\"I64\"))).of_float(c))&&!(i||(i=d(\"I64\"))).equal(a,(i||(i=d(\"I64\"))).of_int32(b)))return!0}return!1});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g){return p.apply(this,arguments)}function p(){p=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e,f,g,j,l,n){var o=(yield m(a,e,f,j));if(!o)return(h||(h=b(\"Promise\"))).resolve();l&&c(\"FBLogger\")(\"labyrinth_web\").addMetadata(\"LABYRINTH_WEB\",\"APP_VERSION\",\"OCCAM_EPHEMERAL_SETTINGS_UPDATE\").info(\"[Occam][Web] Ephemeral Settings Updated.\");o=(yield k.load());return c(\"LSOptimisticUpdateThreadDisappearingSettingStoredProcedure\")(o(a),{disappearingTtl:(i||(i=d(\"I64\"))).of_int32(e),threadKey:j,updatedBy:i.of_string(g?c(\"MAWEphemeralMsgAutoResetSystemId\"):(l=n)!=null?l:d(\"MAWCurrentUser\").getID()),updatedTimestamp:i.of_float(f)})});return p.apply(this,arguments)}function a(a,b,c,d){return q.apply(this,arguments)}function q(){q=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,c,d){var e=(yield j.load());e=(yield e());return e.runInTransaction(function(e){return o(e,a,b,c,d,!1)},\"readwrite\")});return q.apply(this,arguments)}function e(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,c,e,f,g){var i=(yield j.load());i=(yield i());return i.runInTransaction(function(){var i=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(i){var j=(yield d(\"MAWChatJid\").toThreadKeyMaybe(i,f));return j!=null?o(i,a,(yield l.load()).castUnixTimeToMillisTime(c),e,j,g):(h||(h=b(\"Promise\"))).resolve()});return function(a){return i.apply(this,arguments)}}(),\"readwrite\")});return r.apply(this,arguments)}g.updateEphemeralSettingsWithTxn=o;g.updateEphemeralSettings=a;g.updateEphemeralSettingsByChatJid=e}),98);\n__d(\"ArmadilloCutoverClientFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"699\");b=d(\"FalcoLoggerInternal\").create(\"armadillo_cutover_client\",a);e=b;g[\"default\"]=e}),98);\n__d(\"WebStorageManagerEstimatesFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"2144\");b=d(\"FalcoLoggerInternal\").create(\"web_storage_manager_estimates\",a);e=b;g[\"default\"]=e}),98);\n__d(\"EncryptedBackupTaskIssuedFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5726\");b=d(\"FalcoLoggerInternal\").create(\"encrypted_backup_task_issued\",a);e=b;g[\"default\"]=e}),98);\/*FB_PKG_DELIM*\/\n__d(\"ArbiterMixin\",[\"Arbiter\",\"guid\"],(function(a,b,c,d,e,f,g){var h=\"arbiter$\"+c(\"guid\")(),i=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return i.call(this,h)?this[h]:this[h]=new(c(\"Arbiter\"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};b=a;g[\"default\"]=b}),98);\n__d(\"AsyncDOM\",[\"CSS\",\"DOM\",\"FBLogger\"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b(\"DOM\").scry(h||document.documentElement,g)[0]);h||b(\"FBLogger\")(\"async_dom\").warn(\"Could not find relativeTo element for %s AsyncDOM operation based on selector: %s\",f,g);switch(f){case\"hide\":b(\"CSS\").hide(h);break;case\"show\":b(\"CSS\").show(h);break;case\"setContent\":b(\"DOM\").setContent(h,e);break;case\"appendContent\":b(\"DOM\").appendContent(h,e);break;case\"prependContent\":b(\"DOM\").prependContent(h,e);break;case\"insertAfter\":b(\"DOM\").insertAfter(h,e);break;case\"insertBefore\":b(\"DOM\").insertBefore(h,e);break;case\"remove\":b(\"DOM\").remove(h);break;case\"replace\":b(\"DOM\").replace(h,e);break;default:b(\"FBLogger\")(\"async_dom\").warn(\"Received invalid command %s for AsyncDOM operation\",f)}}}};e.exports=a}),null);\n__d(\"AsyncResponse\",[\"invariant\",\"Bootloader\",\"FBLogger\",\"HTML\",\"WebDriverConfig\"],(function(a,b,c,d,e,f,g,h){\"use strict\";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||\"\",b=this.getErrorDescriptionString()||\"\",c=new Error(a.toString()+\": \"+b);Object.assign(c,{code:this.error,description:this.errorDescription||\"\",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c(\"HTML\").isHTML(a)){var b=new(c(\"HTML\"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(\/^\\n\/,\"\");a=a.toLowerCase();b=b.split(\"\\r\\n\");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(\": \");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c(\"FBLogger\")(\"async_response\").catching(b.toError()).warn(\"default error handler called\")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c(\"Bootloader\").loadModules([\"ExceptionDialog\"],function(c){return c.showAsyncError(a,b)},\"AsyncResponse\")};return a}();g[\"default\"]=a}),98);\n__d(\"FetchStreamConfig\",[],(function(a,b,c,d,e,f){a=Object.freeze({delim:\"\/*<!-- fetch-stream -->*\/\"});f[\"default\"]=a}),66);\n__d(\"StreamBlockReader\",[\"Promise\",\"regeneratorRuntime\"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){var c=this;if(!a.getReader)throw new Error(\"No getReader method found on given object\");this.$3=a.getReader();this.$1=\"\";this.$2=null;this.$4=!1;this.$5=\"utf-8\";this.$6=\"\";this.$9=!1;this.$8=function(){return(g||(g=b(\"Promise\"))).reject(\"Sorry, you are somehow using this too early.\")};this.$7=new(g||(g=b(\"Promise\")))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error(\"Decoder already in use, encoding cannot be changed\");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error(\"TextDecoder is not supported here\");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error(\"Something else is already reading from this reader\");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b(\"regeneratorRuntime\").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!==\"\")){f.next=4;break}a=this.$6;this.$6=\"\";return f.abrupt(\"return\",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error(\"You cannot read from a stream that is done\");case 6:f.next=8;return b(\"regeneratorRuntime\").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt(\"return\",e?this.$10().decode(e,{stream:!d}):\"\");case 14:case\"end\":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b(\"regeneratorRuntime\").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt(\"return\",a);case 4:case\"end\":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b(\"regeneratorRuntime\").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b(\"regeneratorRuntime\").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt(\"return\",c.sent);case 3:case\"end\":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b(\"regeneratorRuntime\").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error(\"cannot read empty string\");case 2:this.$11(),c=\"\",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b(\"regeneratorRuntime\").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt(\"continue\",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt(\"return\",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error(\"Breakpoint not found\");case 26:case\"end\":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b(\"regeneratorRuntime\").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c=\"\";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b(\"regeneratorRuntime\").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt(\"return\",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt(\"return\",c);case 22:case\"end\":return g.stop()}},null,this)};c.waitUntilDone=function(){return b(\"regeneratorRuntime\").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt(\"return\",this.$7);case 1:case\"end\":return a.stop()}},null,this)};return a}();f[\"default\"]=a}),66);\n__d(\"mixin\",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f[\"default\"]=a}),66);\n__d(\"FetchStreamTransport\",[\"ArbiterMixin\",\"FetchStreamConfig\",\"StreamBlockReader\",\"TimeSlice\",\"URI\",\"asyncToGeneratorRuntime\",\"mixin\",\"nullthrows\"],(function(a,b,c,d,e,f,g){var h,i=0;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error(\"fetch stream transport is not supported here\");c=a.call(this)||this;c.$FetchStreamTransport$p_6=null;c.$FetchStreamTransport$p_1=b;c.$FetchStreamTransport$p_3=!1;c.$FetchStreamTransport$p_4=!1;c.$FetchStreamTransport$p_5=!1;c.$FetchStreamTransport$p_2=++i;return babelHelpers.assertThisInitialized(c)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.hasFinished=function(){return this.$FetchStreamTransport$p_5};e.getRequestURI=function(){return new(h||(h=c(\"URI\")))(this.$FetchStreamTransport$p_1).addQueryData({__a:1,__adt:this.$FetchStreamTransport$p_2,__req:\"fetchstream_\"+this.$FetchStreamTransport$p_2,ajaxpipe_fetch_stream:1})};e.send=function(){if(this.$FetchStreamTransport$p_3)throw new Error(\"FetchStreamTransport instances cannot be re-used.\");this.$FetchStreamTransport$p_3=!0;var a=new Request(this.getRequestURI().toString(),{mode:\"same-origin\",credentials:\"include\"});this.$FetchStreamTransport$p_6=c(\"TimeSlice\").getGuardedContinuation(\"FetchStreamTransport: waiting on first response\");a=self.fetch(a,{redirect:\"follow\"});this.$FetchStreamTransport$p_7(a)};e.$FetchStreamTransport$p_7=function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){var b=this,d;try{d=(yield a)}catch(a){this.abort()}if(!d||!d.body||!d.ok){this.abort();return}var e=new(c(\"StreamBlockReader\"))(d.body);a=function*(){var a=(yield e.readUntilStringOrEnd(c(\"FetchStreamConfig\").delim));if(b.$FetchStreamTransport$p_4)return\"break\";c(\"nullthrows\")(b.$FetchStreamTransport$p_6)(function(){var d=JSON.parse(a);e.isDone()||d.finished?b.$FetchStreamTransport$p_5=!0:b.$FetchStreamTransport$p_6=c(\"TimeSlice\").getGuardedContinuation(\"FetchStreamTransport: waiting on next response\");b.inform(\"response\",d.content)})};while(!this.$FetchStreamTransport$p_5&&!this.$FetchStreamTransport$p_4){var f=(yield* a());if(f===\"break\")break}});function d(b){return a.apply(this,arguments)}return d}();e.abort=function(){var a=this;if(this.$FetchStreamTransport$p_4||this.$FetchStreamTransport$p_5)return;this.$FetchStreamTransport$p_4=!0;this.$FetchStreamTransport$p_5=!0;if(this.$FetchStreamTransport$p_6){var b=this.$FetchStreamTransport$p_6;b(function(){a.inform(\"abort\")})}else this.inform(\"abort\")};return d}(c(\"mixin\")(c(\"ArbiterMixin\")));g[\"default\"]=a}),98);\n__d(\"HTTPErrors\",[\"emptyFunction\"],(function(a,b,c,d,e,f,g){function a(a){return{summary:\"HTTP Error\",description:\"Unknown HTTP error #\"+a}}b={get:a,getAll:c(\"emptyFunction\").thatReturns(new Map())};d=b;g[\"default\"]=d}),98);\n__d(\"JSONPTransport\",[\"ArbiterMixin\",\"DOM\",\"HTML\",\"TimeSlice\",\"URI\",\"mixin\",\"setTimeout\"],(function(a,b,c,d,e,f,g){var h,i={},j=2;function k(a){delete i[a]}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$JSONPTransport$p_3=!1;c.$JSONPTransport$p_7=b;i[c.getID()]=babelHelpers.assertThisInitialized(c);return c}var d=b.prototype;d.getID=function(){return this.$JSONPTransport$p_4||(this.$JSONPTransport$p_4=j++)};d.hasFinished=function(){return!(this.getID()in i)};d.getRequestURI=function(){return new(h||(h=c(\"URI\")))(this.$JSONPTransport$p_7).addQueryData({__a:1,__adt:this.getID(),__req:\"jsonp_\"+this.getID()})};d.getTransportFrame=function(){if(this.$JSONPTransport$p_5)return this.$JSONPTransport$p_5;var a=\"transport_frame_\"+this.getID();a=c(\"HTML\")('<iframe class=\"hidden_elem\" name=\"'+a+'\" src=\"javascript:void(0)\" \/>');return this.$JSONPTransport$p_5=c(\"DOM\").appendContent(document.body,a)[0]};d.send=function(){var a=this;this.getTransportFrame().onload=function(){return a.$JSONPTransport$p_8()};this.getTransportFrame().src=this.getRequestURI().toString();this.$JSONPTransport$p_2=c(\"TimeSlice\").getGuardedContinuation(\"JSONPTransport: waiting for first response\")};d.handleResponse=function(a){var b=this;this.$JSONPTransport$p_2==null?void 0:this.$JSONPTransport$p_2(function(){b.inform(\"response\",a),b.hasFinished()?c(\"setTimeout\")(function(){return b.$JSONPTransport$p_9()},0):b.$JSONPTransport$p_2=c(\"TimeSlice\").getGuardedContinuation(\"JSONPTransport: waiting for next response\")})};d.abort=function(){if(this.$JSONPTransport$p_1)return;this.$JSONPTransport$p_1=!0;this.$JSONPTransport$p_9();k(this.getID());this.inform(\"abort\")};d.$JSONPTransport$p_8=function(){this.$JSONPTransport$p_3||this.abort()};d.$JSONPTransport$p_9=function(){this.$JSONPTransport$p_5&&(c(\"DOM\").remove(this.$JSONPTransport$p_5),this.$JSONPTransport$p_5=null)};return b}(c(\"mixin\")(c(\"ArbiterMixin\")));a.respond=function(a,b,c){var d=i[a];if(d){d.$JSONPTransport$p_3=!0;c||k(a);b;if(typeof b===\"string\")c=JSON.parse(b);else{c=JSON.parse((a=JSON.stringify(b))!=null?a:\"null\")}d.handleResponse(c)}};a.respond=c(\"TimeSlice\").guard(a.respond,\"JSONPTransport.respond\",{root:!0});g[\"default\"]=a}),98);\n__d(\"SessionName\",[\"SessionNameConfig\"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b(\"SessionNameConfig\").seed}}}),null);\n__d(\"bind\",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!==\"string\")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return\"bound lazily: \"+a[b]};return d}e.exports=a}),null);\n__d(\"executeAfter\",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);\n__d(\"isSparkDotMetaDotComURI\",[],(function(a,b,c,d,e,f){var g=new RegExp(\"(^|\\\\.)spark\\\\.meta\\\\.com$\",\"i\"),h=[\"https\"];function a(a){if(a.isEmpty()&&a.toString()!==\"#\")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f[\"default\"]=a}),66);\n__d(\"AsyncRequest\",[\"errorCode\",\"fbt\",\"invariant\",\"Arbiter\",\"AsyncDOM\",\"AsyncRequestConfig\",\"AsyncResponse\",\"Bootloader\",\"CSS\",\"DTSG\",\"DTSG_ASYNC\",\"Deferred\",\"Env\",\"ErrorGuard\",\"Event\",\"FBLogger\",\"FetchStreamTransport\",\"HTTPErrors\",\"HasteResponse\",\"PHPQuerySerializer\",\"Parent\",\"Promise\",\"ResourceTimingsStore\",\"ResourceTypes\",\"Run\",\"ScriptPath\",\"ServerJS\",\"SessionName\",\"TimeSlice\",\"URI\",\"UserAgent_DEPRECATED\",\"ZeroRewrites\",\"bind\",\"clearTimeout\",\"emptyFunction\",\"executeAfter\",\"fb-error\",\"ge\",\"getAsyncHeaders\",\"getAsyncParams\",\"gkx\",\"goURI\",\"isBulletinDotComURI\",\"isEmpty\",\"isFacebookURI\",\"isHorizonDotMetaDotComURI\",\"isInternalFBURI\",\"isMessengerDotComURI\",\"isSparkDotMetaDotComURI\",\"isWorkDotMetaDotComURI\",\"isWorkplaceDotComURI\",\"isWorkroomsDotComURI\",\"performanceAbsoluteNow\",\"promiseDone\",\"replaceTransportMarkers\",\"setTimeout\",\"setTimeoutAcrossTransitions\",\"unrecoverableViolation\",\"uriIsRelativePath\"],(function(a,b,c,d,e,f,g,h,i,j){\"use strict\";var k,l,m,n,o,p,q;f=19e3;h=500;var r=1006,s=1004,t=1010,u=new Set([h,t,s,r]),v=!1;d(\"Run\").onAfterUnload(function(){v=!0});function w(){return v}function x(a){return\"onprogress\"in a}function y(a){return\"upload\"in a&&\"onprogress\"in a.upload}function z(a){return\"withCredentials\"in a}function A(a){return a.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function B(a){a=!a||typeof a===\"function\";a||c(\"FBLogger\")(\"asyncresponse\").mustfix(\"AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.\");return a}var C=2,D=C,E=!1;c(\"Arbiter\").subscribe(\"page_transition\",function(a,b){!E?D=b.id:E=!1});var F=\"for (;;);\",G=F.length,H=function(){function a(b){var e=this,f;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(a,b){var d=a.getError();e.clearStatusIndicator();if(!e._isRelevant()||d===t){e.abort();return}if(e._isServerDialogErrorCode(d)){var f=d==1357008||d==1357007;e.interceptHandler(a);d==1357041?e._solveQuicksandChallenge(a):d==1357007?e._displayServerDialog(a,f,!0):e._displayServerDialog(a,f)}else if(e.initialHandler(a)!==!1){c(\"clearTimeout\")(e.timer);try{b(a)}catch(b){e.finallyHandler(a);throw b}e.finallyHandler(a)}};this._onStateChange=function(){var b=e.transport;if(!b)return;try{a._inflightCount--;d(\"ResourceTimingsStore\").measureResponseReceived(c(\"ResourceTypes\").XHR,e.resourceTimingStoreUID);try{b.getResponseHeader(\"X-FB-Debug\")&&(e._xFbServer=b.getResponseHeader(\"X-FB-Debug\"),c(\"fb-error\").ErrorXFBDebug.add(e._xFbServer))}catch(a){}if(b.status>=200&&b.status<300)a.lastSuccessTime=Date.now(),e._handleXHRResponse(b);else if(d(\"UserAgent_DEPRECATED\").webkit()&&typeof b.status===\"undefined\")e._invokeErrorHandler(1002);else if(c(\"AsyncRequestConfig\").retryOnNetworkError&&A(b)&&e.remainingRetries>0&&!e._requestTimeout){e.remainingRetries--;delete e.transport;e.send(!0);return}else e._invokeErrorHandler();e.getOption(\"asynchronous_DEPRECATED\")!==!1&&delete e.transport}catch(a){if(w())return;delete e.transport;e.remainingRetries>0?(e.remainingRetries--,e.send(!0)):(e.getOption(\"suppressErrorAlerts\")||c(\"FBLogger\")(\"AsyncRequest\").catching(a).mustfix(\"AsyncRequest exception when attempting to handle a state change\"),e._invokeErrorHandler(1007))}};this._handleTimeout=function(){e.continuation.last(function(){e._requestTimeout=!0;var a=e.timeoutHandler;e.abandon();a&&a(e);c(\"setTimeout\")(function(){c(\"Arbiter\").inform(\"AsyncRequest\/timeout\",{request:e})},0)})};this.continuation=c(\"TimeSlice\").getPlaceholderReusableContinuation();this.transport=null;this.method=\"POST\";this.uri=\"\";this.timeout=null;this.timer=null;this.initialHandler=f=c(\"emptyFunction\");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=c(\"AsyncResponse\").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=f;this.finallyHandler=f;this.abortHandler=f;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass=\"\";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID=\"-\";this.resourceTimingStoreUID=d(\"ResourceTimingsStore\").getUID(c(\"ResourceTypes\").XHR,b!=null?b.toString():\"\");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=c(\"bind\")(this,\"errorHandler\");b!==void 0&&this.setURI(b);this.setAllowCrossPageTransition(c(\"AsyncRequestConfig\").asyncRequestsSurviveTransitionsDefault||!1)}var f=a.prototype;f._dispatchResponse=function(a){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(t);return}if(this.initialHandler(a)===!1)return;c(\"clearTimeout\")(this.timer);var b,d=this.getHandler();if(d)try{b=this._shouldSuppressJS(d(a))}catch(b){a.is_last&&this.finallyHandler(a);throw b}b||this._handleJSResponse(a);a.is_last&&this.finallyHandler(a)};f._shouldSuppressJS=function(b){return b===a.suppressOnloadToken};f._handlePreDisplayServerJS=function(a,b){var d=!1,e=[],f=function(){if(d){c(\"FBLogger\")(\"AsyncResponse\").warn(\"registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.\");return function(){}}var a,b=new(c(\"Deferred\"))();e.push(b.getPromise());return c(\"TimeSlice\").guard(function(){a&&c(\"clearTimeout\")(a),b.resolve()},\"AsyncRequestDisplayBlockingEvent\",{propagationType:c(\"TimeSlice\").PropagationType.EXECUTION})};a.handle(b,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:f}});d=!0;return e};f._hasEvalDomOp=function(a){return a&&a.length?a.some(function(a){return a[0]===\"eval\"}):!1};f._handleJSResponse=function(a){var b=this.getRelativeTo(),e=a.domops,f=a.dtsgToken,g=a.dtsgAsyncGetToken,h=a.jsmods,i=a.savedServerJSInstance;i&&i instanceof c(\"ServerJS\")?i=i:i=new(c(\"ServerJS\"))();i.setRelativeTo(b);if(h){var j={define:h.define,instances:h.instances,markup:h.markup};delete h.define;delete h.instances;delete h.markup;this._hasEvalDomOp(e)&&(j.elements=h.elements,delete h.elements);i.handle(j)}j=new(m||(m=c(\"URI\")))(this.uri);(!j.getDomain()&&!j.getProtocol()||document.location.origin===j.getOrigin())&&(f&&d(\"DTSG\").setToken(f),g&&d(\"DTSG_ASYNC\").setToken(g));e&&(q||(q=c(\"ErrorGuard\"))).applyWithGuard(function(){return d(\"AsyncDOM\").invoke(e,b)},null,[],{errorType:\"warn\"});h&&i.handle(h);this._handleJSRegisters(a,\"onload\");this._handleJSRegisters(a,\"onafterload\")};f._handleJSRegisters=function(a,b){a=a[b];if(a)for(b=0;b<a.length;b++){var d=null,e=a[b],f=e.match(\/^\\\"caller:([^\\\"]+?)\\\";(.*)\/);f!=null&&(d=f[1],e=f[2]);(q||(q=c(\"ErrorGuard\"))).applyWithGuard(new Function(e),this,[]);c(\"FBLogger\")(\"comet_infra\").info(\"Detected dynamic new Function(...) call in AsyncRequest._handleJSRegisters(...).\",new(m||(m=c(\"URI\")))(this.uri).getPath(),d)}};f.invokeResponseHandler=function(a){var e=this;if(typeof a.redirect!==\"undefined\"){c(\"setTimeout\")(function(){e.setURI(a.redirect,!0).send()},0);return}if(a.bootloadOnly!==void 0){var f=typeof a.bootloadOnly===\"string\"?JSON.parse(a.bootloadOnly):a.bootloadOnly,g=function(a){c(\"TimeSlice\").guard(function(){c(\"Bootloader\").loadPredictedResourceMap(a)},\"Bootloader.loadPredictedResourceMap\",{root:!0})()};for(f of f)g(f);return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===c(\"emptyFunction\")&&this.finallyHandler===c(\"emptyFunction\"))return;var h=a.asyncResponse;if(typeof h!==\"undefined\"){if(!this._isRelevant()){this._invokeErrorHandler(t);return}h.updateScriptPath&&c(\"ScriptPath\").set(h.updateScriptPath.path,h.updateScriptPath.token,h.updateScriptPath.extra_info);h.lid&&(this._responseTime=Date.now(),this.lid=h.lid);d(\"HasteResponse\").handleSRPayload((g=h.hsrp)!=null?g:{});var i,j;if(h.getError()&&!h.getErrorIsWarning()){f=this.getErrorHandler().bind(this);i=(q||(q=c(\"ErrorGuard\"))).guard(this._dispatchErrorResponse,{name:\"AsyncRequest#_dispatchErrorResponse for \"+this.getURI()});i=i.bind(this,h,f);j=\"error\"}else{i=(q||(q=c(\"ErrorGuard\"))).guard(this._dispatchResponse.bind(this),{name:\"AsyncRequest#_dispatchResponse for \"+this.getURI()});i=i.bind(this,h);j=\"response\";g=h.domops;if(!this._delayPreDisplayJS&&h.jsmods&&h.jsmods.pre_display_requires&&!this._hasEvalDomOp(g)){f=h.jsmods;g={define:f.define,instances:f.instances,markup:f.markup};delete f.define;delete f.instances;delete f.markup;g.pre_display_requires=f.pre_display_requires;delete f.pre_display_requires;f=new(c(\"ServerJS\"))();f.setRelativeTo(this.getRelativeTo());h.savedServerJSInstance=f;var k=this._handlePreDisplayServerJS(f,g);if(k&&k.length){var m=i;i=function(){c(\"promiseDone\")((l||(l=b(\"Promise\"))).all(k).then(m))}}}}var o=(n||(n=c(\"performanceAbsoluteNow\")))();i=c(\"executeAfter\")(i,function(){c(\"Arbiter\").inform(\"AsyncRequest\/\"+j,{request:e,response:h,ts:o})});this.preBootloadHandler&&this.preBootloadHandler(h);c(\"Bootloader\").loadResources((f=h.allResources)!=null?f:[],{onAll:c(\"AsyncRequestConfig\").immediateDispatch?i:function(){c(\"setTimeout\")(i,0)}})}else typeof a.transportError!==\"undefined\"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};f._invokeErrorHandler=function(a){var b=this,d=this.transport;if(!d)return;var e;if(this.responseText===\"\")e=1002;else if(this._requestAborted)e=1011;else{try{e=a||d.status||s}catch(a){e=1005}!1===navigator.onLine&&(e=r)}var f,g;a=!0;if(e===r)g=i._(\"__JHASH__zia6hGr6i8P__JHASH__\"),f=i._(\"__JHASH__PjKFkAw4Nck__JHASH__\");else if(e>=300&&e<=399){g=i._(\"__JHASH__SUtyZBh0Rzk__JHASH__\");f=i._(\"__JHASH__StinKHRkRou__JHASH__\");var h=d.getResponseHeader(\"Location\");h&&c(\"goURI\")(h,!0);a=!0}else g=i._(\"__JHASH__zR4dpqEC6W7__JHASH__\"),f=i._(\"__JHASH__7UBdKMXdKi6__JHASH__\");var j=new(c(\"AsyncResponse\"))(this,d);Object.assign(j,{error:e,errorSummary:g,errorDescription:f,silentError:a});c(\"setTimeout\")(function(){c(\"Arbiter\").inform(\"AsyncRequest\/error\",{request:b,response:j})},0);if(w()&&!this.getOption(\"handleErrorAfterUnload\"))return;if(!this.transportErrorHandler){c(\"FBLogger\")(\"asyncresponse\").mustfix(\"Async request to %s failed with a %d error, but there was no error handler available to deal with it.\",this.getURI(),e);return}h=this.getTransportErrorHandler().bind(this);!(this.getOption(\"suppressErrorAlerts\")||u.has(e))?c(\"FBLogger\")(\"asyncresponse\").addToCategoryKey(String(e)).mustfix(\"Async request failed with error %s: %s when requesting %s\",e,f.toString(),this.getURI()):u.has(e)&&c(\"FBLogger\")(\"asyncresponse\").addToCategoryKey(String(e)).warn(\"Async request failed with error %s: %s when requesting %s\",e,f.toString(),this.getURI());(q||(q=c(\"ErrorGuard\"))).applyWithGuard(this._dispatchErrorResponse,this,[j,h])};f._isServerDialogErrorCode=function(a){return a==1357008||a==1357007||a==1357041||a==1442002||a==1357001};f._solveQuicksandChallenge=function(a){var b=this,d=a.getPayload();c(\"Bootloader\").loadModules([\"QuickSandSolver\"],function(a){a.solveAndSendRequestBack(b,d)},\"AsyncRequest\")};f._displayServerDialog=function(a,b,d){var e=this;d===void 0&&(d=!1);var f=a.getPayload();if(f.__dialog!==void 0){this._displayServerLegacyDialog(a,b);return}b=f.__dialogx;new(c(\"ServerJS\"))().handle(b);if(f.__should_use_mwa_reauth===!0){c(\"Bootloader\").loadModules([\"MWADeveloperReauthBarrier\"],function(b){b.registerRequest(f.__dialogID,e,a)},\"AsyncRequest\");return}c(\"Bootloader\").loadModules([\"ConfirmationDialog\"],function(b){b.setupConfirmation(a,e,d)},\"AsyncRequest\")};f._displayServerLegacyDialog=function(a,b){var d=this,e=a.getPayload().__dialog;if(c(\"gkx\")(\"20935\")){var f;c(\"FBLogger\")(\"comet_infra\").addMetadata(\"COMET_INFRA\",\"ERROR_CODE\",a.getError().toString()).addMetadata(\"COMET_INFRA\",\"ERROR_URL\",(f=(f=a.request)==null?void 0:f.getURI())!=null?f:\"unknown\").mustfix(\"AsyncRequest._displayServerLegacyDialog called in Comet\")}c(\"Bootloader\").loadModules([\"Dialog\"],function(c){c=new c(e);b&&c.setHandler(d._displayConfirmationHandler.bind(d,c));c.setCancelHandler(function(){var b=d.getServerDialogCancelHandler();try{b&&b(a)}catch(a){throw a}finally{d.finallyHandler(a)}}).setCausalElement(d.relativeTo).show()},\"AsyncRequest\")};f._displayConfirmationHandler=function(a){this.data.confirmed=1,Object.assign(this.data,a.getFormData()),this.send()};f._setJSONPTransport=function(a){a.subscribe(\"response\",this._handleJSONPResponse.bind(this)),a.subscribe(\"abort\",this._handleJSONPAbort.bind(this)),this.transport=a};f._handleJSONPResponse=function(a,b){a=this.transport;if(!a)return;b.bootloadOnly||(this.is_first=this.is_first===void 0);b=this._interpretResponse(b);b.asyncResponse&&(b.asyncResponse.is_first=this.is_first,b.asyncResponse.is_last=a.hasFinished());this.invokeResponseHandler(b);a.hasFinished()&&delete this.transport};f._handleJSONPAbort=function(){this._invokeErrorHandler(),delete this.transport};f._handleXHRResponse=function(a){var b;if(this.getOption(\"suppressEvaluation\"))b={asyncResponse:new(c(\"AsyncResponse\"))(this,a)};else try{this._handleFlushedResponse();a=a.responseText;a=this._filterOutFlushedText(a);a=this._unshieldResponseText(a);a=JSON.parse(a);b=this._interpretResponse(a)}catch(a){b=a.message,c(\"FBLogger\")(\"async_request\").catching(a).warn(\"Failed to handle response\")}this.invokeResponseHandler(b)};f._handleFlushedResponse=function(){var a=this.flushedResponseHandler,b=this.transport;if(a&&b){var c=b.responseText.indexOf(F);c=c===-1?b.responseText.length:c;a(b.responseText.substring(this.flushedResponseTextParseIndex,c));this.flushedResponseTextParseIndex=c}};f._unshieldResponseText=function(a){if(a.length<=G)throw new Error(\"Response too short on async\");var b=0;while(a.charAt(b)==\" \"||a.charAt(b)==\"\\n\")b++;b&&a.substring(b,b+G)==F;return a.substring(b+G)};f._filterOutFlushedText=function(a){if(!this.flushedResponseHandler)return a;var b=a.indexOf(F);return b<0?a:a.substr(b)};f._interpretResponse=function(a){if(a.redirect)return{redirect:a.redirect};if(a.bootloadOnly)return{bootloadOnly:a.bootloadOnly};var b=a.error&&this._isServerDialogErrorCode(a.error);this._shouldReplaceTransportMarkers&&a.payload&&!b&&c(\"replaceTransportMarkers\")({relativeTo:this.getRelativeTo(),bigPipeContext:null},a.payload);b=new(c(\"AsyncResponse\"))(this);if(a.__ar!=1)c(\"FBLogger\")(\"AsyncRequest\").warn(\"AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.\",this.getURI()),b.payload=a;else{Object.assign(b,a);a=this.transport;a&&a.getAllResponseHeaders!==void 0&&(b.responseHeaders=a.getAllResponseHeaders())}return{asyncResponse:b}};f._isMultiplexable=function(){if(this.getOption(\"useIframeTransport\")||this.getOption(\"useFetchWithIframeFallback\")){c(\"FBLogger\")(\"AsyncRequest\").mustfix(\"You cannot bundle AsyncRequest that uses iframe transport.\");return!1}if(!c(\"isFacebookURI\")(new(m||(m=c(\"URI\")))(this.uri))){c(\"FBLogger\")(\"AsyncRequest\").mustfix(\"You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s\",this.getURI());return!1}if(!this.getOption(\"asynchronous_DEPRECATED\")){c(\"FBLogger\")(\"AsyncRequest\").mustfix(\"We cannot bundle synchronous AsyncRequests\");return!1}return!0};f.handleResponse=function(a){a=this._interpretResponse(a);this.invokeResponseHandler(a)};f.setMethod=function(a){this.method=a.toString().toUpperCase();return this};f.getMethod=function(){return this.method};f.setData=function(a){this.data=a;return this};f.setRequestHeader=function(a,b){this.headers[a]=b;return this};f.setRawData=function(a){this.rawData=a;return this};f.getData=function(){return this.data};f.setContextData=function(a,b,c){c=c===void 0?!0:c;c&&(this.context[\"_log_\"+a]=b);return this};f._setUserActionID=function(){this.userActionID=(d(\"SessionName\").getName()||\"-\")+\"\/-\"};f.setURI=function(a,b){b===void 0&&(b=!1);typeof a===\"string\"&&a.match(\/^\\\/?u_\\d+_\\d+\/)&&c(\"FBLogger\")(\"asyncrequest\").warn(\"Invalid URI %s\",a);var e=new(m||(m=c(\"URI\")))(a);if((this.getOption(\"useIframeTransport\")||this.getOption(\"useFetchWithIframeFallback\"))&&!c(\"isFacebookURI\")(e)){b&&j(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption(\"useIframeTransport\")&&!this.getOption(\"useFetchWithIframeFallback\")&&!e.isSameOrigin()&&!c(\"uriIsRelativePath\")(e)){b&&j(0,45285);return this}this._setUserActionID();if(!a||e.isEmpty()){c(\"FBLogger\")(\"async_request\").mustfix(\"URI cannot be empty\");return this}this.uri=d(\"ZeroRewrites\").rewriteURI(e);return this};f.getURI=function(){return this.uri.toString()};f.delayPreDisplayJS=function(a){a===void 0&&(a=!0);this._delayPreDisplayJS=a;return this};f.setInitialHandler=function(a){this.initialHandler=a;return this};f.setPayloadHandler=function(a){this.setHandler(function(b){a(b.payload)});return this};f.setHandler=function(a){B(a)&&(this.handler=a);return this};f.setFlushedResponseHandler=function(a){B(a)&&(this.flushedResponseHandler=a);return this};f.getHandler=function(){return this.handler||c(\"emptyFunction\")};f.setProgressHandler=function(a){B(a)&&(this.progressHandler=a);return this};f.setUploadProgressHandler=function(a){B(a)&&(this.uploadProgressHandler=a);return this};f.setErrorHandler=function(a){B(a)&&(this.errorHandler=a);return this};f.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};f.getErrorHandler=function(){return this.errorHandler||c(\"emptyFunction\")};f.getTransportErrorHandler=function(){return this.transportErrorHandler||c(\"emptyFunction\")};f.setTimeoutHandler=function(a,b){B(b)&&(this.timeout=a,this.timeoutHandler=b);return this};f.resetTimeout=function(a){if(!(this.timeoutHandler===null))if(a===null)this.timeout=null,c(\"clearTimeout\")(this.timer),this.timer=null;else{var b=!this._allowCrossPageTransition;this.timeout=a;c(\"clearTimeout\")(this.timer);b?this.timer=c(\"setTimeout\")(this._handleTimeout.bind(this),this.timeout):this.timer=c(\"setTimeoutAcrossTransitions\")(this._handleTimeout.bind(this),this.timeout)}return this};f.setNewSerial=function(){this.id=++C;return this};f.setInterceptHandler=function(a){this.interceptHandler=a;return this};f.setFinallyHandler=function(a){this.finallyHandler=a;return this};f.setAbortHandler=function(a){this.abortHandler=a;return this};f.getServerDialogCancelHandler=function(){return this.serverDialogCancelHandler};f.setServerDialogCancelHandler=function(a){this.serverDialogCancelHandler=a;return this};f.setPreBootloadHandler=function(a){this.preBootloadHandler=a;return this};f.setReadOnly=function(a){typeof a!==\"boolean\"||(this.readOnly=a);return this};f.getReadOnly=function(){return this.readOnly};f.setRelativeTo=function(a){this.relativeTo=a;return this};f.getRelativeTo=function(){return this.relativeTo};f.setStatusClass=function(a){this.statusClass=a;return this};f.setStatusElement=function(a){this.statusElement=a;return this};f.getStatusElement=function(){return c(\"ge\")(this.statusElement)};f._isRelevant=function(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>D};f.clearStatusIndicator=function(){var a=this.getStatusElement();a&&(d(\"CSS\").removeClass(a,\"async_saving\"),d(\"CSS\").removeClass(a,this.statusClass))};f._addStatusIndicator=function(){var a=this.getStatusElement();a&&(d(\"CSS\").addClass(a,\"async_saving\"),d(\"CSS\").addClass(a,this.statusClass))};f.specifiesWriteRequiredParams=function(){var a=this;return this.writeRequiredParams.every(function(b){a.data[b]=a.data[b]||(o||(o=c(\"Env\")))[b]||(c(\"ge\")(b)||{}).value;return a.data[b]!==void 0?!0:!1})};f.setOption=function(a,b){typeof this.option[a]!==\"undefined\"&&(this.option[a]=b);return this};f.getOption=function(a){typeof this.option[a]===\"undefined\";return this.option[a]};f.abort=function(){var a=this;this.continuation.last(function(){var b=a.transport;if(b){var d=a.getTransportErrorHandler();a.setOption(\"suppressErrorAlerts\",!0);a.setTransportErrorHandler(c(\"emptyFunction\"));a._requestAborted=!0;b.abort();a.setTransportErrorHandler(d)}a.abortHandler();K.unschedule(a)})};f.abandon=function(){var a=this;this.continuation.last(function(){var b;c(\"clearTimeout\")(a.timer);a.setOption(\"suppressErrorAlerts\",!0).setHandler(b=c(\"emptyFunction\")).setErrorHandler(b).setTransportErrorHandler(b).setProgressHandler(b).setUploadProgressHandler(b);b=a.transport;b&&(a._requestAborted=!0,x(b)&&delete b.onprogress,y(b)&&delete b.upload.onprogress,b.abort());a.abortHandler();K.unschedule(a)})};f.setNectarModuleDataSafe=function(a){var b=this.setNectarModuleData;b&&b.call(this,a);return this};f.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;this.timer&&this.resetTimeout(this.timeout);return this};f.getAllowIrrelevantRequests=function(){return this._allowIrrelevantRequests};f.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};f.setAllowCrossOrigin=function(a){this._allowCrossOrigin=a;return this};f.setAllowCredentials=function(a){this._allowCredentials=a;return this};f.setIsBackgroundRequest=function(a){this._isBackgroundRequest=a;return this};f.setReplaceTransportMarkers=function(a){a===void 0&&(a=!0);this._shouldReplaceTransportMarkers=a;return this};f.sendAndReturnAbortHandler=function(){var a=this;this.send();return function(){return a.abort()}};f.send=function(b){var f=this;b=b||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption(\"suppressErrorHandlerWarning\");(this.getOption(\"useIframeTransport\")||this.getOption(\"useFetchWithIframeFallback\"))&&this.method!=\"GET\"&&this.setMethod(\"GET\");this.timeoutHandler!==null&&(this.getOption(\"useIframeTransport\")||this.getOption(\"useFetchWithIframeFallback\"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!=\"POST\")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes(\"\/..\/\")||this.uri.toString().includes(\"\\\\..\/\")||this.uri.toString().includes(\"\/..\\\\\")||this.uri.toString().includes(\"\\\\..\\\\\"))return!1;Object.assign(this.data,c(\"getAsyncParams\")(this.method));(p||(p=c(\"isEmpty\")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(o||(o=c(\"Env\"))).force_param&&Object.assign(this.data,(o||(o=c(\"Env\"))).force_param);this._setUserActionID();if(this.getOption(\"bundle\")&&this._isMultiplexable()){K.schedule(this);return!0}this.setNewSerial();this.getOption(\"asynchronous_DEPRECATED\")||this.uri.addQueryData({__sjax:1});c(\"Arbiter\").inform(\"AsyncRequest\/send\",{request:this,ts:(n||(n=c(\"performanceAbsoluteNow\")))()});var g,h;this.method==\"GET\"&&this.uri.addQueryData({fb_dtsg_ag:d(\"DTSG_ASYNC\").getToken()});this.method==\"GET\"||this.rawData?(g=this.uri.addQueryData(this.data).toString(),h=this.rawData||\"\"):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),g=this.uri.toString(),h=(k||(k=d(\"PHPQuerySerializer\"))).serialize(this.data));if(this.transport)return!1;if(this.getOption(\"useFetchWithIframeFallback\"))try{var i=new(c(\"FetchStreamTransport\"))(this.uri);this._setJSONPTransport(i);this._markRequestSent();i.send();this.setOption(\"useIframeTransport\",!1);return!0}catch(a){this.setOption(\"useFetchWithIframeFallback\",!1),this.setOption(\"useIframeTransport\",!0)}if(this.getOption(\"useIframeTransport\")){e([\"JSONPTransport\"],function(a){a=new a(f.uri);f._setJSONPTransport(a);f._markRequestSent();a.send()});return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var j;try{j=d(\"ZeroRewrites\").getTransportBuilderForURI(this.uri)()}catch(a){throw c(\"unrecoverableViolation\")(a.message,\"comet_infra\",{},{blameToPreviousFrame:1})}if(!j)return!1;this.schedule(\"AsyncRequest.send\");j.onreadystatechange=function(){var a=f.transport;a&&a.readyState>=2&&a.readyState<=3&&f._handleFlushedResponse();j.readyState===4&&f.continuation.last(f._onStateChange)};this.progressHandler&&x(j)&&(j.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.progressHandler&&f.progressHandler.apply(f,b)})});this.uploadProgressHandler&&y(j)&&(j.upload.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.uploadProgressHandler&&f.uploadProgressHandler.apply(f,b)})});b||(this.remainingRetries=this.getOption(\"retries\"));this.transport=j;try{j.open(this.method,g,c(\"gkx\")(\"25571\")?!0:this.getOption(\"asynchronous_DEPRECATED\"))}catch(a){return!1}if(!this.uri.isSameOrigin()&&!c(\"uriIsRelativePath\")(this.uri)&&!this.getOption(\"useIframeTransport\")&&!this.getOption(\"useFetchWithIframeFallback\")){if(!z(j))return!1;this._canSendCredentials()&&(j.withCredentials=!0)}this.method==\"POST\"&&!this.rawData&&j.setRequestHeader(\"Content-Type\",\"application\/x-www-form-urlencoded\");this._isBackgroundRequest&&j.setRequestHeader(\"X-FB-BACKGROUND-STATE\",\"1\");var l=c(\"getAsyncHeaders\")(this.uri);Object.keys(l).forEach(function(a){j&&j.setRequestHeader(a,l[a])});c(\"Arbiter\").inform(\"AsyncRequest\/will_send\",{request:this});if(j)for(i in this.headers)Object.prototype.hasOwnProperty.call(this.headers,i)&&j.setRequestHeader(i,this.headers[i]);this._addStatusIndicator();this._markRequestSent();j.send(h);this.timeout!==null&&this.resetTimeout(this.timeout);a._inflightCount++;return!0};f.schedule=function(a){this.continuation=c(\"TimeSlice\").getReusableContinuation(a)};f._canSendCredentials=function(){if(this._allowCredentials===!1)return!1;var a=new(m||(m=c(\"URI\")))(this.uri);return c(\"isBulletinDotComURI\")(a)||c(\"isFacebookURI\")(a)||c(\"isInternalFBURI\")(a)||c(\"isMessengerDotComURI\")(a)||c(\"isWorkplaceDotComURI\")(a)||c(\"isWorkroomsDotComURI\")(a)||c(\"isWorkDotMetaDotComURI\")(a)||c(\"isHorizonDotMetaDotComURI\")(a)||c(\"isSparkDotMetaDotComURI\")(a)};f._markRequestSent=function(){var a=new(m||(m=c(\"URI\")))(this.getURI()).getQualifiedURI().toString();d(\"ResourceTimingsStore\").updateURI(c(\"ResourceTypes\").XHR,this.resourceTimingStoreUID,a);d(\"ResourceTimingsStore\").annotate(c(\"ResourceTypes\").XHR,this.resourceTimingStoreUID).addStringAnnotation(\"uri\",a);d(\"ResourceTimingsStore\").measureRequestSent(c(\"ResourceTypes\").XHR,this.resourceTimingStoreUID)};f.promisePayload=function(a){return this.exec().then(function(a){return a.payload},function(a){throw a.toError()})};f.exec=function(a){var d=this;if(this.getHandler()!==c(\"emptyFunction\")||this.getErrorHandler()!==c(\"AsyncResponse\").defaultErrorHandler)throw new Error(\"exec is an async function and does not allow previously set handlers\");return new(l||(l=b(\"Promise\")))(function(b,c){d.setHandler(b).setErrorHandler(c).send(a)})};a.bootstrap=function(b,e,f){var g=\"GET\",h=!0,i={};(f||e&&e.rel==\"async-post\")&&(g=\"POST\",h=!1,b&&(b=new(m||(m=c(\"URI\")))(b),i=b.getQueryData(),b.setQueryData({})));f=d(\"Parent\").byClass(e,\"stat_elem\")||e;if(f&&d(\"CSS\").hasClass(f,\"async_saving\"))return!1;b=new a(b).setReadOnly(h).setMethod(g).setData(i).setNectarModuleDataSafe(e).setRelativeTo(e);e&&(b.setHandler(function(a){c(\"Event\").fire(e,\"success\",{response:a})}),b.setErrorHandler(function(a){c(\"Event\").fire(e,\"error\",{response:a})!==!1&&c(\"AsyncResponse\").defaultErrorHandler(a)}));if(f instanceof HTMLElement){b.setStatusElement(f);h=f.getAttribute(\"data-status-class\");h&&b.setStatusClass(h)}b.send();return!1};a.bootstrap_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c,d){a.bootstrap(b,c,d)};a.post=function(b,c){new a(b).setReadOnly(!1).setMethod(\"POST\").setData(c).send();return!1};a.post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c){a.post(b,c)};a.getLastID=function(){return C};a.ignoreUpdate=function(){E=!0};a.getInflightCount=function(){return this._inflightCount};return a}();H._inflightCount=0;var I,J=[],K=function(){function a(){this._requests=[]}var b=a.prototype;b.add=function(a){this._requests.push(a)};b.remove=function(a){var b=this._requests,c=this._requestsSent;for(var d=0,e=b.length;d<e;d++)b[d]===a&&(c?b[d]=null:b.splice(d,1))};b.send=function(){this._requestsSent&&j(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var a=this._requests;if(!a.length)return;var b;if(a.length===1)b=a[0];else{a=a.filter(Boolean).map(function(a){return[a.uri.getPath(),(k||(k=d(\"PHPQuerySerializer\"))).serialize(a.data)]});b=this._wrapperRequest=new H(\"\/ajax\/proxy.php\").setAllowCrossPageTransition(!0).setData({data:a}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}b&&b.setOption(\"bundle\",!1).send()};b._handler=function(a){var b=this,c=a.getPayload().responses;if(c.length!==this._requests.length)return;a=function(a){var d=b._requests[a];if(!d)return\"continue\";var e=d.uri.getPath();b._wrapperRequest&&(d.id=b._wrapperRequest.id);if(c[a][0]!==e){d.continuation.last(function(){d.invokeResponseHandler({transportError:\"Wrong response order in bundled request to \"+e})});return\"continue\"}d.continuation.last(function(){d.handleResponse(c[a][1])})};for(var d=0;d<this._requests.length;d++){var e=a(d);if(e===\"continue\")continue}J.splice(J.indexOf(this,1))};b._transportErrorHandler=function(a){var b=this,c={transportError:a.errorDescription};a=this._requests.filter(Boolean).map(function(a){b._wrapperRequest&&(a.id=b._wrapperRequest.id);a.invokeResponseHandler(c);return a.uri.getPath()})};a.schedule=function(b){b.schedule(\"AsyncMultiplex.schedule\");I||(I=new a(),J.push(I),c(\"TimeSlice\").guard(function(){c(\"setTimeoutAcrossTransitions\")(function(){I&&(I.send(),I=null)},0)},\"AsyncMultiplex.schedule\",{propagationType:c(\"TimeSlice\").PropagationType.ORPHAN})());I.add(b);return I};a.unschedule=function(a){J.forEach(function(b){b.remove(a)})};return a}();H.suppressOnloadToken={};a.AsyncRequest=H;g[\"default\"]=H}),226);\/*FB_PKG_DELIM*\/\n__d(\"LSDataTraceTag\",[],(function(a,b,c,d,e,f){\"use strict\";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7,j=20,k=21,l=22,m=23,n=24,o=25,p=26,q=27,r=28,s=29,t=30,u=31,v=32,w=33,x=34,y=35,z=36,A=37,B=38,C=39,D=40,E=41,F=42;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.messageTypeNone=j;f.messageTypeText=k;f.messageTypeFutureproof=l;f.messageTypeCiphertext=m;f.messageTypeUnavailable=n;f.messageTypeImage=o;f.messageTypeVideo=p;f.messageTypePtt=q;f.messageTypeAdmin=r;f.messageTypeRevoked=s;f.messageTypeGif=t;f.messageTypeSticker=u;f.messageTypeExpiredEphemeral=v;f.messageTypeEphemeralSettingAdmin=w;f.messageTypeEphemeralSyncResponse=x;f.messageTypeEphemeralScreenshotAction=y;f.messageTypeDeleteForMe=z;f.messageTypeEphemeralSettingChangeFromCurrentDevice=A;f.messageTypeAlertICDC=B;f.messageTypeGroupInvite=C;f.messageTypeXMA=D;f.messageTypeReaction=E;f.messageTypeSenderKeyDistribution=F}),66);\n__d(\"MAWBridgeTrace\",[\"WAJids\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a,b,c,e,f,g,h,i){var j=a.ack,k=a.externalId,l=a.ts;a=a.type;var m=d(\"WAJids\").switchOnMsgrChatJidType(b,{group:function(a){return\"Group\"},user:function(a){return\"User\"}});return{ack:j,externalId:k,isFirstMsg:!!f,openMessageOtid:e,openMessageParticipantCount:g,participantCount:h,threadJid:b,threadKey:i,threadType:m,traceType:c,ts:l,type_:a}}function b(a,b,c){return{traceContext:c,traceId:b,traceType:a}}function c(a,b,c,d){return{errorMessage:d,event:b,externalIds:a,traceType:c}}function e(a,b,c,d,e,f){return{checkPointId:a,dataTraceId:b,errorMessage:c,shouldFlush:d,syncChannel:e,tags:f}}g.createBridgeStartTraceData=a;g.createBridgeStartTraceWithTraceIdData=b;g.createBridgeUpdateTraceData=c;g.createBridgeTraceRecordCheckpointData=e}),98);\n__d(\"MAWTraceUtils\",[\"LSDataTraceCheckPoint\",\"LSDataTraceTag\",\"LSIntEnum\",\"LSRequestId\",\"MAWBridge\",\"MAWBridgeTrace\",\"MAWMsgType\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=\"backup_upload\",j=\"media_backup\",k=\"vesta_registration\",l=\"vesta_login\";function m(){return c(\"LSRequestId\").generate()}function a(a,b,c){c=(c=c)!=null?c:m();d(\"MAWBridge\").getBridge().fireAndForget(\"event\",\"uiUpdate\",{events:[{tag:\"StartTraceWithTraceId\",value:d(\"MAWBridgeTrace\").createBridgeStartTraceWithTraceIdData(a,c,b)}]},!0);return c}function n(a,b,c,e,f){if(a!=null){c=c.length>0?c.map(function(a){return a.toString()}).join(\",\"):void 0;d(\"MAWBridge\").getBridge().fireAndForget(\"event\",\"uiUpdate\",{events:[{tag:\"TraceRecordCheckpoint\",value:d(\"MAWBridgeTrace\").createBridgeTraceRecordCheckpointData(b,a,f,e,-1,c)}]},!0)}}function b(a,b,e,f){n(a,b,e,!1),n(a,(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").FLOW_END_FOR_FAILURE),e,!0,f)}function e(a,b,e){n(a,b,e,!1),n(a,(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").FLOW_END_AND_FLUSH),e,!0)}function f(a,b,e){n(a,b,e,!1),n(a,(h||(h=d(\"LSIntEnum\"))).ofNumber(c(\"LSDataTraceCheckPoint\").FLOW_END_AND_FLUSH),e,!0)}function o(a){switch(a){case d(\"MAWMsgType\").MSG_TYPE.TEXT:return d(\"LSDataTraceTag\").messageTypeText;case d(\"MAWMsgType\").MSG_TYPE.FUTUREPROOF:return d(\"LSDataTraceTag\").messageTypeFutureproof;case d(\"MAWMsgType\").MSG_TYPE.CIPHERTEXT:return d(\"LSDataTraceTag\").messageTypeCiphertext;case d(\"MAWMsgType\").MSG_TYPE.UNAVAILABLE:return d(\"LSDataTraceTag\").messageTypeUnavailable;case d(\"MAWMsgType\").MSG_TYPE.IMAGE:return d(\"LSDataTraceTag\").messageTypeImage;case d(\"MAWMsgType\").MSG_TYPE.VIDEO:return d(\"LSDataTraceTag\").messageTypeVideo;case d(\"MAWMsgType\").MSG_TYPE.PTT:return d(\"LSDataTraceTag\").messageTypePtt;case d(\"MAWMsgType\").MSG_TYPE.ADMIN:return d(\"LSDataTraceTag\").messageTypeAdmin;case d(\"MAWMsgType\").MSG_TYPE.REVOKED:return d(\"LSDataTraceTag\").messageTypeRevoked;case d(\"MAWMsgType\").MSG_TYPE.GIF:return d(\"LSDataTraceTag\").messageTypeGif;case d(\"MAWMsgType\").MSG_TYPE.STICKER:return d(\"LSDataTraceTag\").messageTypeSticker;case d(\"MAWMsgType\").MSG_TYPE.EXPIRED_EPHEMERAL:return d(\"LSDataTraceTag\").messageTypeExpiredEphemeral;case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d(\"LSDataTraceTag\").messageTypeEphemeralSettingAdmin;case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return d(\"LSDataTraceTag\").messageTypeEphemeralSyncResponse;case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d(\"LSDataTraceTag\").messageTypeEphemeralScreenshotAction;case d(\"MAWMsgType\").MSG_TYPE.DELETE_FOR_ME:return d(\"LSDataTraceTag\").messageTypeDeleteForMe;case d(\"MAWMsgType\").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return d(\"LSDataTraceTag\").messageTypeEphemeralSettingChangeFromCurrentDevice;case d(\"MAWMsgType\").MSG_TYPE.ICDC_ALERT:return d(\"LSDataTraceTag\").messageTypeAlertICDC;case d(\"MAWMsgType\").MSG_TYPE.GROUP_INVITE:return d(\"LSDataTraceTag\").messageTypeGroupInvite;case d(\"MAWMsgType\").MSG_TYPE.XMA:return d(\"LSDataTraceTag\").messageTypeXMA;case d(\"MAWMsgType\").MSG_TYPE.REACTION:return d(\"LSDataTraceTag\").messageTypeReaction;case d(\"MAWMsgType\").MSG_TYPE.SK_DISTRIBUTION:return d(\"LSDataTraceTag\").messageTypeSenderKeyDistribution;default:return d(\"LSDataTraceTag\").messageTypeNone}}g.CONTEXT_BACKUP_UPLOAD=i;g.CONTEXT_MEDIA_BACKUP=j;g.CONTEXT_VESTA_REGISTRATION=k;g.CONTEXT_VESTA_LOGIN=l;g.createTraceId=m;g.startNewTrace=a;g.recordCheckpointForTrace=n;g.recordFailureAndFlushForTraceId=b;g.recordSuccessAndFlushForTraceId=e;g.recordInvalidUploadRequestAndFlushTrace=f;g.getTagForMsgType=o}),98);\n__d(\"MAWReceiveToUploadUtils\",[\"I64\",\"justknobx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=c(\"justknobx\")._(\"1693\");e=100;var i=(h||(h=d(\"I64\"))).of_int32(e*100),j=h.of_int32(e*b),k=new RegExp(\/^[1-9]{1}[0-9]*$\/);function a(a){if(!k.test(a))return!1;try{a=(h||(h=d(\"I64\"))).of_string(a);return h.compare(h.mod_(a,i),j)<0}catch(a){return!1}}g.checkUploadEligbility=a}),98);\n__d(\"MAWBridgeTraceEvent\",[\"$InternalEnum\"],(function(a,b,c,d,e,f){\"use strict\";a=b(\"$InternalEnum\").Mirrored([\"ReceivedReceipt\",\"ReceivedSent\",\"FlowEndForFailure\",\"FlowEndForSuccess\"]);c=a;f[\"default\"]=c}),66);\n__d(\"MAWSharedAsBackupMessage\",[],(function(a,b,c,d,e,f){\"use strict\";function a(a,b,c,d,e){d={frankingTag:d==null?void 0:d.frankingTag,reportingTag:d==null?void 0:d.reportingTag};d={frankingMetadata:d,messageId:b,senderId:a,timestampMs:c};return{metadata:d,payload:e}}f.asBackupMessage=a}),66);\n__d(\"MAWSharedMsgIdUtil\",[\"FBLogger\",\"WAJids\",\"WAStanzaUtils\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){return JSON.stringify([a.author,a.chat,a.externalId])}function b(a){a=JSON.parse(a);if(!Array.isArray(a))throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Unable to parse msg id string as proper json\");if(a.length!==3)throw c(\"FBLogger\")(\"labyrinth_web\").mustfixThrow(\"Parsed array should have 3 components\");var b=d(\"WAJids\").unsafeCoerceToUserJid(a[0]),e=d(\"WAJids\").unsafeCoerceToChatJid(a[1]);a=d(\"WAStanzaUtils\").toStanzaId(a[2]);return{author:b,chat:e,externalId:a}}g.convertWAMsgIdToStringId=a;g.convertStringIdToWAMsgId=b}),98);\n__d(\"WAArmadilloBackupMessage.pb\",[\"WAProtoConst\"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={metadata:[1,(e=d(\"WAProtoConst\")).TYPES.MESSAGE,b],payload:[2,e.TYPES.BYTES]};b.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32]};c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]};g.BackupMessageSpec=a;g.BackupMessage$MetadataSpec=b;g.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);\n__d(\"WABinary\",[\"WAErr\",\"WAHex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c===\"string\"?d.writeString(c):typeof c===\"number\"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,\"uint8\"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,\"signed int8\"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,\"uint16\"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,\"signed int16\"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,\"uint32\"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,\"signed int32\"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,\"uint64\"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,\"signed int64\"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,\"varint (signed int64)\");var b=a<0;a=b?-a:a;var c=Math.floor(a\/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d(\"WAHex\").hexLongIsNegative(a);a=b?d(\"WAHex\").negateHexLong(a):a;a=d(\"WAHex\").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d(\"WAHex\").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d(\"WAHex\").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,\"byte\");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g===\"string\"?e+=n(g):typeof g===\"number\"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c(\"WAErr\")(\"ReadError: given negative number of bytes to read\");var b=this.$3;a=b+a;if(a>this.$2)throw c(\"WAErr\")(b===this.$2?\"ReadError: tried to read from depleted binary\":\"ReadError: tried to read beyond end of binary\");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l=\"\",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c(\"WAErr\")(\"ParseError: varint exceeds 64 bits\");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join(\"\")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d\/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d(\"WAHex\").hexLongIsNegative(e);e=d(\"WAHex\").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d(\"WAHex\").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!==\"number\"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c(\"WAErr\")(typeof a===\"string\"?'TyperError WriteError: string \"'+a+'\" is not a valid '+e:\"TypeError WriteError: \"+String(a)+\" is not a valid \"+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c(\"WAErr\")(\"ReadError: integer exceeded 53 bits (\"+b+\")\");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);\n__d(\"WAProtoCompile\",[\"WAProtoConst\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error(\"Message Class \"+String(a)+\" does not have internalSpec\");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d(\"WAProtoConst\").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d(\"WAProtoConst\").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];n=o[1];var p=o[0];g.push(p);j.push(n);if((n&d(\"WAProtoConst\").TYPE_MASK)===d(\"WAProtoConst\").TYPES.MESSAGE)f[m]=o[2];else if((n&d(\"WAProtoConst\").TYPE_MASK)===d(\"WAProtoConst\").TYPES.ENUM){p=o[2];if(typeof p.cast===\"function\")f[m]=p;else{n=!0;o=0;for(var q in p)n&&q!==o++&&(n=!1);q=void 0;if(n){q=[];for(n=0;n<o;n++)q.push(!0)}else{q={};for(n in p)q[p[n]]=!0}f[m]=q}}else f[m]=null}var r={};o=function(a){l[a].forEach(function(b){r[b]||(r[b]=[]),r[b].push(a)})};for(n in l)o(n);p=b[d(\"WAProtoConst\").KEYS.RESERVED]&&b[d(\"WAProtoConst\").KEYS.RESERVED][d(\"WAProtoConst\").KEYS.RESERVED_TAGS];q=b[d(\"WAProtoConst\").KEYS.RESERVED]&&b[d(\"WAProtoConst\").KEYS.RESERVED][d(\"WAProtoConst\").KEYS.RESERVED_FIELDS];m=new h(e,g,j,k,f,l,r,p,q);a.internalCompiledSpec=m;return m}function i(a,b){a=a[b];if(a==null)throw new Error(\"fieldData of \"+b+\" is missing\");return a}g.Spec=h;g.compileSpec=a}),98);\n__d(\"WAProtoUtils\",[\"WAProtoConst\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){if(a&d(\"WAProtoConst\").FLAGS.PACKED)return d(\"WAProtoConst\").ENC.BINARY;a=a&d(\"WAProtoConst\").TYPE_MASK;if(a<=d(\"WAProtoConst\").TYPES.ENUM)return d(\"WAProtoConst\").ENC.VARINT;else if(a<=d(\"WAProtoConst\").TYPES.DOUBLE)return d(\"WAProtoConst\").ENC.BIT64;else if(a<=d(\"WAProtoConst\").TYPES.MESSAGE)return d(\"WAProtoConst\").ENC.BINARY;else return d(\"WAProtoConst\").ENC.BIT32}g.typeToEncType=a}),98);\n__d(\"WAHasProperty\",[],(function(a,b,c,d,e,f){\"use strict\";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f[\"default\"]=a}),66);\n__d(\"WAProtoValidate\",[\"WAHasProperty\",\"WALogger\",\"WAProtoCompile\",\"WAProtoConst\"],(function(a,b,c,d,e,f,g){\"use strict\";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['\"','\" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['\"','\" is not ',\"\"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['\"','\" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['\"','\" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['\"','\" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError(\"Message missing required value \"+a.join(\".\"))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError(\"Invalid value at \"+b.path.join(\".\")+\": \"+b.error)}}function o(a,b){a=d(\"WAProtoCompile\").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c(\"WAHasProperty\")(b,j)?b[j]:void 0;if(i&d(\"WAProtoConst\").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d(\"WAProtoConst\").TYPE_MASK)===d(\"WAProtoConst\").TYPES.MESSAGE&&i&d(\"WAProtoConst\").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+\"[\"+m+\"]\")}else(i&d(\"WAProtoConst\").TYPE_MASK)===d(\"WAProtoConst\").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a===\"string\")if(\/^-?0x[0-9a-f]{16}$\/i.test(a))return!1;else{d(\"WALogger\").LOG(l(),s(a)).color(\"red\");return{path:[],error:\"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long\"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!==\"number\"||a!==a||Math.floor(a)!==a){d(\"WALogger\").LOG(k(),s(a)).color(\"red\");return{path:[],error:\"value must be an int\"}}else if(a<b||a>=c){d(\"WALogger\").LOG(j(),s(a)).color(\"red\");return{path:[],error:\"value is out of range\"}}else return!1}function r(a,b,c){if(a)return void 0;else{d(\"WALogger\").LOG(i(),s(c),b).color(\"red\");return{path:[],error:\"value is invalid\"}}}function s(a){if(typeof a===\"string\")return'\"'+a+'\"';else if(Array.isArray(a))return\"[\"+a.join(\", \")+\"]\";else return\"\"+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a===\"boolean\",\"boolean\",a)},function(a,b){return r(typeof a===\"number\"&&(b[a]||b.cast(a)!==void 0),\"in enum\",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a===\"number\",\"number\",a)},function(a){return r(typeof a===\"string\",\"string\",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,\"ArrayBuffer or Uint8Array\",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a===\"number\",\"number\",a)}];function u(a,b){b=d(\"WAProtoCompile\").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d(\"WAProtoConst\").TYPE_MASK,r=t[q];if(r===void 0)throw new Error(\"Can not find the validator for type \"+q);if(o&(d(\"WAProtoConst\").FLAGS.PACKED|d(\"WAProtoConst\").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d(\"WALogger\").LOG(h(),s(p)).color(\"red\"),m={path:[n],error:\"repeated field must be array\"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+\"[\"+o+\"]\")}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);o=j[n];o&&o.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!==\"undefined\"&&(m={path:[b],error:\"oneof '\"+b+\"' has fields '\"+n+\"' and '\"+c+\"' set\"})})});k[e[b]]&&(m={path:[n],error:\"tag \"+e[b]+\" is reserved\"});l[n]&&(m={path:[n],error:\"field \"+n+\" is reserved\"})}};for(var n=0;n<c.length&&!m;n++)b(n);return m}g.checkRequirements=n;g.checkValid=a}),98);\n__d(\"encodeProtobuf\",[\"WABinary\",\"WAHex\",\"WAProtoCompile\",\"WAProtoConst\",\"WAProtoUtils\",\"WAProtoValidate\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d(\"WABinary\").Binary)());d(\"WAProtoValidate\").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?\"Last encoded value for \"+h:\"No information known\"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b===\"number\"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d(\"WABinary\").Binary)(),e;typeof b===\"number\"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d(\"WAHex\").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d(\"WAHex\").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b===\"number\"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d(\"WABinary\").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b===\"number\"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b===\"number\"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d(\"WAProtoCompile\").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d(\"WAProtoConst\").TYPE_MASK,q=e[j];k=k*8|d(\"WAProtoUtils\").typeToEncType(o);if(o&d(\"WAProtoConst\").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d(\"WAProtoConst\").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else{a.writeVarInt(k);o=m[p];o(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);\n__d(\"MAWSharedEbUploadEntity\",[\"$InternalEnum\",\"MAWSharedAsBackupMessage\",\"MAWSharedMsgIdUtil\",\"WAArmadilloBackupMessage.pb\",\"WAGlobals\",\"WAJids\",\"WATimeUtils\",\"encodeProtobuf\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=b(\"$InternalEnum\").Mirrored([\"NEEDS_BACKUP\",\"COMPLETED\",\"NEEDS_BACKUP_RETRY\",\"PERMANENT_FAILURE\",\"EXPIRED\",\"THREAD_DELETED\",\"DELETION_PURGED\",\"MESSAGE_DELETED\",\"UPLOADING\"]);function a(a){var b=a.backupDirective,c=a.messageApplication,e=a.msgId,f=a.reportingMeta;a=a.serverTs;e=d(\"WAJids\").authorToUserId(e.author,d(\"WAJids\").extractUserId(d(\"WAGlobals\").getMyUserJid()));return d(\"encodeProtobuf\").encodeProtobuf(d(\"WAArmadilloBackupMessage.pb\").BackupMessageSpec,d(\"MAWSharedAsBackupMessage\").asBackupMessage(e,b.originalMsgProtocolId.externalId,a,(e=f)!=null?e:{frankingKey:null,frankingTag:null,frankingVersion:null,reportingContent:null,reportingTag:null},c)).readByteArray()}function c(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function e(a){var b=a.backupDirective,c=a.msgId,e=a.originalMsgProtocolId,f=a.protobuf,g=a.senderId;a=a.serverTs;return{backupActionType:b.actionType,failAcks:0,failTsMs:d(\"WATimeUtils\").castToMillisTime(0),msgId:c,msgIdKey:d(\"MAWSharedMsgIdUtil\").convertWAMsgIdToStringId(c),originalMsgProtocolId:e,protobuf:f,senderId:g,serverTs:a,supplementalKey:b.supplementalKey,uploadStatus:h.NEEDS_BACKUP,uploadTsSec:d(\"WATimeUtils\").unixTime()}}g.EbUploadStatus=h;g.encodeBackupMessage=a;g.getEbBackupMessabeBytesBuffer=c;g.asEBUploadEntity=e}),98);\n__d(\"LSMEBTaskCreationSource\",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42});f[\"default\"]=a}),66);\/*FB_PKG_DELIM*\/\n__d(\"$\",[\"fb-error-lite\"],(function(a,b,c,d,e,f,g){function a(a){return h(a,typeof a===\"string\"?document.getElementById(a):a)}function b(a){return h(a,typeof a===\"string\"?document.getElementById(a):a)}function h(a,b){if(!b){a=c(\"fb-error-lite\").err('Tried to get element with id of \"%s\" but it is not present on the page',String(a));a.taalOpcodes=a.taalOpcodes||[];a.taalOpcodes=[c(\"fb-error-lite\").TAALOpcode.PREVIOUS_FILE];throw a}return b}a.fromIDOrElement=b;g[\"default\"]=a}),98);\n__d(\"CSS\",[\"$\",\"CSSCore\"],(function(a,b,c,d,e,f,g){var h=typeof window!=\"undefined\"?window.CSS:null,i=\"hidden_elem\";h=h&&h.supports.bind(h);function a(a,b){c(\"$\").fromIDOrElement(a).className=b||\"\";return a}function j(a,b){return a instanceof Document||a instanceof Text?!1:d(\"CSSCore\").hasClass(c(\"$\").fromIDOrElement(a),b)}function b(a,b){return a instanceof Document||a instanceof Text?!1:d(\"CSSCore\").matchesSelector(c(\"$\").fromIDOrElement(a),b)}function k(a,b){return d(\"CSSCore\").addClass(c(\"$\").fromIDOrElement(a),b)}function l(a,b){return d(\"CSSCore\").removeClass(c(\"$\").fromIDOrElement(a),b)}function m(a,b,e){return d(\"CSSCore\").conditionClass(c(\"$\").fromIDOrElement(a),b,!!e)}function n(a,b){return m(a,b,!j(a,b))}function e(a){return!j(a,i)}function f(a){return k(a,i)}function o(a){return l(a,i)}function p(a){return n(a,i)}function q(a,b){return m(a,i,!b)}g.supports=h;g.setClass=a;g.hasClass=j;g.matchesSelector=b;g.addClass=k;g.removeClass=l;g.conditionClass=m;g.toggleClass=n;g.shown=e;g.hide=f;g.show=o;g.toggle=p;g.conditionShow=q}),98);\n__d(\"createArrayFromMixed\",[\"invariant\"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a===\"object\"||typeof a===\"function\")||h(0,3914);typeof b===\"number\"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!==\"function\"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a===\"object\"||typeof a===\"function\")&&\"length\"in a&&!(\"setInterval\"in a)&&typeof a.nodeType!==\"number\"&&(Array.isArray(a)||\"callee\"in a||\"item\"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g[\"default\"]=a}),98);\n__d(\"createObjectFrom\",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f[\"default\"]=g}),66);\n__d(\"isElementNode\",[\"isNode\"],(function(a,b,c,d,e,f){function a(a){return b(\"isNode\")(a)&&a.nodeType==1}e.exports=a}),null);\n__d(\"DOMQuery\",[\"CSS\",\"FBLogger\",\"containsNode\",\"createArrayFromMixed\",\"createObjectFrom\",\"ge\",\"ifRequired\",\"isElementNode\",\"isNode\"],(function(a,b,c,d,e,f,g){var h=\/^\\.-?[_a-zA-Z]+[\\w-]*$\/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(\" \");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]===\"\")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)==\"^\")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(\/\\[(?:[^=\\]]*=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?|[.#]\/g,\" $&\");g=g.split(\" \");var m=g[0]||\"*\",n=m==\"*\",o=g[1]&&g[1].charAt(0)==\"#\";if(o){o=c(\"ge\")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c(\"containsNode\")(o,e[p])){k=[o];break}else if(document==e[p]||c(\"containsNode\")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf(\"[\")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c(\"isElementNode\")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==\".\";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d(\"CSS\").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf(\"=\");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+\"\";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a===\"string\"||typeof b===\"string\")&&c(\"FBLogger\")(\"dom_query\").info(\"Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead\");return c(\"containsNode\")(c(\"ge\")(a),c(\"ge\")(b))}function k(){var a=c(\"ifRequired\")(\"Quickling\",function(a){return a.isActive()?c(\"ge\")(\"content\"):null});return a||document.body}function l(a,b){b=c(\"createArrayFromMixed\")(b).join(\"|\").toUpperCase().split(\"|\");b=c(\"createObjectFrom\")(b);return c(\"isNode\")(a)&&a.nodeName in b}function m(a){return l(a,[\"input\",\"textarea\"])||a.contentEditable===\"true\"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);\n__d(\"DOMEvent\",[\"invariant\"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!==\"unknown\"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),\"defaultPrevented\"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return\"defaultPrevented\"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g[\"default\"]=a}),98);\n__d(\"dedupString\",[],(function(a,b,c,d,e,f){\"use strict\";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f[\"default\"]=a}),66);\n__d(\"wrapFunction\",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f[\"default\"]=a}),66);\n__d(\"DOMEventListener\",[\"invariant\",\"dedupString\",\"emptyFunction\",\"passiveEventListenerUtil\",\"wrapFunction\"],(function(a,b,c,d,e,f,g){var h=b(\"passiveEventListenerUtil\").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b(\"wrapFunction\")(d,\"entry\",b(\"dedupString\")(\"DOMEventListener.add \"+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b(\"wrapFunction\")(d,\"entry\",\"DOMEventListener.add \"+c),a.attachEvent||g(0,2798),a.attachEvent(\"on\"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent(\"on\"+b,c.wrapper)}):j=i=b(\"emptyFunction\");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);\n__d(\"EventProfiler\",[\"cr:708886\"],(function(a,b,c,d,e,f,g){g[\"default\"]=b(\"cr:708886\")}),98);\n__d(\"Scroll\",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);\n__d(\"FlowMigrationUtilsForLegacyFiles\",[\"FBLogger\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=\"flow_typing_for_legacy_code\";function a(a){c(\"FBLogger\")(h).blameToPreviousFile().event(h+\".bad_call\").mustfix(a);return new Error(\"[\"+h+\"] \"+a)}g.invariantViolation=a}),98);\n__d(\"getDocumentScrollElement\",[\"FlowMigrationUtilsForLegacyFiles\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=typeof navigator!==\"undefined\"&&navigator.userAgent.indexOf(\"AppleWebKit\")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode===\"CSS1Compat\"?a.documentElement:a.body;a||d(\"FlowMigrationUtilsForLegacyFiles\").invariantViolation(\"null result in getDocumentScrollElement\");return a}g[\"default\"]=a}),98);\n__d(\"getObjectValues\",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f[\"default\"]=a}),66);\n__d(\"Event\",[\"$\",\"Arbiter\",\"DOMEvent\",\"DOMEventListener\",\"DOMQuery\",\"DataStore\",\"ErrorGuard\",\"EventProfiler\",\"ExecutionEnvironment\",\"FBLogger\",\"Parent\",\"Scroll\",\"TimeSlice\",\"UserAgent\",\"dedupString\",\"fb-error\",\"getDocumentScrollElement\",\"getObjectValues\"],(function(a,b,c,d,e,f){var g,h,i=b(\"fb-error\").TAAL,j=\"Event.listeners\";Event.prototype||(Event.prototype={});function k(a){(a.type===\"click\"||a.type===\"mouseover\"||a.type===\"keydown\")&&b(\"Arbiter\").inform(\"Event\/stop\",{event:a})}var l=function(){\"use strict\";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b(\"DOMEvent\"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b(\"UserAgent\").isPlatform(\"Mac OS X\")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d===\"function\"&&(d=b(\"TimeSlice\").guard(d,b(\"dedupString\")(\"Event.js \"+c+\" handler\")));!f||typeof f===\"boolean\"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b(\"ExecutionEnvironment\"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a===\"string\"&&(a=b(\"$\")(a));typeof e===\"undefined\"&&(e=Event.Priority.NORMAL);if(typeof c===\"object\"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(\/^on\/i))throw new TypeError(\"Bad event name `\"+c+\"': use `click', not `onclick'.\");if(!a){k=i.blameToPreviousFrame(new Error(\"Cannot listen to an undefined element.\"));b(\"FBLogger\")(\"event\").catching(k).mustfix(\"Tried to listen to element of type %s\",c);throw k}if(a.nodeName==\"LABEL\"&&c==\"click\"){h=a.getElementsByTagName(\"input\");a=h.length==1?h[0]:a}else if(a===window&&c===\"scroll\"){k=b(\"getDocumentScrollElement\")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b(\"DataStore\").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b(\"DOMEvent\"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b(\"DOMEvent\"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b(\"DOMEvent\"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b(\"DOMEvent\"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b(\"DOMEvent\"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b(\"getObjectValues\")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b(\"DataStore\").get(a,j);return d&&d[c]?d[c].domHandler:a[\"on\"+c]},getPosition:function(a){a=new(b(\"DOMEvent\"))(a).event;var c=b(\"getDocumentScrollElement\")(),d=a.clientX+b(\"Scroll\").getLeft(c);a=a.clientY+b(\"Scroll\").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b(\"DOMQuery\").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:\"mouseover\",wrap:d},mouseleave:{base:\"mouseout\",wrap:d}}:o={mousedown:{base:\"MSPointerDown\"},mousemove:{base:\"MSPointerMove\"},mouseup:{base:\"MSPointerUp\"},mouseover:{base:\"MSPointerOver\"},mouseout:{base:\"MSPointerOut\"},mouseenter:{base:\"MSPointerOver\",wrap:d},mouseleave:{base:\"MSPointerOut\",wrap:d}};if(b(\"UserAgent\").isBrowser(\"Firefox < 52\")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener(\"focus\",f.bind(null,\"focusin\"),!0);document.documentElement.addEventListener(\"blur\",f.bind(null,\"focusout\"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b(\"DOMEventListener\").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b(\"TimeSlice\").guard(t.bind(a,d),b(\"dedupString\")(\"Event listenHandler \"+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b(\"DOMEventListener\").add(a,d,f,e),domHandler:f,options:e};c=\"on\"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith(\"#\")?!1:a.href===document.location.href||a.href===document.location.href+\"#\"}function s(a,b){return a.nodeName===\"INPUT\"&&a.type===b}var t=b(\"EventProfiler\").__wrapEventListenHandler(function(a,c){c=m(c);if(!b(\"DataStore\").get(this,j))throw new Error(\"Bad listenHandler context.\");var d=b(\"DataStore\").get(this,j)[a];if(!d)throw new Error(\"No registered handlers for `\"+a+\"'.\");if(a==\"click\"||a==\"contextmenu\"||a==\"mousedown\"&&c.which==2){a=c.getTarget();var e=b(\"Parent\").byTag(a,\"a\");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,\"file\")&&!s(a,\"submit\")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){\"use strict\";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b(\"ExecutionEnvironment\"))).canUseDOM){if(this.isRemoved()){b(\"FBLogger\")(\"Event\").warn(\"Event handler has already been removed\");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b(\"ExecutionEnvironment\"))).canUseDOM?(h||(h=b(\"ErrorGuard\"))).applyWithGuard(this.$2,a,[c],{name:\"eventhandler:\"+c.type+\":\"+(typeof a.name==\"string\"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);\n__d(\"TrustedTypesLinkTagHTMLPolicy\",[\"TrustedTypes\",\"err\"],(function(a,b,c,d,e,f,g){\"use strict\";a={createHTML:function(a){if(a===\"<link \/>\")return a;throw c(\"err\")(\"Violating Trusted Type policies. Only works for '<link \/>' strings.\")}};b=c(\"TrustedTypes\").createPolicy(\"link-tag-html\",a);d=b;g[\"default\"]=d}),98);\n__d(\"getMarkupWrap\",[\"invariant\",\"ExecutionEnvironment\",\"TrustedTypesLinkTagHTMLPolicy\"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c(\"ExecutionEnvironment\")).canUseDOM?document.createElement(\"div\"):null,k={};b=[1,'<select multiple=\"true\">',\"<\/select>\"];d=[1,\"<table>\",\"<\/table>\"];e=[3,\"<table><tbody><tr>\",\"<\/tr><\/tbody><\/table>\"];var l=[1,'<svg xmlns=\"http:\/\/www.w3.org\/2000\/svg\">',\"<\/svg>\"],m={\"*\":[1,\"?<div>\",\"<\/div>\"],area:[1,\"<map>\",\"<\/map>\"],col:[2,\"<table><tbody><\/tbody><colgroup>\",\"<\/colgroup><\/table>\"],legend:[1,\"<fieldset>\",\"<\/fieldset>\"],param:[1,\"<object>\",\"<\/object>\"],tr:[2,\"<table><tbody>\",\"<\/tbody><\/table>\"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=[\"circle\",\"clipPath\",\"defs\",\"ellipse\",\"g\",\"image\",\"line\",\"linearGradient\",\"mask\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialGradient\",\"rect\",\"stop\",\"text\",\"tspan\"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a=\"*\");Object.prototype.hasOwnProperty.call(k,a)||(a===\"*\"?j.innerHTML=c(\"TrustedTypesLinkTagHTMLPolicy\").createHTML(\"<link \/>\"):j.innerHTML=\"<\"+a+\"><\/\"+a+\">\",k[a]=!j.firstChild);return k[a]?m[a]:null}g[\"default\"]=a}),98);\n__d(\"createNodesFromMarkup\",[\"invariant\",\"ExecutionEnvironment\",\"TrustedTypesNoOpPolicy_DO_NOT_USE\",\"getMarkupWrap\"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c(\"ExecutionEnvironment\")).canUseDOM?document.createElement(\"div\"):null,k=\/^\\s*<(\\w+)\/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c(\"getMarkupWrap\")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c(\"TrustedTypesNoOpPolicy_DO_NOT_USE\").createHTML(a);e=d.getElementsByTagName(\"script\");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g[\"default\"]=a}),98);\n__d(\"evalGlobal\",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!==\"string\")throw new TypeError(\"JS sent to evalGlobal is not a string. Only strings are permitted.\");if(!a)return;var b=document.createElement(\"script\");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName(\"head\")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f[\"default\"]=a}),66);\n__d(\"HTML\",[\"invariant\",\"Bootloader\",\"FBLogger\",\"createNodesFromMarkup\",\"emptyFunction\",\"evalGlobal\"],(function(a,b,c,d,e,f,g){var h=\/(<(\\w+)[^>]*?)\\\/>\/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){\"use strict\";function a(c){c&&typeof c.__html===\"string\"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d===\"string\"||g(0,277,d)}this._markup=c||\"\";this._defer=!1;this._nodes=null;this._inlineJS=b(\"emptyFunction\");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+\"><\/\"+c+\">\"}),c=null;a=b(\"createNodesFromMarkup\")(a,function(a){b(\"FBLogger\")(\"staticresources\").warn(\"HTML: encountered script node while parsing, hasSrc=%s, type=%s\",Boolean(a.src),a.type==null||a.type===\"\"?\"<unknown>\":a.type),a.type!==\"application\/ld+json\"&&a.type!==\"application\/json\"&&(c=c||[],c.push(a.src?b(\"Bootloader\").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b(\"Bootloader\"),a.src):b(\"evalGlobal\").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);\n__d(\"TrustedTypesIEFixDOMPolicy\",[\"TrustedTypes\"],(function(a,b,c,d,e,f,g){\"use strict\";a={createHTML:function(a){return a}};b=c(\"TrustedTypes\").createPolicy(\"dom-ie-fix\",a);d=b;g[\"default\"]=d}),98);\n__d(\"UserAgent_DEPRECATED\",[],(function(a,b,c,d,e,f){var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=\/(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))\/.exec(a),c=\/(Mac OS X)|(Windows)|(Linux)\/.exec(a);s=\/\\b(iPhone|iP[ao]d)\/.exec(a);t=\/\\b(iP[ao]d)\/.exec(a);q=\/Android\/i.exec(a);u=\/FBAN\\\/\\w+;\/i.exec(a);v=\/FBAN\\\/mLite;\/i.exec(a);w=\/Mobile\/i.exec(a);r=!!\/Win64\/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=\/(?:Trident\\\/(\\d+.\\d+))\/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=\/(?:Chrome\\\/(\\d+\\.\\d+))\/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=\/(?:Mac OS X (\\d+(?:[._]\\d+)?))\/.exec(a);n=d?parseFloat(d[1].replace(\"_\",\".\")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I}),66);\n__d(\"isScalar\",[],(function(a,b,c,d,e,f){function a(a){return\/string|number|boolean\/.test(typeof a)}f[\"default\"]=a}),66);\n__d(\"DOM\",[\"$\",\"DOMQuery\",\"Event\",\"FBLogger\",\"FbtResultBase\",\"HTML\",\"TrustedTypesIEFixDOMPolicy\",\"UserAgent_DEPRECATED\",\"createArrayFromMixed\",\"fb-error\",\"isNode\",\"isScalar\",\"isTextNode\"],(function(a,b,c,d,e,f,g){a=function(a,b,c){a=document.createElement(a);b&&h.setAttributes(a,b);c!=null&&h.setContent(a,c);return a};var h={find:(b=d(\"DOMQuery\")).find,findPushSafe:b.findPushSafe,scry:b.scry,getSelection:b.getSelection,contains:b.contains,getRootElement:b.getRootElement,isNodeOfType:b.isNodeOfType,isInputNode:b.isInputNode,create:a,setAttributes:function(a,b){b.type&&(a.type=b.type);for(var d in b){var e=b[d],f=\/^on\/i.test(d);f&&typeof e!==\"function\"&&c(\"FBLogger\")(\"dom\").warn(\"Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s\",d,typeof e);if(d==\"type\")continue;else d==\"style\"?typeof e===\"string\"?a.style.cssText=e:Object.assign(a.style,e):f?c(\"Event\").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,b){if(!a)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element is not a node\"));return j(b,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,b){if(!a||!a.parentNode)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element does not have a parent\"));var d=a.parentNode;return j(b,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,b){if(!a||!a.parentNode)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element does not have a parent\"));var d=a.parentNode;return j(b,d,function(b){d.insertBefore(b,a)})},setContent:function(a,b){if(!a)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element is not a node\"));while(a.firstChild)i(a.firstChild);return h.appendContent(a,b)},appendContent:function(a,b){if(!a)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element is not a node\"));return j(b,a,function(b){a.appendChild(b)})},replace:function(a,b){if(!a||!a.parentNode)throw c(\"fb-error\").TAAL.blameToPreviousFile(new Error(\"reference element does not have a parent\"));var d=a.parentNode;return j(b,d,function(b){d.replaceChild(b,a)})},remove:function(a){i(typeof a===\"string\"?c(\"$\")(a):a)},empty:function(a){a=typeof a===\"string\"?c(\"$\")(a):a;while(a.firstChild)i(a.firstChild)}};function i(a){a.parentNode&&a.parentNode.removeChild(a)}function j(a,b,e){a=c(\"HTML\").replaceJSONWrapper(a);if(a instanceof c(\"HTML\")&&b.firstChild===null&&-1===a.toString().indexOf(\"<script\")){var f=d(\"UserAgent_DEPRECATED\").ie();if(!f||f>7&&!d(\"DOMQuery\").isNodeOfType(b,[\"table\",\"tbody\",\"thead\",\"tfoot\",\"tr\",\"select\",\"fieldset\"])){var g=f?'<em style=\"display:none;\">&nbsp;<\/em>':\"\";b.innerHTML=c(\"TrustedTypesIEFixDOMPolicy\").createHTML(g+a);f&&b.removeChild(b.firstChild);return Array.from(b.childNodes)}}else if(c(\"isTextNode\")(b)){b.data=a;return[a]}g=document.createDocumentFragment();var h;f=[];b=[];var i=!1;a=c(\"createArrayFromMixed\")(a);a.length===1&&a[0]instanceof c(\"FbtResultBase\")&&(a=a[0].getContents());for(var j=0;j<a.length;j++){h=c(\"HTML\").replaceJSONWrapper(a[j]);if(h instanceof c(\"HTML\")){b.push(h.getAction());var k=h.getNodes();!i&&h.hasInlineJs()&&(c(\"FBLogger\")(\"staticresources\").warn(\"DOM: adding HTML which contains inline JS\"),i=!0);for(var l=0;l<k.length;l++)f.push(k[l]),g.appendChild(k[l])}else if(c(\"isScalar\")(h)||h instanceof c(\"FbtResultBase\")){l=document.createTextNode(h);f.push(l);g.appendChild(l)}else c(\"isNode\")(h)?(f.push(h),g.appendChild(h)):(Array.isArray(h)&&c(\"FBLogger\")(\"dom\").warn(\"Nest arrays not supported\"),h!==null&&c(\"FBLogger\")(\"dom\").warn(\"No way to set content %s\",h))}e(g);b.forEach(function(a){a()});return f}e=h;g[\"default\"]=e}),98);\n__d(\"goURIWWW\",[\"URI\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;g[\"default\"]=(h||c(\"URI\")).go}),98);\n__d(\"EventProfilerSham\",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f[\"default\"]=b}),66);\/*FB_PKG_DELIM*\/\n__d(\"PolarisUserHoverCardStatisticsSectionQuery.graphql\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{defaultValue:null,kind:\"LocalArgument\",name:\"userID\"}],b=[{kind:\"Variable\",name:\"id\",variableName:\"userID\"}],c={alias:null,args:null,kind:\"ScalarField\",name:\"follower_count\",storageKey:null},d={alias:null,args:null,kind:\"ScalarField\",name:\"following_count\",storageKey:null},e={alias:null,args:null,kind:\"ScalarField\",name:\"media_count\",storageKey:null};return{fragment:{argumentDefinitions:a,kind:\"Fragment\",metadata:null,name:\"PolarisUserHoverCardStatisticsSectionQuery\",selections:[{alias:null,args:b,concreteType:\"XDTUserDict\",kind:\"LinkedField\",name:\"fetch__XDTUserDict\",plural:!1,selections:[c,d,e],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:a,kind:\"Operation\",name:\"PolarisUserHoverCardStatisticsSectionQuery\",selections:[{alias:null,args:b,concreteType:\"XDTUserDict\",kind:\"LinkedField\",name:\"fetch__XDTUserDict\",plural:!1,selections:[c,d,e,{alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null}],storageKey:null}]},params:{id:\"6697821680334660\",metadata:{},name:\"PolarisUserHoverCardStatisticsSectionQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"PolarisBarcelonaProfileBadgeStandaloneQuery.graphql\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{defaultValue:null,kind:\"LocalArgument\",name:\"userID\"}],b=[{kind:\"Variable\",name:\"id\",variableName:\"userID\"}];return{fragment:{argumentDefinitions:a,kind:\"Fragment\",metadata:null,name:\"PolarisBarcelonaProfileBadgeStandaloneQuery\",selections:[{alias:\"user\",args:b,concreteType:\"XDTUserDict\",kind:\"LinkedField\",name:\"fetch__XDTUserDict\",plural:!1,selections:[{args:null,kind:\"FragmentSpread\",name:\"PolarisBarcelonaProfileBadge_user\"}],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:a,kind:\"Operation\",name:\"PolarisBarcelonaProfileBadgeStandaloneQuery\",selections:[{alias:\"user\",args:b,concreteType:\"XDTUserDict\",kind:\"LinkedField\",name:\"fetch__XDTUserDict\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"text_post_app_badge_label\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"show_text_post_app_badge\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"username\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null}],storageKey:null}]},params:{id:\"7298566333519802\",metadata:{},name:\"PolarisBarcelonaProfileBadgeStandaloneQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"IGDSHoverCardContent.react\",[\"BaseContextualLayerOrientationContext\",\"react\",\"stylex\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||(i=d(\"react\"));b=i;var k=b.useContext,l=b.unstable_useMemoCache,m={root:{backgroundColor:\"xvbhtw8\",borderTopStartRadius:\"x1lq5wgf\",borderTopEndRadius:\"xgqcy7u\",borderBottomEndRadius:\"x30kzoy\",borderBottomStartRadius:\"x9jhf4c\",boxShadow:\"x1xcus5i\",paddingTop:\"xyamay9\",paddingEnd:\"x1pi30zi\",paddingBottom:\"x1l90r2v\",paddingStart:\"x1swvt13\",position:\"x1n2onr6\",$$css:!0},rootAbove:{top:\"x1v4kod4\",$$css:!0},rootBelow:{top:\"xfr5jun\",$$css:!0},rootEnd:{start:\"xr6gfmr\",left:null,right:null,$$css:!0},rootStart:{start:\"x1mb8mph\",left:null,right:null,$$css:!0}};function a(a){var b=l(9),d=a.children;a=a.xstyle;var e=k(c(\"BaseContextualLayerOrientationContext\"));e=e.position;var f=e===\"above\"&&m.rootAbove,g=e===\"below\"&&m.rootBelow,i=e===\"start\"&&m.rootStart;e=e===\"end\"&&m.rootEnd;var n;b[0]!==f||b[1]!==g||b[2]!==i||b[3]!==e||b[4]!==a?(n=(h||(h=c(\"stylex\")))([m.root,f,g,i,e,a]),b[0]=f,b[1]=g,b[2]=i,b[3]=e,b[4]=a,b[5]=n):n=b[5];b[6]!==n||b[7]!==d?(f=j.jsx(\"div\",{className:n,children:d}),b[6]=n,b[7]=d,b[8]=f):f=b[8];return f}g[\"default\"]=a}),98);\n__d(\"PolarisDynamicExplorePostModal.react\",[\"PolarisDynamicExploreMediaHelpers\",\"PolarisDynamicExploreTypes\",\"PolarisInstantPostModal.react\",\"PolarisIsLoggedInDesktop\",\"PolarisLinkBuilder\",\"PolarisPost.react\",\"PolarisReactRedux.react\",\"polarisDynamicExploreSelectors\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(7),e=a.analyticsContext,f=a.exploreGridQuery,g=a.exploreGridType,h=a.modalEntryPath,k=a.onClose,l=a.onOpen,m=a.postId;b[0]!==g||b[1]!==f?(a=function(a){return d(\"polarisDynamicExploreSelectors\").getPostModalCompatibleGridItemIds(a,g,f)},b[0]=g,b[1]=f,b[2]=a):a=b[2];a=d(\"PolarisReactRedux.react\").useSelector(a);var n;b[3]!==g||b[4]!==f||b[5]!==m?(n=function(a){return d(\"polarisDynamicExploreSelectors\").getGridItems(a,g,f).find(function(a){return d(\"PolarisDynamicExploreMediaHelpers\").getPostId(a)===m})},b[3]=g,b[4]=f,b[5]=m,b[6]=n):n=b[6];b=d(\"PolarisReactRedux.react\").useSelector(n);return b!=null&&j.jsx(c(\"PolarisInstantPostModal.react\"),{analyticsContext:e,combinedPostIds:a,dimensions:d(\"PolarisDynamicExploreMediaHelpers\").getPostDimensions(b),mediaLinkBuilder:d(\"PolarisLinkBuilder\").buildMediaLink,modalEntryPath:h,onClose:k,onlyReplaceModalHistory:g===d(\"PolarisDynamicExploreTypes\").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,onOpen:l,postCode:d(\"PolarisDynamicExploreMediaHelpers\").getPostCode(b),postId:m,children:j.jsx(c(\"PolarisPost.react\"),{analyticsContext:e+\"Modal\",autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),id:m,isVisible:!0,visiblePosition:0})})}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardButtonSection.react\",[\"IGDSAppMessengerPanoOutlineIcon.react\",\"IGDSButton.react\",\"IGDSDirectPanoOutlineIcon.react\",\"IGDSGlimmer.react\",\"PolarisConfig\",\"PolarisDirectStrings\",\"PolarisFollowButtonContainer.react\",\"PolarisLogger\",\"PolarisNavigationStrings\",\"PolarisRelationshipTypes\",\"gkx\",\"react\",\"usePolarisDirectFeatures\",\"usePolarisDirectMessageClick\",\"usePolarisSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k={glimmer:{borderTopStartRadius:\"x1lq5wgf\",borderTopEndRadius:\"xgqcy7u\",borderBottomEndRadius:\"x30kzoy\",borderBottomStartRadius:\"x9jhf4c\",height:\"x90ne7k\",width:\"xh8yej3\",$$css:!0}};function l(){var a=i(1),b;a[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=j.jsx(c(\"IGDSButton.react\"),{display:\"block\",fullWidth:!0,href:\"\/accounts\/edit\",label:d(\"PolarisNavigationStrings\").PROFILE_EDIT_TEXT,onClick:function(){d(\"PolarisLogger\").logAction(\"hoverCardInteraction\")},variant:\"secondary\"}),a[0]=b):b=a[0];return b}function m(a){var b=i(4),e=a.userId;a=a.username;var f;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=function(){d(\"PolarisLogger\").logAction(\"hoverCardInteraction\")},b[0]=f):f=b[0];a=(a=a)!=null?a:\"\";b[1]!==e||b[2]!==a?(f=j.jsx(c(\"PolarisFollowButtonContainer.react\"),{analyticsContext:\"UNKNOWN__POLARIS_USER_HOVER_CARD_BUTTON_SECTION\",fullWidth:!0,onClick:f,useFollowIcon:!0,userId:e,username:a}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function n(a){var b=i(7),e=a.interopMessagingUserFbid;a=a.userId;a=c(\"usePolarisDirectMessageClick\")(a,e);e=a[0];a=a[1];var f=c(\"usePolarisDirectFeatures\")();f=f.hasMessagingRedesign;f=f?c(\"IGDSAppMessengerPanoOutlineIcon.react\"):c(\"IGDSDirectPanoOutlineIcon.react\");var g;b[0]!==f?(g=j.jsx(f,{alt:\"\",color:\"web-always-white\",size:20}),b[0]=f,b[1]=g):g=b[1];f=c(\"gkx\")(\"966\")?a:!1;var h;b[2]!==g||b[3]!==f||b[4]!==a||b[5]!==e?(h=j.jsx(c(\"IGDSButton.react\"),{display:\"block\",fullWidth:!0,icon:g,isDisabled:f,isLoading:a,label:d(\"PolarisDirectStrings\").MESSAGE_STRING,onClick:e,variant:\"primary\"}),b[2]=g,b[3]=f,b[4]=a,b[5]=e,b[6]=h):h=b[6];return h}function o(a){var b,e=i(20),f=a.glimmerStartIndex,g=a.user,h=a.userId;e[0]!==h?(a=function(a){return a.relationships[h]},e[0]=h,e[1]=a):a=e[1];a=c(\"usePolarisSelector\")(a);var o=d(\"PolarisConfig\").getViewerId();if(h===o){e[2]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=j.jsx(l,{}),e[2]=o):o=e[2];return o}if((a==null?void 0:(o=a.followedByViewer)==null?void 0:o.state)==null||g==null){e[3]!==f?(o=j.jsx(c(\"IGDSGlimmer.react\"),{index:f,xstyle:k.glimmer}),e[3]=f,e[4]=o):o=e[4];return o}f=a.followedByViewer.state===d(\"PolarisRelationshipTypes\").FOLLOW_STATUS_FOLLOWING;o=g.aiAgentType!=null;a=c(\"gkx\")(\"25373\")===!0;b=(b=g.shouldRemoveMessageButtonRiskyInteraction)!=null?b:!1;if(!f||b||o&&!a){e[5]!==h||e[6]!==g.username?(f=j.jsx(m,{userId:h,username:g.username}),e[5]=h,e[6]=g.username,e[7]=f):f=e[7];return f}e[8]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=\"x78zum5\",e[8]=b):b=e[8];e[9]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=\"x1iyjqo2 xw3qccf x1ncir08\",e[9]=o):o=e[9];e[10]!==g.interopMessagingUserFbid||e[11]!==h?(a=j.jsx(\"div\",{className:o,children:j.jsx(n,{interopMessagingUserFbid:g.interopMessagingUserFbid,userId:h})}),e[10]=g.interopMessagingUserFbid,e[11]=h,e[12]=a):a=e[12];e[13]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=\"x1iyjqo2 xsgj6o6 x1ncir08\",e[13]=f):f=e[13];e[14]!==h||e[15]!==g.username?(o=j.jsx(\"div\",{className:f,children:j.jsx(m,{userId:h,username:g.username})}),e[14]=h,e[15]=g.username,e[16]=o):o=e[16];e[17]!==a||e[18]!==o?(f=j.jsxs(\"div\",{className:b,children:[a,o]}),e[17]=a,e[18]=o,e[19]=f):f=e[19];return f}function a(a){var b=i(5),c=a.glimmerStartIndex,d=a.user;a=a.userId;var e;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=\"x1swvt13 x1pi30zi\",b[0]=e):e=b[0];b[1]!==c||b[2]!==d||b[3]!==a?(e=j.jsx(\"div\",{className:e,children:j.jsx(o,{glimmerStartIndex:c,user:d,userId:a})}),b[1]=c,b[2]=d,b[3]=a,b[4]=e):e=b[4];return e}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardNoticeSection.react\",[\"CometImage.react\",\"IGDSText.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(11),d=a.description,e=a.icon;a=a.title;var f;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=\"x1bs97v6 x1q0q8m5 xso031l x5ur3kl x13fuv20 x178xt8z xrvj5dj x3pnbk8 x1o2pa38 xyamay9 x1pi30zi x1l90r2v x1swvt13 x2b8uid\",b[0]=f):f=b[0];var g;b[1]!==e?(g=j.jsx(c(\"CometImage.react\"),{alt:\"\",height:48,src:e,width:48}),b[1]=e,b[2]=g):g=b[2];b[3]!==a?(e=j.jsx(c(\"IGDSText.react\"),{weight:\"bold\",children:a}),b[3]=a,b[4]=e):e=b[4];b[5]!==d?(a=j.jsx(c(\"IGDSText.react\"),{color:\"secondaryText\",children:d}),b[5]=d,b[6]=a):a=b[6];b[7]!==g||b[8]!==e||b[9]!==a?(d=j.jsxs(\"div\",{className:f,children:[g,e,a]}),b[7]=g,b[8]=e,b[9]=a,b[10]=d):d=b[10];return d}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardStrings\",[\"fbt\"],(function(a,b,c,d,e,f,g,h){\"use strict\";b=h._(\"__JHASH__tk6YGldFWHI__JHASH__\");c=h._(\"__JHASH__1eydgvdFVJo__JHASH__\");d=h._(\"__JHASH__2cQUsCR4pd6__JHASH__\");function a(a){return h._(\"__JHASH__bQ_F-fLfH80__JHASH__\",[h._param(\"Username of current user\",a)])}g.PRIVATE_ACCOUNT_TITLE=b;g.PRIVATE_ACCOUNT_SUBTEXT=c;g.NO_POSTS_TITLE=d;g.noPostsSubtext=a}),226);\n__d(\"PolarisUserHoverCardPostsSection.react\",[\"ix\",\"CometImage.react\",\"IGDSGlimmer.react\",\"PolarisFastLink.react\",\"PolarisLinkBuilder\",\"PolarisLogger\",\"PolarisRelationshipTypes\",\"PolarisUserHoverCardNoticeSection.react\",\"PolarisUserHoverCardStrings\",\"polarisPostSelectors\",\"react\",\"usePolarisSelector\",\"usePolarisViewer\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i,l={glimmer:{borderTopStartRadius:\"x168nmei\",borderTopEndRadius:\"x13lgxp2\",borderBottomEndRadius:\"x5pf9jr\",borderBottomStartRadius:\"xo71vjh\",height:\"x1wkxgih\",width:\"xygnafs\",$$css:!0}};function m(a){var b=j(10),e=a.postId;b[0]!==e?(a=function(a){return d(\"polarisPostSelectors\").getPostOrNullById(a,e)},b[0]=e,b[1]=a):a=b[1];a=c(\"usePolarisSelector\")(a);var f=a==null?void 0:a.src;if(f==null||(a==null?void 0:a.code)==null){var g;b[2]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=k.jsx(\"div\",{className:\"xnz67gz x78zum5 x1wkxgih x162lpob\"}),b[2]=g):g=b[2];return g}g=d(\"PolarisLinkBuilder\").buildMediaLink(a.code);b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=\"xnz67gz x78zum5 x1wkxgih x162lpob\",b[3]=a):a=b[3];var h;b[4]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(h=function(){d(\"PolarisLogger\").logAction(\"hoverCardInteraction\")},b[4]=h):h=b[4];var i;b[5]!==f?(i=k.jsx(c(\"CometImage.react\"),{height:120,objectFit:\"cover\",src:f,width:120}),b[5]=f,b[6]=i):i=b[6];b[7]!==g||b[8]!==i?(f=k.jsx(c(\"PolarisFastLink.react\"),{className:a,href:g,onClick:h,children:i}),b[7]=g,b[8]=i,b[9]=f):f=b[9];return f}function a(a){var b=j(26),e=a.glimmerStartIndex,f=a.postIds,g=a.user,i=a.userId;a=c(\"usePolarisViewer\")();var n;b[0]!==i?(n=function(a){return a.relationships[i]},b[0]=i,b[1]=n):n=b[1];n=c(\"usePolarisSelector\")(n);if(g!=null&&g.id!==(a==null?void 0:a.id)&&g.isPrivate===!0&&n!=null&&n.followedByViewer.state!==d(\"PolarisRelationshipTypes\").FOLLOW_STATUS_FOLLOWING){b[2]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=h(\"295615\"),b[2]=a):a=b[2];b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=k.jsx(c(\"PolarisUserHoverCardNoticeSection.react\"),{description:d(\"PolarisUserHoverCardStrings\").PRIVATE_ACCOUNT_SUBTEXT,icon:a,title:d(\"PolarisUserHoverCardStrings\").PRIVATE_ACCOUNT_TITLE}),b[3]=a):a=b[3];return a}if(f==null||n==null||g==null){b[4]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(a=\"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7\",b[4]=a):a=b[4];b[5]!==e?(n=k.jsx(c(\"IGDSGlimmer.react\"),{index:e,xstyle:l.glimmer}),b[5]=e,b[6]=n):n=b[6];var o=e+1,p;b[7]!==o?(p=k.jsx(c(\"IGDSGlimmer.react\"),{index:o,xstyle:l.glimmer}),b[7]=o,b[8]=p):p=b[8];o=e+2;b[9]!==o?(e=k.jsx(c(\"IGDSGlimmer.react\"),{index:o,xstyle:l.glimmer}),b[9]=o,b[10]=e):e=b[10];b[11]!==n||b[12]!==p||b[13]!==e?(o=k.jsxs(\"div\",{className:a,children:[n,p,e]}),b[11]=n,b[12]=p,b[13]=e,b[14]=o):o=b[14];return o}if(f.length===0){if(g.username==null)return null;b[15]!==g.username?(a=d(\"PolarisUserHoverCardStrings\").noPostsSubtext(g.username),b[15]=g.username,b[16]=a):a=b[16];b[17]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(n=h(\"295614\"),b[17]=n):n=b[17];b[18]!==a?(p=k.jsx(c(\"PolarisUserHoverCardNoticeSection.react\"),{description:a,icon:n,title:d(\"PolarisUserHoverCardStrings\").NO_POSTS_TITLE}),b[18]=a,b[19]=p):p=b[19];return p}b[20]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=\"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7\",b[20]=e):e=b[20];if(b[21]!==f){b[23]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=function(a){return k.jsx(m,{postId:a},a)},b[23]=o):o=b[23];g=f.map(o);b[21]=f;b[22]=g}else g=b[22];b[24]!==g?(n=k.jsx(\"div\",{className:e,children:g}),b[24]=g,b[25]=n):n=b[25];return n}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardStatisticsSection.react\",[\"fbt\",\"CometPlaceholder.react\",\"CometRelay\",\"IGDSGlimmer.react\",\"IGDSText.react\",\"PolarisBigNumber.react\",\"PolarisUserHoverCardStatisticsSectionQuery.graphql\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j,k=(j||(j=d(\"react\"))).unstable_useMemoCache,l=j,m={statisticCountGlimmer:{borderTopStartRadius:\"x1lcm9me\",borderTopEndRadius:\"x1yr5g0i\",borderBottomEndRadius:\"xrt01vj\",borderBottomStartRadius:\"x10y3i5r\",height:\"x1v9usgg\",marginStart:\"x1gryazu\",marginLeft:null,marginRight:null,marginEnd:\"xkrivgy\",width:\"x100vrsf\",$$css:!0},statisticLabelGlimmer:{borderTopStartRadius:\"x1lcm9me\",borderTopEndRadius:\"x1yr5g0i\",borderBottomEndRadius:\"xrt01vj\",borderBottomStartRadius:\"x10y3i5r\",height:\"x1v9usgg\",marginStart:\"x1gryazu\",marginLeft:null,marginRight:null,marginEnd:\"xkrivgy\",marginTop:\"x1gslohp\",width:\"x1fu8urw\",$$css:!0}};function n(a){var b=k(8);a=a.glimmerStartIndex;var d;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=\"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid\",b[0]=d):d=b[0];var e;b[1]!==a?(e=l.jsx(c(\"IGDSGlimmer.react\"),{index:a,xstyle:m.statisticCountGlimmer}),b[1]=a,b[2]=e):e=b[2];a=a+1;var f;b[3]!==a?(f=l.jsx(c(\"IGDSGlimmer.react\"),{index:a,xstyle:m.statisticLabelGlimmer}),b[3]=a,b[4]=f):f=b[4];b[5]!==e||b[6]!==f?(a=l.jsxs(\"div\",{className:d,children:[e,f]}),b[5]=e,b[6]=f,b[7]=a):a=b[7];return a}function o(a){var b=k(9),d=a.count;a=a.label;var e;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=\"xexx8yu x1sxyh0 x18d9i69 xurb0ha x2b8uid\",b[0]=e):e=b[0];var f;b[1]!==d?(f=l.jsx(\"div\",{children:l.jsx(c(\"IGDSText.react\"),{weight:\"bold\",children:l.jsx(c(\"PolarisBigNumber.react\"),{shortenNumber:!0,value:d})})}),b[1]=d,b[2]=f):f=b[2];b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=\"x1gslohp\",b[3]=d):d=b[3];b[4]!==a?(d=l.jsx(\"div\",{className:d,children:l.jsx(c(\"IGDSText.react\"),{children:a})}),b[4]=a,b[5]=d):d=b[5];b[6]!==f||b[7]!==d?(a=l.jsxs(\"div\",{className:e,children:[f,d]}),b[6]=f,b[7]=d,b[8]=a):a=b[8];return a}function p(a){var c,e,f=k(19);a=a.userId;a=d(\"CometRelay\").useLazyLoadQuery(i!==void 0?i:i=b(\"PolarisUserHoverCardStatisticsSectionQuery.graphql\"),{userID:a});a=a.fetch__XDTUserDict;c=(c=a==null?void 0:a.media_count)!=null?c:0;e=(e=a==null?void 0:a.follower_count)!=null?e:0;a=(a=a==null?void 0:a.following_count)!=null?a:0;if(f[0]!==c){var g;g=h._(\"__JHASH__4TvrpCYBYlw__JHASH__\",[h._plural((g=c)!=null?g:0)]);f[0]=c;f[1]=g}else g=f[1];var j;f[2]!==c||f[3]!==g?(j=l.jsx(o,{count:c,label:g}),f[2]=c,f[3]=g,f[4]=j):j=f[4];if(f[5]!==e){g=h._(\"__JHASH__iPewtgDkrBS__JHASH__\",[h._plural((c=e)!=null?c:0)]);f[5]=e;f[6]=g}else g=f[6];f[7]!==e||f[8]!==g?(c=l.jsx(o,{count:e,label:g}),f[7]=e,f[8]=g,f[9]=c):c=f[9];if(f[10]!==a){g=h._(\"__JHASH__5OGpybB5qMf__JHASH__\",[h._plural((e=a)!=null?e:0)]);f[10]=a;f[11]=g}else g=f[11];f[12]!==a||f[13]!==g?(e=l.jsx(o,{count:a,label:g}),f[12]=a,f[13]=g,f[14]=e):e=f[14];f[15]!==j||f[16]!==c||f[17]!==e?(a=l.jsxs(l.Fragment,{children:[j,c,e]}),f[15]=j,f[16]=c,f[17]=e,f[18]=a):a=f[18];return a}function a(a){var b=k(16),d=a.glimmerStartIndex;a=a.userId;var e;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=\"x6s0dn4 xrvj5dj x1ihrfj4 x1rp53t7\",b[0]=e):e=b[0];var f;b[1]!==d?(f=l.jsx(n,{glimmerStartIndex:d}),b[1]=d,b[2]=f):f=b[2];var g=d+1,h;b[3]!==g?(h=l.jsx(n,{glimmerStartIndex:g}),b[3]=g,b[4]=h):h=b[4];g=d+2;b[5]!==g?(d=l.jsx(n,{glimmerStartIndex:g}),b[5]=g,b[6]=d):d=b[6];b[7]!==f||b[8]!==h||b[9]!==d?(g=l.jsxs(l.Fragment,{children:[f,h,d]}),b[7]=f,b[8]=h,b[9]=d,b[10]=g):g=b[10];b[11]!==a?(f=l.jsx(p,{userId:a}),b[11]=a,b[12]=f):f=b[12];b[13]!==g||b[14]!==f?(h=l.jsx(\"div\",{className:e,children:l.jsx(c(\"CometPlaceholder.react\"),{fallback:g,children:f})}),b[13]=g,b[14]=f,b[15]=h):h=b[15];return h}g[\"default\"]=a}),226);\n__d(\"PolarisUserHoverCardUserInfoSection.react\",[\"IGDSGlimmer.react\",\"IGDSText.react\",\"IGDSVerifiedBadge.react\",\"PolarisErrorBoundary.react\",\"PolarisFastLink.react\",\"PolarisLogger\",\"PolarisSponsoredPostContext.react\",\"PolarisUserAvatarWithStories.react\",\"cr:9673\",\"isStringNullOrWhitespaceOnly\",\"react\",\"usePolarisTrackingDataProfileURLParams\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));e=h;var j=e.useContext,k=e.unstable_useMemoCache,l={barcelonaProfileBadge:{maxWidth:\"x1dc814f\",$$css:!0},fullNameGlimmer:{borderTopStartRadius:\"x1lcm9me\",borderTopEndRadius:\"x1yr5g0i\",borderBottomEndRadius:\"xrt01vj\",borderBottomStartRadius:\"x10y3i5r\",height:\"xlup9mm\",marginTop:\"x1gslohp\",width:\"xzjbwwf\",$$css:!0},profilePictureGlimmer:{borderTopStartRadius:\"xv4rd2r\",borderTopEndRadius:\"x19baegm\",borderBottomEndRadius:\"x1vswc8w\",borderBottomStartRadius:\"x1jq0agw\",height:\"xnnlda6\",width:\"x15yg21f\",$$css:!0},usernameGlimmer:{borderTopStartRadius:\"x1lcm9me\",borderTopEndRadius:\"x1yr5g0i\",borderBottomEndRadius:\"xrt01vj\",borderBottomStartRadius:\"x10y3i5r\",height:\"xlup9mm\",width:\"xja02kk\",$$css:!0}};function a(a){var e=k(19),f=a.glimmerStartIndex,g=a.user;a=a.userID;var h=g==null?void 0:g.fullName,m=g==null?void 0:g.username,n=g==null?void 0:g.isVerified,o=g==null?void 0:g.profilePictureUrl,p=j(d(\"PolarisSponsoredPostContext.react\").PolarisSponsoredPostContext),q=p.canUserSeePersistentCta;p=p.socialContextType;q=d(\"usePolarisTrackingDataProfileURLParams\").usePolarisTrackingDataProfileURLParams(q,\"feed\",p);e[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(p=\"x6s0dn4 xfex06f xrvj5dj x1wdtju6 x1swvt13 x1pi30zi\",e[0]=p):p=e[0];var r;e[1]!==o||e[2]!==f||e[3]!==g?(r=o==null?i.jsx(c(\"IGDSGlimmer.react\"),{index:f,xstyle:l.profilePictureGlimmer}):i.jsx(c(\"PolarisUserAvatarWithStories.react\"),{isClickable:!0,profilePictureUrl:o,size:56,storyEntrypoint:\"user_hover_card\",userId:g==null?void 0:g.id,username:g==null?void 0:g.username}),e[1]=o,e[2]=f,e[3]=g,e[4]=r):r=e[4];e[5]!==r?(o=i.jsx(\"div\",{children:r}),e[5]=r,e[6]=o):o=e[6];e[7]!==m||e[8]!==f||e[9]!==q||e[10]!==n||e[11]!==h||e[12]!==a?(g=m==null?i.jsxs(i.Fragment,{children:[i.jsx(c(\"IGDSGlimmer.react\"),{index:f+1,xstyle:l.usernameGlimmer}),i.jsx(c(\"IGDSGlimmer.react\"),{index:f+2,xstyle:l.fullNameGlimmer})]}):i.jsxs(i.Fragment,{children:[i.jsxs(\"div\",{className:\"x6s0dn4 x78zum5 xmix8c7\",children:[i.jsx(c(\"PolarisFastLink.react\"),{href:\"\/\"+m,onClick:function(){d(\"PolarisLogger\").logAction(\"hoverCardInteraction\")},params:q,children:i.jsx(c(\"IGDSText.react\").LabelEmphasized,{children:m})}),n===!0&&i.jsx(\"span\",{className:\"xsgj6o6\",children:i.jsx(c(\"IGDSVerifiedBadge.react\"),{})})]}),c(\"isStringNullOrWhitespaceOnly\")(h)?null:i.jsx(\"div\",{className:\"xmix8c7 x1gslohp x1rva8in\",children:i.jsx(c(\"IGDSText.react\"),{color:\"secondaryText\",maxLines:1,textAlign:\"start\",children:h})}),b(\"cr:9673\")&&i.jsx(c(\"PolarisErrorBoundary.react\"),{children:i.jsx(\"div\",{className:\"x78zum5 x1iorvi4\",children:i.jsx(b(\"cr:9673\"),{userID:a,xstyle:l.barcelonaProfileBadge})})})]}),e[7]=m,e[8]=f,e[9]=q,e[10]=n,e[11]=h,e[12]=a,e[13]=g):g=e[13];e[14]!==g?(r=i.jsx(\"div\",{children:i.jsx(\"div\",{children:g})}),e[14]=g,e[15]=r):r=e[15];e[16]!==o||e[17]!==r?(m=i.jsxs(\"div\",{className:p,children:[o,r]}),e[16]=o,e[17]=r,e[18]=m):m=e[18];return m}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardContent.react\",[\"PolarisAdsGatingHelpers\",\"PolarisLogger\",\"PolarisProfilePostsActions\",\"PolarisProfilePostsSelectors.react\",\"PolarisReactRedux.react\",\"PolarisRelationshipActionGetRelationshipInfoWithViewerByUserId\",\"PolarisUserActionGetUserInfo\",\"PolarisUserHoverCardButtonSection.react\",\"PolarisUserHoverCardPostsSection.react\",\"PolarisUserHoverCardStatisticsSection.react\",\"PolarisUserHoverCardUserInfoSection.react\",\"polarisUserSelectors\",\"react\",\"usePolarisSelector\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(44),e=a.userId;a=k(null);var f;b[0]!==e?(f=function(a){return d(\"polarisUserSelectors\").maybeGetUserById(a,e)},b[0]=e,b[1]=f):f=b[1];f=c(\"usePolarisSelector\")(f);var g=d(\"PolarisReactRedux.react\").useDispatch(),h;b[2]!==e?(h=function(a){return d(\"PolarisProfilePostsSelectors.react\").getUserHoverCardProfilePostsForUserId(a,e)},b[2]=e,b[3]=h):h=b[3];h=c(\"usePolarisSelector\")(h);h=h.postIds;var m=h==null,n=f==null||f.isVerified==null||f.profilePictureUrl==null||f.username==null||f.interopMessagingUserFbid==null,o;b[4]!==e?(o=function(a){return a.relationships[e]},b[4]=e,b[5]=o):o=b[5];o=c(\"usePolarisSelector\")(o);var p=(o==null?void 0:o.followedByViewer.state)==null,q;b[6]!==m||b[7]!==g||b[8]!==e?(o=function(){m&&g(d(\"PolarisProfilePostsActions\").requestProfilePostsV2(e))},q=[g,m,e],b[6]=m,b[7]=g,b[8]=e,b[9]=o,b[10]=q):(o=b[9],q=b[10]);j(o,q);b[11]!==n||b[12]!==g||b[13]!==e?(o=function(){n&&g(d(\"PolarisUserActionGetUserInfo\").getUserInfo(e))},q=[g,n,e],b[11]=n,b[12]=g,b[13]=e,b[14]=o,b[15]=q):(o=b[14],q=b[15]);j(o,q);b[16]!==p||b[17]!==g||b[18]!==e?(o=function(){p&&g(d(\"PolarisRelationshipActionGetRelationshipInfoWithViewerByUserId\").getRelationshipInfoWithViewerByUserId(e))},q=[g,p,e],b[16]=p,b[17]=g,b[18]=e,b[19]=o,b[20]=q):(o=b[19],q=b[20]);j(o,q);var r=k(!1);b[21]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=function(){r.current===!1&&(r.current=!0,d(\"PolarisLogger\").logAction(\"hoverCardTriggered\"))},q=[],b[21]=o,b[22]=q):(o=b[21],q=b[22]);j(o,q);b[23]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(o=\"x6s0dn4 xrvj5dj x1dh5ka xyamay9 x1l90r2v xgpatz3 x1mu97ne\",q=function(a){d(\"PolarisAdsGatingHelpers\").enableFeedProfileTapTargetExpansion()&&a.stopPropagation()},b[23]=o,b[24]=q):(o=b[23],q=b[24]);var s;b[25]!==f||b[26]!==e?(s=i.jsx(\"div\",{children:i.jsx(c(\"PolarisUserHoverCardUserInfoSection.react\"),{glimmerStartIndex:0,user:f,userID:e})}),b[25]=f,b[26]=e,b[27]=s):s=b[27];var t;b[28]!==f||b[29]!==e?(t=i.jsx(\"div\",{children:i.jsx(c(\"PolarisUserHoverCardStatisticsSection.react\"),{glimmerStartIndex:3,user:f,userId:e})}),b[28]=f,b[29]=e,b[30]=t):t=b[30];var u;b[31]!==h||b[32]!==f||b[33]!==e?(u=i.jsx(\"div\",{children:i.jsx(c(\"PolarisUserHoverCardPostsSection.react\"),{glimmerStartIndex:6,postIds:h,user:f,userId:e})}),b[31]=h,b[32]=f,b[33]=e,b[34]=u):u=b[34];b[35]!==f||b[36]!==e?(h=i.jsx(\"div\",{children:i.jsx(c(\"PolarisUserHoverCardButtonSection.react\"),{glimmerStartIndex:9,user:f,userId:e})}),b[35]=f,b[36]=e,b[37]=h):h=b[37];b[38]!==a||b[39]!==s||b[40]!==t||b[41]!==u||b[42]!==h?(f=i.jsxs(\"div\",{className:o,onClick:q,ref:a,children:[s,t,u,h]}),b[38]=a,b[39]=s,b[40]=t,b[41]=u,b[42]=h,b[43]=f):f=b[43];return f}g[\"default\"]=a}),98);\n__d(\"PolarisUserHoverCardImpl.react\",[\"IGDSHoverCardContent.react\",\"PolarisUserHoverCardContent.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h,k={content:{paddingTop:\"xexx8yu\",paddingEnd:\"x4uap5\",paddingBottom:\"x18d9i69\",paddingStart:\"xkhd6sd\",$$css:!0}};function a(a){var b=i(2);a=a.userId;var d;b[0]!==a?(d=j.jsx(c(\"IGDSHoverCardContent.react\"),{xstyle:k.content,children:j.jsx(c(\"PolarisUserHoverCardContent.react\"),{userId:a})}),b[0]=a,b[1]=d):d=b[1];return d}g[\"default\"]=a}),98);\n__d(\"PolarisBarcelonaProfileBadgeStandalone.react\",[\"CometRelay\",\"PolarisBarcelonaProfileBadge.react\",\"PolarisBarcelonaProfileBadgeStandaloneQuery.graphql\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i,l=h!==void 0?h:h=b(\"PolarisBarcelonaProfileBadgeStandaloneQuery.graphql\");function a(a){var b=j(6),e,f;b[0]!==a?(e=a.userID,f=babelHelpers.objectWithoutPropertiesLoose(a,[\"userID\"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=d(\"CometRelay\").useLazyLoadQuery(l,{userID:e});b[3]!==a.user||b[4]!==f?(e=k.jsx(c(\"PolarisBarcelonaProfileBadge.react\"),babelHelpers[\"extends\"]({user$key:a.user},f)),b[3]=a.user,b[4]=f,b[5]=e):e=b[5];return e}g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"PolarisAPIGetFrCookieQuery.graphql\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{defaultValue:null,kind:\"LocalArgument\",name:\"_request_data\"},{defaultValue:null,kind:\"LocalArgument\",name:\"payload\"}],b=[{alias:null,args:[{kind:\"Variable\",name:\"_request_data\",variableName:\"_request_data\"},{kind:\"Variable\",name:\"payload\",variableName:\"payload\"}],concreteType:\"XDTGetEncryptedCredentialsResponse\",kind:\"LinkedField\",name:\"xdt_api__v1__web__accounts__get_encrypted_credentials\",plural:!1,selections:[{alias:null,args:null,kind:\"ScalarField\",name:\"fr\",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:\"Fragment\",metadata:null,name:\"PolarisAPIGetFrCookieQuery\",selections:b,type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:a,kind:\"Operation\",name:\"PolarisAPIGetFrCookieQuery\",selections:b},params:{id:\"6534825339958064\",metadata:{},name:\"PolarisAPIGetFrCookieQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"BTManifestName\",[\"$InternalEnum\"],(function(a,b,c,d,e,f){a=b(\"$InternalEnum\")({MAIN:\"main\",LONGTAIL:\"longtail\"});c=a;f[\"default\"]=c}),66);\n__d(\"BtLongtailHashFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5779\");b=d(\"FalcoLoggerInternal\").create(\"bt_longtail_hash\",a);e=b;g[\"default\"]=e}),98);\n__d(\"CometBTManifestLoader\",[\"BootloaderEvents\",\"BtLongtailHashFalcoEvent\",\"ClientConsistencyEventEmitter\",\"FBLogger\",\"ODS\",\"Promise\",\"SiteData\",\"XHRRequest\",\"asyncToGeneratorRuntime\",\"err\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=new Set();function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,d,e,f){var g=(yield new(i||(i=b(\"Promise\")))(function(b,g){new(c(\"XHRRequest\"))(a+\"\/btmanifest\/\"+e+\"\/\"+d+\"\/\"+f).setMethod(\"GET\").setResponseHandler(function(a){return b(a.toString())}).setErrorHandler(function(a){return g(a)}).send()}));if(typeof g!==\"string\")throw c(\"FBLogger\")(\"binary_transparency\",\"bt_invalid_manifest_response\").mustfixThrow(\"Invalid response from BT manifest endpoint\");return g});return l.apply(this,arguments)}function m(a,b){(h||(h=d(\"ODS\"))).bumpEntityKey(454,\"obc.www.all\",\"bt.comet_manifest_loader.\"+Number(d(\"SiteData\").compose_bootloads)+\".\"+d(\"SiteData\").pkg_cohort+\".\"+a+\".\"+b)}function n(a,b,d){var e;if(d instanceof Error)e=d;else if(typeof d===\"object\"){var f=JSON.stringify(d);e=c(\"err\")(\"(XHRRequest): %s\",f.slice(0,300)+(f.length>300?\"...\":\"\"))}else e=c(\"err\")(d);c(\"FBLogger\")(\"binary_transparency\",\"bt_download_manifest_error\").catching(e).mustfix('Unable to download and inject BT manifest \"%s\" for version: %s',b,a)}function o(a,b){return p.apply(this,arguments)}function p(){p=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){if(!d(\"SiteData\").manifest_origin||d(\"SiteData\").manifest_version_prefix==null||d(\"SiteData\").manifest_base_uri==null)return;var c=a+\"_\"+b;a=\"\"+d(\"SiteData\").manifest_version_prefix+a;if(j.has(c))return;m(b,\"start\");j.add(c);try{var e,f=document.createElement(\"script\");f.innerText=(yield k(d(\"SiteData\").manifest_base_uri,d(\"SiteData\").manifest_origin,a,b));f.type=\"application\/json\";f.setAttribute(\"name\",\"binary-transparency-manifest\");f.dataset.manifestRev=a;f.dataset.manifestType=b;(e=document.head)==null?void 0:e.appendChild(f);m(b,\"complete\")}catch(d){m(b,\"failed\"),n(a,b,d),j[\"delete\"](c)}});return p.apply(this,arguments)}function a(){c(\"promiseDone\")(o(d(\"SiteData\").client_revision,\"main\")),d(\"BootloaderEvents\").onResourceInLongTailBTManifest(function(a){c(\"promiseDone\")(o(d(\"SiteData\").client_revision,\"longtail\")),a.hashes.forEach(function(b){c(\"BtLongtailHashFalcoEvent\").log(function(){return{client_revision:String(d(\"SiteData\").client_revision),compose_bootloads:d(\"SiteData\").compose_bootloads,ef_page:d(\"SiteData\").ef_page||\"\",hash:b,pkg_cohort:d(\"SiteData\").pkg_cohort,reference:a.source,rls_id:d(\"SiteData\").hsi}})})}),c(\"ClientConsistencyEventEmitter\").addListener(\"newRevision\",function(a){c(\"promiseDone\")(o(a,\"main\")),c(\"promiseDone\")(o(a,\"longtail\"))})}g.init=a}),98);\n__d(\"PolarisFeedPagePostModal.react\",[\"PolarisErrorBoundary.react\",\"PolarisIsLoggedInDesktop\",\"PolarisLinkBuilder\",\"PolarisMonitorErrors\",\"PolarisPanavisionQEHelpers\",\"PolarisPost.react\",\"PolarisPostModal.react\",\"PolarisReactRedux.react\",\"PolarisRoutes\",\"PolarisSponsoredPost.react\",\"err\",\"nullthrows\",\"polarisPostSelectors\",\"react\",\"usePolarisFeedAnalyticsContext\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b,e=k(17),f=a.onClose,g=a.onOpen,h=a.postId;a=a.sidecarIndex;var l,m;e[0]!==f?(l=function(){return function(){f()}},m=[f],e[0]=f,e[1]=l,e[2]=m):(l=e[1],m=e[2]);j(l,m);e[3]!==h?(l=function(a){return d(\"polarisPostSelectors\").getPostById(a,h)},e[3]=h,e[4]=l):l=e[4];m=c(\"nullthrows\")(d(\"PolarisReactRedux.react\").useSelector(l));e[5]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(l=function(a){return a.ads.feed},e[5]=l):l=e[5];l=d(\"PolarisReactRedux.react\").useSelector(l);var n=new Set(Array.from(l.keys()));l=m.code;m=m.dimensions;var o=c(\"usePolarisFeedAnalyticsContext\")(),p=function(a){d(\"PolarisMonitorErrors\").logError(a),d(\"PolarisPanavisionQEHelpers\").hasPolarisFeedRevamp()&&(n.has(h)?d(\"PolarisMonitorErrors\").logError(c(\"err\")(\"PolarisFeedPagePostModal.react threw an error for ad in Relay\",h)):d(\"PolarisMonitorErrors\").logError(c(\"err\")(\"PolarisFeedPagePostModal.react threw an error for post in Relay\",h)))};l=l||\"\";a=n.has(h)?i.jsx(c(\"PolarisSponsoredPost.react\"),{analyticsContext:o+\"Modal\",autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),id:h,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0}):i.jsx(c(\"PolarisPost.react\"),{analyticsContext:o+\"Modal\",autoplay:d(\"PolarisIsLoggedInDesktop\").isLoggedInDesktop(),id:h,initialCarouselIndex:(b=a)!=null?b:void 0,isVisible:!0,visiblePosition:0});e[6]!==o||e[7]!==m||e[8]!==f||e[9]!==g||e[10]!==l||e[11]!==h||e[12]!==a?(b=i.jsx(c(\"PolarisPostModal.react\"),{analyticsContext:o,\"data-testid\":void 0,dimensions:m,mediaLinkBuilder:d(\"PolarisLinkBuilder\").buildMediaLink,modalEntryPath:d(\"PolarisRoutes\").FEED_PATH,onClose:f,onOpen:g,postCode:l,postId:h,children:a}),e[6]=o,e[7]=m,e[8]=f,e[9]=g,e[10]=l,e[11]=h,e[12]=a,e[13]=b):b=e[13];e[14]!==p||e[15]!==b?(o=i.jsx(c(\"PolarisErrorBoundary.react\"),{onError:p,children:b}),e[14]=p,e[15]=b,e[16]=o):o=e[16];return o}g[\"default\"]=a}),98);\n__d(\"PolarisFeedActionScrolledToTop\",[],(function(a,b,c,d,e,f){\"use strict\";function a(){return{type:\"FEED_SCROLLED_TO_TOP\"}}f.scrolledToTop=a}),66);\n__d(\"PolarisNewPostsPill.react\",[\"fbt\",\"PolarisLogger\",\"PolarisPill.react\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function a(a){var b=j(6),e=a.onClick;b[0]!==e?(a=function(){d(\"PolarisLogger\").logAction(\"newPostsPillClick\"),e()},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=\"xds687c xixxii4 x17qophe x1n327nk\",b[2]=f):f=b[2];var g;b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=h._(\"__JHASH__0iQ7o-ke_8i__JHASH__\"),b[3]=g):g=b[3];b[4]!==a?(f=k.jsx(\"div\",{className:f,children:k.jsx(c(\"PolarisPill.react\"),{marginTop:2,onClick:a,children:g})}),b[4]=a,b[5]=f):f=b[5];return f}g[\"default\"]=a}),226);\n__d(\"usePolarisRefreshFeedData\",[\"PolarisFeedActionConstants\",\"PolarisFeedActionRefreshFeedData\",\"PolarisFeedLastHeadLoadContext.react\",\"PolarisFeedSeenStateManagerSingleton\",\"PolarisReactRedux.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=h||d(\"react\");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(3),b=d(\"PolarisReactRedux.react\").useDispatch(),e=d(\"PolarisFeedLastHeadLoadContext.react\").useSetLastHeadLoadMs(),f;a[0]!==b||a[1]!==e?(f=function(a,f){a=a===void 0?d(\"PolarisFeedActionConstants\").PAGE_SIZE:a;f=f===void 0?!1:f;var g=c(\"PolarisFeedSeenStateManagerSingleton\").get();if(g.count()>0){var h=g.getViewInfo();g.clear();b(d(\"PolarisFeedActionRefreshFeedData\").refreshFeedData(a,f,h))}else b(d(\"PolarisFeedActionRefreshFeedData\").refreshFeedData(a,f));e(Date.now())},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g[\"default\"]=a}),98);\n__d(\"PolarisLightweightNewPostsPill.react\",[\"CometRouteParams\",\"InstagramODS\",\"PolarisFeedActionScrolledToTop\",\"PolarisFeedVariants\",\"PolarisNewPostsPill.react\",\"PolarisNewPostsPillActions\",\"PolarisReactRedux.react\",\"XPolarisFeedControllerRouteBuilder\",\"polarisNewPostsPillSelectors\",\"react\",\"useCometRouterDispatcher\",\"usePolarisLightweightNewPostsPillCheck\",\"usePolarisRefreshFeedData\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef;function a(a){var b=a.alwaysUseCometDispatch,e=a.scrollToTopElement,f=d(\"PolarisReactRedux.react\").useSelector(d(\"polarisNewPostsPillSelectors\").checkHasNewPosts),g=d(\"PolarisReactRedux.react\").useSelector(d(\"polarisNewPostsPillSelectors\").getDocumentVisibilityHiddenTimestamp);a=d(\"CometRouteParams\").useRouteParams();var h=a.variant,m=c(\"useCometRouterDispatcher\")(),n=d(\"PolarisReactRedux.react\").useDispatch(),o=c(\"usePolarisLightweightNewPostsPillCheck\")(),p=l(!0),q=c(\"usePolarisRefreshFeedData\")(),r=j(function(){if(document.visibilityState===\"visible\")o(g);else{var a=Date.now();n(d(\"PolarisNewPostsPillActions\").setDocumentVisibilityHiddenTimestamp(a))}},[o,n,g]),s=j(function(){c(\"InstagramODS\").incr(\"web.feed.lightweight_new_posts_pill.triggered\");n(d(\"PolarisNewPostsPillActions\").setNewPostsPillVisibility(!1));if(b===!0||h!=null&&c(\"PolarisFeedVariants\").cast(String(h))!==\"home\"){var a=c(\"XPolarisFeedControllerRouteBuilder\").buildURL({}),f={refreshFeed:!0};m==null?void 0:m.go(a,{passthroughProps:f});return}e?e.scrollIntoView():window.scrollTo(0,0);n(d(\"PolarisFeedActionScrolledToTop\").scrolledToTop());q()},[m,n,q,e,h]),t=j(function(){f===!0&&window.scrollY===0&&s()},[f,s]);k(function(){document.addEventListener(\"visibilitychange\",r);document.addEventListener(\"scroll\",t);return function(){document.removeEventListener(\"visibilitychange\",r),document.removeEventListener(\"scroll\",t)}},[r,t]);k(function(){p.current===!0&&(p.current=!1,f===!0&&s())},[o,f,s]);return f?i.jsx(c(\"PolarisNewPostsPill.react\"),{onClick:s}):null}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\n__d(\"PolarisAPIGetFrCookie\",[\"CometRelay\",\"PolarisAPIGetFrCookieQuery.graphql\",\"PolarisInstapi\",\"err\",\"justknobx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h!==void 0?h:h=b(\"PolarisAPIGetFrCookieQuery.graphql\");function a(a,b){return c(\"justknobx\")._(\"999\")?d(\"CometRelay\").fetchQuery(b,i,{_request_data:{},payload:a}).toPromise().then(function(a){if(a==null)throw c(\"err\")(\"Failed to get Fr cookie.\");return{fr:a.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):d(\"PolarisInstapi\").apiPost(\"\/api\/v1\/web\/accounts\/get_encrypted_credentials\/\",{body:{payload:a}}).then(function(a){return a.data})}g.getFrCookie=a}),98);\n__d(\"buildIframeOriginUrl\",[\"URI\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function a(a){return a}g[\"default\"]=a}),98);\n__d(\"PolarisFacebookCookieSyncConstants\",[\"URI\",\"buildIframeOriginUrl\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a={error:\"ig_iframe_error\",ig_sync:\"ig_iframe_ig_sync\",ig_sync_error:\"ig_iframe_ig_sync_error\",ig_sync_success:\"ig_iframe_ig_sync_success\",ready:\"ig_iframe_ready\",success:\"ig_iframe_success\",sync:\"ig_iframe_fb_sync\"};b=c(\"buildIframeOriginUrl\")(\"https:\/\/www.facebook.com\");d=new(h||(h=c(\"URI\")))(b).getDomain();e=\"fr\";g.IFRAME_MESSAGES=a;g.IFRAME_ORIGIN=b;g.IFRAME_DOMAIN=d;g.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=e}),98);\n__d(\"IgFrCookieUpdaterFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5694\");b=d(\"FalcoLoggerInternal\").create(\"ig_fr_cookie_updater\",a);e=b;g[\"default\"]=e}),98);\n__d(\"SecureMessageListener\",[\"SecurePostMessage\",\"URI\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener(\"message\",this.$5);return this};b.stopListening=function(){this.$1.removeEventListener(\"message\",this.$5);return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2)if(this.$2.length==1)this.$2(a);else{var b=function(b){d(\"SecurePostMessage\").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp(\"^https:\/\/\").test(b))return!1;var d=new(h||(h=c(\"URI\")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g[\"default\"]=a}),98);\n__d(\"XPolarisFacebookSyncController\",[\"XController\"],(function(a,b,c,d,e,f){e.exports=b(\"XController\").create(\"\/sync\/instagram\/\",{})}),null);\n__d(\"PolarisFacebookToInstagramCookieSync.react\",[\"FBLogger\",\"InstagramODS\",\"PolarisFacebookCookieSyncConstants\",\"SecureMessageListener\",\"SecurePostMessage\",\"XAsyncRequest\",\"XPolarisFacebookSyncController\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=h||d(\"react\");var i=b.useEffect,j=b.unstable_useMemoCache;function a(a){var b=j(6),e=a.frameRef,f=a.onCleanUp;b[0]!==e.current||b[1]!==f?(a=function(){var a=function(){c(\"InstagramODS\").incr(\"web.cookie_sync.oo_cookie.start_fb_sync\");var a=e.current;(a==null?void 0:a.contentWindow)!=null&&d(\"SecurePostMessage\").sendMessageToSpecificOrigin(a.contentWindow,{eventName:d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.ig_sync},d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN)},b=function(b){if(b.origin!==d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN)return;var e=b.data.eventName;bb13:switch(e){case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.ready:a();break bb13;case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.ig_sync_success:c(\"InstagramODS\").incr(\"web.cookie_sync.oo_cookie.retrieve_success\");e=c(\"XPolarisFacebookSyncController\").getURIBuilder().getURI();new(c(\"XAsyncRequest\"))().setURI(e).setMethod(\"POST\").setData({encrypted_data:(e=b.data.data)==null?void 0:e.data}).setHandler(function(a){c(\"InstagramODS\").incr(\"web.cookie_sync.oo_cookie.sync_success\")}).setErrorHandler(function(a){c(\"InstagramODS\").incr(\"web.cookie_sync.oo_cookie.sync_fail\");a=(a=a.errorDescription)!=null?a:\"Error when syncing ig cookies\";c(\"FBLogger\")(\"ig_web\").mustfix(a)}).send();f();break bb13;case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.ig_sync_error:c(\"InstagramODS\").incr(\"web.cookie_sync.oo_cookie.retrieve_error\");b=(e=b.data.errorDescription)!=null?e:\"Exception thrown when syncing cookie to sync ig cookie\";c(\"FBLogger\")(\"ig_web\").mustfix(b);f()}},g=new(c(\"SecureMessageListener\"))(window).setEventHandler(b).setSupportedOrigins([d(\"PolarisFacebookCookieSyncConstants\").IFRAME_DOMAIN]).beginListening();return function(){g.stopListening()}},b[0]=e.current,b[1]=f,b[2]=a):a=b[2];var g;b[3]!==e||b[4]!==f?(g=[e,f],b[3]=e,b[4]=f,b[5]=g):g=b[5];i(a,g);return null}g[\"default\"]=a}),98);\n__d(\"PolarisInstagramToFacebookCookieSync.react\",[\"CometRelay\",\"FBLogger\",\"IgFrCookieUpdaterFalcoEvent\",\"InstagramODS\",\"PolarisAPIGetFrCookie\",\"PolarisAdsGatingHelpers\",\"PolarisConfig\",\"PolarisDOMListener.react\",\"PolarisFacebookCookieSyncConstants\",\"PolarisWebStorage\",\"SecurePostMessage\",\"browserHistory\",\"gkx\",\"react\",\"usePolarisViewer\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=h||(h=d(\"react\"));b=h;var j=b.useEffect,k=b.useRef,l=Number(new Date().getTime());function m(a){var b=new Date().getTime()-l;a.total_latency=b.toString();a.country=d(\"PolarisConfig\").getCountryCode();c(\"IgFrCookieUpdaterFalcoEvent\").log(function(){return a})}function a(a){var b=a.frameRef,e=a.frData,f=a.onCleanUp,g=c(\"gkx\")(\"25372\");a=(a=c(\"usePolarisViewer\")())==null?void 0:a.id;var h=d(\"browserHistory\").getPath(d(\"browserHistory\").browserHistory),l=d(\"CometRelay\").useRelayEnvironment(),n=d(\"PolarisAdsGatingHelpers\").useEUFRCookieODSLogging();h=k({browser_history_path:h,iframe_origin:d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:e,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var o=h.current;j(function(){g||(o.is_blacklisted=!0,m(o),f())},[]);a=function(a){var b=a.data.eventName;o.iframe_message_origin=a.origin;if(a.origin!==d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN){b in d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES&&(o.iframe_message_origin_mismatch=!0,m(o));return}switch(b){case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.ready:c(\"InstagramODS\").incr(\"web.frcookie.iframe.ready\");n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.iframe.ready\");o.iframe_message_ready=!0;p();break;case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.success:c(\"InstagramODS\").incr(\"web.frcookie.iframe.success\");n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.iframe.success\");o.iframe_message_success=!0;m(o);f();break;case d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.error:c(\"InstagramODS\").incr(\"web.frcookie.iframe.error\");n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.iframe.error\");q();o.iframe_message_error=!0;m(o);break}};var p=function(){o.iframe_non_null=!1;o.iframe_content_window_non_null=!1;var a=b.current;if(a==null)return;e==null&&(c(\"InstagramODS\").incr(\"web.frcookie.local_storage.empty\"),n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.local_storage.empty\"));d(\"PolarisAPIGetFrCookie\").getFrCookie(e,l).then(function(b){o.api_data=b.fr;if(b.fr===e){m(o);f();return}o.local_storage_same_as_api=!1;var g=c(\"PolarisWebStorage\").getLocalStorage();if(g==null){m(o);f();return}o.is_local_storage_accessible=!0;if(b.fr===\"\"){g.removeItem(d(\"PolarisFacebookCookieSyncConstants\").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);c(\"InstagramODS\").incr(\"web.frcookie.local_storage.remove\");n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.local_storage.remove\");m(o);f();return}g.setItem(d(\"PolarisFacebookCookieSyncConstants\").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,b.fr);o.show_iframe=!0;o.local_storage_updated=!0;o.iframe_payload=b.fr;o.iframe_non_null=!0;a.contentWindow!=null&&(o.iframe_content_window_non_null=!0,d(\"SecurePostMessage\").sendMessageToSpecificOrigin(a.contentWindow,{data:b.fr,eventName:d(\"PolarisFacebookCookieSyncConstants\").IFRAME_MESSAGES.sync},d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN));c(\"InstagramODS\").incr(\"web.frcookie.local_storage.update\");n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.local_storage.update\")})[\"catch\"](function(a){c(\"InstagramODS\").incr(\"web.frcookie.get.error\"),n&&c(\"InstagramODS\").incr(\"web.eu.frcookie.get.error\"),o.exception=a.toString(),m(o),c(\"FBLogger\")(\"ig_web\").catching(a).mustfix(\"Exception thrown when getting frCookie\"),q()})},q=function(){var a=c(\"PolarisWebStorage\").getLocalStorage();c(\"PolarisWebStorage\").isLocalStorageSupported()&&a!=null&&a.removeItem(d(\"PolarisFacebookCookieSyncConstants\").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY);f()};return g&&i.jsx(c(\"PolarisDOMListener.react\"),{event:\"message\",handler:a,target:window})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\n__d(\"PolarisFacebookCookieSyncImpl.react\",[\"IgFrCookieUpdaterFalcoEvent\",\"JSScheduler\",\"PolarisDOMListener.react\",\"PolarisFacebookCookieSyncConstants\",\"PolarisFacebookToInstagramCookieSync.react\",\"PolarisInstagramToFacebookCookieSync.react\",\"PolarisReactRedux.react\",\"PolarisUA\",\"PolarisWebStorage\",\"RunComet\",\"browserHistory\",\"react\",\"usePolarisViewer\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||(i=d(\"react\"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN+\"\/instagram\/login_sync\/\",o=[\"terms\",\"challenge\"],p=3,q=Number(new Date().getTime());function r(a){var b=new Date().getTime()-q;a.total_latency=b.toString();c(\"IgFrCookieUpdaterFalcoEvent\").log(function(){return a})}var s=function(){if(!d(\"PolarisUA\").isIGWebview()&&c(\"PolarisWebStorage\").isLocalStorageSupported()){var a=c(\"PolarisWebStorage\").getLocalStorage();if(a!=null)return a.getItem(d(\"PolarisFacebookCookieSyncConstants\").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function t(a){var b;a=a.frData;var e=l(null);b=(b=c(\"usePolarisViewer\")())==null?void 0:b.id;b=l({browser_history_path:d(\"browserHistory\").getPath(d(\"browserHistory\").browserHistory),iframe_origin:d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN,ig_user_id:b,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});var f=b.current;b=function(){f.iframe_unload=!0};var g=m(!1),i=g[0],o=g[1];k(function(){var a=null,b=null,e=d(\"RunComet\").onAfterLoad(function(){a=(h||(h=c(\"JSScheduler\"))).scheduleLoggingPriCallback(function(){b=window.setTimeout(function(){o(!0)},p*1e3)})});return function(){b&&window.clearTimeout(b),a&&(h||(h=c(\"JSScheduler\"))).cancelCallback(a),e&&e.remove()}},[]);g=m(!1);var q=g[0],s=g[1];g=m(!1);var t=g[0],u=g[1];g=q&&t;return!i?null:j.jsxs(j.Fragment,{children:[j.jsx(\"div\",{hidden:!0,children:j.jsx(\"iframe\",{onError:function(){f.iframe_on_error=!0,r(f)},onLoad:function(){f.iframe_on_load=!0},ref:e,src:n,style:{border:\"none\",display:\"none\",height:0,width:0},title:\"fr\"})}),g?null:j.jsxs(j.Fragment,{children:[j.jsx(c(\"PolarisInstagramToFacebookCookieSync.react\"),{frameRef:e,frData:a,onCleanUp:function(){return s(!0)}}),j.jsx(c(\"PolarisFacebookToInstagramCookieSync.react\"),{frameRef:e,onCleanUp:function(){return u(!0)}}),j.jsx(c(\"PolarisDOMListener.react\"),{event:\"beforeunload\",handler:b,target:window})]})]})}t.displayName=t.name+\" [from \"+f.id+\"]\";function a(){var a,b=d(\"PolarisReactRedux.react\").useSelector(function(a){return!!(a==null?void 0:(a=a.cookieModal)==null?void 0:a.visible)});a=(a=c(\"usePolarisViewer\")())==null?void 0:a.id;if(b)return null;var e=d(\"browserHistory\").getPath(d(\"browserHistory\").browserHistory);if(o.some(function(a){return e.includes(a)})){r({browser_history_path:e,iframe_origin:d(\"PolarisFacebookCookieSyncConstants\").IFRAME_ORIGIN,ig_user_id:a,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1});return null}return j.jsx(t,{frData:s()})}a.displayName=a.name+\" [from \"+f.id+\"]\";g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"PolarisLineClampText.react\",[\"fbt\",\"CometLineClamp.react\",\"IGDSText.react\",\"PolarisIGCorePressable.react\",\"PolarisIGCoreText\",\"PolarisUserText.react\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=i||(i=d(\"react\"));b=i;var k=b.useState,l=b.unstable_useMemoCache,m=2,n=1e4;function a(a){var b=l(27),d,e,f,g,i;b[0]!==a?(d=a.lines,i=a.prependElement,f=a.color,g=a.value,e=babelHelpers.objectWithoutPropertiesLoose(a,[\"lines\",\"prependElement\",\"color\",\"value\"]),b[0]=a,b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=i):(d=b[1],e=b[2],f=b[3],g=b[4],i=b[5]);a=d===void 0?m:d;d=k(!1);var o=d[0],p=d[1];b[6]!==e||b[7]!==f||b[8]!==g?(d=j.jsx(c(\"PolarisUserText.react\"),babelHelpers[\"extends\"]({},e,{color:f,display:\"inline\",headlineTag:\"h1\",size:\"body\",value:g})),b[6]=e,b[7]=f,b[8]=g,b[9]=d):d=b[9];e=d;g=f===\"ig-text-on-media\"?\"textOnMedia\":\"secondaryText\";b[10]!==o?(d=function(){return p(!o)},b[10]=o,b[11]=d):d=b[11];var q;b[12]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(q={display:\"inline\"},b[12]=q):q=b[12];a=o?n:a;var r;b[13]!==a||b[14]!==i||b[15]!==e?(r=j.jsxs(c(\"CometLineClamp.react\"),{lines:a,children:[i,e]}),b[13]=a,b[14]=i,b[15]=e,b[16]=r):r=b[16];b[17]!==o||b[18]!==g?(a=!o&&j.jsx(c(\"IGDSText.react\"),{color:g,textAlign:\"start\",zeroMargin:!0,children:h._(\"__JHASH__o8KDH-tdLwt__JHASH__\")}),b[17]=o,b[18]=g,b[19]=a):a=b[19];b[20]!==d||b[21]!==r||b[22]!==a?(i=j.jsxs(c(\"PolarisIGCorePressable.react\"),{onPress:d,style:q,children:[r,a]}),b[20]=d,b[21]=r,b[22]=a,b[23]=i):i=b[23];b[24]!==f||b[25]!==i?(e=j.jsx(c(\"PolarisIGCoreText\"),{color:f,display:\"inline\",zeroMargin:!0,children:i}),b[24]=f,b[25]=i,b[26]=e):e=b[26];return e}g[\"default\"]=a}),226);\n__d(\"PolarisPostFastCrawlerComment.react\",[\"IGDSBox.react\",\"IGDSVerifiedBadge.react\",\"PolarisIGCoreText\",\"PolarisLineClampText.react\",\"PolarisUserLinkWithHoverCard.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(8),d=a.isAuthorUnpublished,e=a.isAuthorVerified,f=a.text,g=a.userId;a=a.username;d=d===void 0?!1:d;e=e===void 0?!1:e;var h;b[0]!==d||b[1]!==g||b[2]!==a||b[3]!==e?(h=d===!0?null:j.jsxs(j.Fragment,{children:[j.jsx(c(\"PolarisUserLinkWithHoverCard.react\"),{color:\"ig-primary-text\",userId:g,username:a}),e&&j.jsx(c(\"IGDSBox.react\"),{display:\"inlineBlock\",marginStart:1,position:\"relative\",children:j.jsx(c(\"IGDSVerifiedBadge.react\"),{size:\"small\"})}),j.jsx(c(\"PolarisIGCoreText\"),{display:\"inline\",zeroMargin:!0,children:\"\\xa0\"})]}),b[0]=d,b[1]=g,b[2]=a,b[3]=e,b[4]=h):h=b[4];d=h;b[5]!==d||b[6]!==f?(g=j.jsx(c(\"IGDSBox.react\"),{\"data-testid\":void 0,display:\"block\",flex:\"grow\",position:\"relative\",children:j.jsx(c(\"PolarisLineClampText.react\"),{prependElement:d,value:f})}),b[5]=d,b[6]=f,b[7]=g):g=b[7];return g}g[\"default\"]=a}),98);\n__d(\"PolarisPostHeader.react\",[\"cx\",\"fbt\",\"IGDSBox.react\",\"IGDSMiddleDot.react\",\"IGDSText.react\",\"IGDSVerifiedBadge.react\",\"PolarisAppAttributionText.react\",\"PolarisAudioAttributionText.react\",\"PolarisAvatarWithStoriesContainer.react\",\"PolarisClickEventLoggerProvider.react\",\"PolarisClipsHelpers\",\"PolarisCloseFriendsLabel.react\",\"PolarisEligibleForCommissionUnit.react\",\"PolarisFeedPageConstants\",\"PolarisFollowButtonContainer.react\",\"PolarisHashtagLink.react\",\"PolarisIGCoreButton.react\",\"PolarisIGCoreText\",\"PolarisLinkBuilder\",\"PolarisLocationLink.react\",\"PolarisPanavisionQEHelpers\",\"PolarisProfileClickEventLoggerProvider.react\",\"PolarisSponsoredLabel.react\",\"PolarisSponsoredPostContext.react\",\"PolarisSponsorsUnit.react\",\"PolarisTagAvatar.react\",\"PolarisTimestamp.react\",\"PolarisTrackingNodeProvider.react\",\"PolarisTransparencyLabel.react\",\"PolarisTransparencyUtils.react\",\"PolarisUA\",\"PolarisUserAvatar.react\",\"PolarisUserAvatarWithStories.react\",\"PolarisUserHoverCard.react\",\"PolarisUserLink.react\",\"URI\",\"err\",\"nullthrows\",\"react\",\"usePolarisIsOnAdsActivityPage\",\"usePolarisIsOnFeedPage\",\"usePolarisTrackingDataProfileURLParams\"],(function(a,b,c,d,e,f,g,h,i){\"use strict\";var j,k,l=k||(k=d(\"react\"));b=k;var m=b.useContext,n=b.useState,o=b.unstable_useMemoCache,p=i._(\"__JHASH__OMxqSO8Gxcr__JHASH__\");function q(a,b){a=a;var c=a==null?void 0:a.song_name,d=a==null?void 0:a.artist_name;b=(a==null?void 0:a.uses_original_audio)&&b===a.artist_name;return{audioArtist:d,audioName:c,isMediaOwnerOriginalSound:b}}function r(a){var b=o(5);a=a.owner;var e=d(\"usePolarisTrackingDataProfileURLParams\").usePolarisTrackingDataProfileURLParams(m(d(\"PolarisSponsoredPostContext.react\").PolarisSponsoredPostContext).canUserSeePersistentCta);e=new(j||(j=c(\"URI\")))(d(\"PolarisLinkBuilder\").buildUserLink(c(\"nullthrows\")(a.username))).setQueryData(e).toString();var f;b[0]!==a.username?(f=c(\"nullthrows\")(a.username),b[0]=a.username,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=l.jsx(c(\"PolarisIGCoreButton.react\"),{borderless:!0,color:\"ig-secondary-button\",href:e,children:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}function s(a){var b=o(14),d=a.audioSlug,e=a.clipsAudioAttributionInfo,f=a.onDisabledClipsAudioAttributionClick,g=a.owner;a=a.shouldRenderAudioNameAsH2;e=e;var h;b[0]!==e||b[1]!==g.username?(h=q(e,g.username),b[0]=e,b[1]=g.username,b[2]=h):h=b[2];h=h;var i=h.audioArtist,j=h.audioName;h=h.isMediaOwnerOriginalSound;var k=e==null?void 0:e.audio_id;g=g.isPrivate===!0;var m=(e==null?void 0:e.should_mute_audio)===!0;e=e==null?void 0:e.should_mute_audio_reason;var n;b[3]!==i||b[4]!==k||b[5]!==j||b[6]!==d||b[7]!==h||b[8]!==m||b[9]!==g||b[10]!==e||b[11]!==f||b[12]!==a?(n=l.jsx(c(\"PolarisAudioAttributionText.react\"),{audioArtist:i,audioID:k,audioName:j,audioSlug:d,isMediaOwnerOriginalSound:h,isMutedAudio:m,isOwnerPrivate:g,muteAudioReason:e,onDisabledClipsAudioAttributionClick:f,shouldRenderAudioNameAsH2:a}),b[3]=i,b[4]=k,b[5]=j,b[6]=d,b[7]=h,b[8]=m,b[9]=g,b[10]=e,b[11]=f,b[12]=a,b[13]=n):n=b[13];return n}function t(a){var b=o(6),d=a.clipsAttributionInfo;a=a.mediaID;d=d;var e=d==null?void 0:d.attribution_app_name;d=d==null?void 0:d.attribution_app_id;if(e!=null&&d!=null){var f;b[0]!==d?(f=d.toString(),b[0]=d,b[1]=f):f=b[1];b[2]!==f||b[3]!==e||b[4]!==a?(d=l.jsx(c(\"PolarisAppAttributionText.react\"),{appId:f,appName:e,mediaId:a}),b[2]=f,b[3]=e,b[4]=a,b[5]=d):d=b[5];return d}return null}function u(a){var b=o(57),e=a.audioAttributionText,f=a.clipsAttributionInfo,g=a.clipsAudioAttributionInfo,h=a.followHashtagInfo,i=a.isSponsored,j=a.location,k=a.mediaId,m=a.owner,n=a.showEligibleForCommissions,p=a.showSponsors,r=a.sponsoredLabel;a=a.sponsors;var s=c(\"usePolarisIsOnAdsActivityPage\")(),u;b[0]!==m||b[1]!==k?(u=d(\"PolarisTransparencyUtils.react\").shouldShowTransparencyLabel(m)&&l.jsx(c(\"PolarisTransparencyLabel.react\"),{mediaId:k,screen:\"feed\",user:m}),b[0]=m,b[1]=k,b[2]=u):u=b[2];u=u;var v;b[3]!==p||b[4]!==k||b[5]!==a?(v=p&&l.jsx(c(\"PolarisSponsorsUnit.react\"),{loggingData:{mediaId:k},source:\"feed_timeline\",sponsors:a||[]}),b[3]=p,b[4]=k,b[5]=a,b[6]=v):v=b[6];p=v;b[7]!==h||b[8]!==m?(a=h&&l.jsx(c(\"PolarisUserLink.react\"),{className:\"_adkn\",username:c(\"nullthrows\")(m.username)}),b[7]=h,b[8]=m,b[9]=a):a=b[9];v=a;b[10]!==n?(h=n&&l.jsx(c(\"PolarisEligibleForCommissionUnit.react\"),{className:\"_aaqi\"}),b[10]=n,b[11]=h):h=b[11];a=h;b[12]!==j?(n=j&&l.jsx(c(\"PolarisIGCoreText\").Body2,{color:\"ig-secondary-text\",display:\"truncated\",zeroMargin:!0,children:l.jsx(c(\"PolarisLocationLink.react\"),{className:\"_aaqk\",location:c(\"nullthrows\")(j)})}),b[12]=j,b[13]=n):n=b[13];h=n;var w;if(b[14]!==g||b[15]!==m.username||b[16]!==f||b[17]!==k||b[18]!==i||b[19]!==r||b[20]!==s||b[21]!==u||b[22]!==p||b[23]!==a||b[24]!==v||b[25]!==e||b[26]!==h){j=q(g,m.username);b[32]!==f||b[33]!==k?(n=l.jsx(t,{clipsAttributionInfo:f,mediaID:k}),b[32]=f,b[33]=k,b[34]=n):n=b[34];n=n;if(i===!0&&r==null&&!s)throw c(\"err\")(\"Unexpected: a feed ad is being rendered without a sponsored label\");b[35]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(w=\"_aaql\",b[35]=w):w=b[35];var x;b[36]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(x=\"x78zum5 xdt5ytf\",b[36]=x):x=b[36];var y;b[37]!==r?(y=r!=null&&l.jsx(c(\"PolarisSponsoredLabel.react\"),{label:r}),b[37]=r,b[38]=y):y=b[38];b[39]!==u||b[40]!==p||b[41]!==y||b[42]!==a||b[43]!==v?(x=l.jsx(c(\"IGDSText.react\").Body2,{zeroMargin:!0,children:l.jsxs(\"div\",{className:x,children:[u,p,y,a,v]})}),b[39]=u,b[40]=p,b[41]=y,b[42]=a,b[43]=v,b[44]=x):x=b[44];b[45]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(y=\"x78zum5\",b[45]=y):y=b[45];j=d(\"PolarisClipsHelpers\").hasAudioAttributionText(j)?e:l.jsx(\"div\",{className:\"_aaqm\",children:h});b[14]=g;b[15]=m.username;b[16]=f;b[17]=k;b[18]=i;b[19]=r;b[20]=s;b[21]=u;b[22]=p;b[23]=a;b[24]=v;b[25]=e;b[26]=h;b[27]=y;b[28]=j;b[29]=n;b[30]=w;b[31]=x}else y=b[27],j=b[28],n=b[29],w=b[30],x=b[31];b[46]!==f?(g=f!=null&&l.jsx(c(\"IGDSMiddleDot.react\"),{color:\"primaryText\"}),b[46]=f,b[47]=g):g=b[47];b[48]!==y||b[49]!==j||b[50]!==g||b[51]!==n?(m=l.jsxs(\"div\",{className:y,children:[j,g,n]}),b[48]=y,b[49]=j,b[50]=g,b[51]=n,b[52]=m):m=b[52];b[53]!==w||b[54]!==x||b[55]!==m?(k=l.jsxs(\"div\",{className:w,children:[x,m]}),b[53]=w,b[54]=x,b[55]=m,b[56]=k):k=b[56];return k}function v(a){var b=o(38),e=a.analyticsContext,f=a.coauthorProducers,g=a.followHashtagInfo,h=a.headerAvatarSize,i=a.isTagAvatarLink,j=a.onTagAvatarShowRing;a=a.owner;var k;b[0]!==e?(k=function(){return e===d(\"PolarisFeedPageConstants\").FEED_PAGE_ANALYTICS_CONTEXT?\"reel_feed_timeline_item_header\":\"reel_feed_timeline\"},b[0]=e,b[1]=k):k=b[1];k=k;if(g){var m=g.name;g=g.profile_pic_url;var n;b[2]!==g||b[3]!==i||b[4]!==m?(n=g!=null&&g.length>0&&l.jsx(c(\"PolarisTagAvatar.react\"),{isLink:i,profilePictureUrl:g,tagName:m}),b[2]=g,b[3]=i,b[4]=m,b[5]=n):n=b[5];b[6]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=l.jsx(\"div\",{className:\"_aaqo\",children:\"#\"}),b[6]=g):g=b[6];b[7]!==n?(i=l.jsxs(l.Fragment,{children:[n,g]}),b[7]=n,b[8]=i):i=b[8];b[9]!==j||b[10]!==m||b[11]!==i?(g=l.jsx(c(\"PolarisAvatarWithStoriesContainer.react\"),{animateOnLoad:!0,entrypoint:\"reel_feed_timeline\",onShowRing:j,size:30,tagName:m,children:i}),b[9]=j,b[10]=m,b[11]=i,b[12]=g):g=b[12];return g}if(f==null?void 0:f.length){n=f[0];b[13]!==n.profilePictureUrl||b[14]!==n.username?(j=l.jsx(c(\"PolarisUserAvatar.react\"),{isLink:!1,profilePictureUrl:n.profilePictureUrl,size:24,username:n.username}),b[13]=n.profilePictureUrl,b[14]=n.username,b[15]=j):j=b[15];b[16]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(m=\"_aaqp\",b[16]=m):m=b[16];b[17]!==a.profilePictureUrl||b[18]!==a.username?(i=l.jsx(\"div\",{className:m,children:l.jsx(c(\"IGDSBox.react\"),{alignItems:\"end\",direction:\"row\",justifyContent:\"end\",position:\"relative\",children:l.jsx(c(\"PolarisUserAvatar.react\"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:24,username:a.username})})}),b[17]=a.profilePictureUrl,b[18]=a.username,b[19]=i):i=b[19];b[20]!==j||b[21]!==i?(g=l.jsxs(c(\"IGDSBox.react\"),{height:32,position:\"relative\",width:32,children:[j,i]}),b[20]=j,b[21]=i,b[22]=g):g=b[22];return g}f=!a.isUnpublished;m=(n=a.username)!=null?n:\"\";b[23]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(j=\"_aaqq\",b[23]=j):j=b[23];i=!a.isUnpublished;b[24]!==k?(g=k(),b[24]=k,b[25]=g):g=b[25];b[26]!==i||b[27]!==a.profilePictureUrl||b[28]!==a.id||b[29]!==a.username||b[30]!==h||b[31]!==g?(n=l.jsx(c(\"PolarisUserAvatarWithStories.react\"),{className:j,isLink:i,profilePictureUrl:a.profilePictureUrl,showRingWhenSeen:!1,size:h,storyEntrypoint:g,userId:a.id,username:a.username}),b[26]=i,b[27]=a.profilePictureUrl,b[28]=a.id,b[29]=a.username,b[30]=h,b[31]=g,b[32]=n):n=b[32];b[33]!==f||b[34]!==a.id||b[35]!==m||b[36]!==n?(k=l.jsx(c(\"PolarisUserHoverCard.react\"),{display:\"block\",isUserAvailable:f,userId:a.id,username:m,children:n}),b[33]=f,b[34]=a.id,b[35]=m,b[36]=n,b[37]=k):k=b[37];return k}function w(a){var b=o(46),d=a.adTitle,e=a.coauthorProducers,f=a.displayFBPageName,g=a.followHashtagInfo,h=a.owner;a=a.showVerifiedBadge;if(g){var i;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(i=\"_aaqr\",b[0]=i):i=b[0];b[1]!==g.name?(i=l.jsx(c(\"IGDSText.react\").Body,{zeroMargin:!0,children:l.jsx(c(\"PolarisHashtagLink.react\"),{className:i,tag:g.name})}),b[1]=g.name,b[2]=i):i=b[2];return i}if(h.isUnpublished===!0){if(d!=null&&d.trim().length!==0){b[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=\"_aaqs\",b[3]=g):g=b[3];b[4]!==d?(i=l.jsx(c(\"IGDSText.react\").BodyEmphasized,{color:\"secondaryText\",zeroMargin:!0,children:l.jsx(\"span\",{className:g,children:d})}),b[4]=d,b[5]=i):i=b[5];return i}b[6]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(g=\"_aaqs\",b[6]=g):g=b[6];i=h.fullName!=null&&h.fullName!==\"\"?h.fullName:h.username;b[7]!==i?(g=l.jsx(c(\"IGDSText.react\").BodyEmphasized,{color:\"secondaryText\",zeroMargin:!0,children:l.jsx(\"span\",{className:g,children:i})}),b[7]=i,b[8]=g):g=b[8];return g}if(f===!0&&(d!=null&&d.trim().length!==0)){b[9]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(i=\"_aaqs\",b[9]=i):i=b[9];b[10]!==d?(g=l.jsx(c(\"IGDSText.react\").BodyEmphasized,{color:\"secondaryText\",zeroMargin:!0,children:l.jsx(\"span\",{className:i,children:d})}),b[10]=d,b[11]=g):g=b[11];return g}if(e==null?void 0:e.length){f=e[0];b[12]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(i=\"_aaqt _aaqu\",b[12]=i):i=b[12];d=!h.isUnpublished;e=(g=h.username)!=null?g:\"\";b[13]!==h?(g=l.jsx(r,{owner:h}),b[13]=h,b[14]=g):g=b[14];var j;b[15]!==d||b[16]!==h.id||b[17]!==e||b[18]!==g?(j=l.jsx(c(\"PolarisUserHoverCard.react\"),{display:\"inline\",isUserAvailable:d,userId:h.id,username:e,children:g}),b[15]=d,b[16]=h.id,b[17]=e,b[18]=g,b[19]=j):j=b[19];b[20]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=l.jsx(\"span\",{className:\"_aaqv\"}),b[20]=d):d=b[20];b[21]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=l.jsxs(c(\"IGDSText.react\").Body,{children:[d,p,l.jsx(\"span\",{className:\"_aaqv\"})]}),b[21]=e):e=b[21];g=!f.isUnpublished;d=(d=f.username)!=null?d:\"\";var k;b[22]!==f?(k=l.jsx(r,{owner:f}),b[22]=f,b[23]=k):k=b[23];var m;b[24]!==g||b[25]!==f.id||b[26]!==d||b[27]!==k?(m=l.jsx(c(\"PolarisUserHoverCard.react\"),{display:\"inline\",isUserAvailable:g,userId:f.id,username:d,children:k}),b[24]=g,b[25]=f.id,b[26]=d,b[27]=k,b[28]=m):m=b[28];b[29]!==j||b[30]!==m?(g=l.jsx(\"div\",{className:i,children:l.jsxs(c(\"IGDSText.react\").BodyEmphasized,{textAlign:\"start\",zeroMargin:!0,children:[j,e,m]})}),b[29]=j,b[30]=m,b[31]=g):g=b[31];return g}b[32]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(f=\"_aaqt\",b[32]=f):f=b[32];d=!h.isUnpublished;i=(k=h.username)!=null?k:\"\";b[33]!==h?(e=l.jsx(r,{owner:h}),b[33]=h,b[34]=e):e=b[34];b[35]!==d||b[36]!==h.id||b[37]!==i||b[38]!==e?(j=l.jsx(c(\"IGDSText.react\").BodyEmphasized,{zeroMargin:!0,children:l.jsx(c(\"PolarisUserHoverCard.react\"),{display:\"inline\",isUserAvailable:d,userId:h.id,username:i,children:e})}),b[35]=d,b[36]=h.id,b[37]=i,b[38]=e,b[39]=j):j=b[39];b[40]!==a||b[41]!==h?(m=a===!0&&h.isVerified===!0&&l.jsx(c(\"IGDSBox.react\"),{marginStart:1,position:\"relative\",children:l.jsx(c(\"IGDSVerifiedBadge.react\"),{size:\"small\"})}),b[40]=a,b[41]=h,b[42]=m):m=b[42];b[43]!==j||b[44]!==m?(g=l.jsx(\"div\",{className:f,children:l.jsxs(c(\"IGDSBox.react\"),{alignItems:\"center\",direction:\"row\",display:\"flex\",position:\"relative\",children:[j,m]})}),b[43]=j,b[44]=m,b[45]=g):g=b[45];return g}function a(a){var b=o(71),e=a.adTitle,f=a.analyticsContext,g=a.audioSlug,h=a.clipsAttributionInfo,i=a.clipsAudioAttributionInfo,j=a.coauthorProducers,k=a.displayFBPageName,p=a.followHashtagInfo,q=a.headerAvatarSize,r=a.inModal,t=a.isAffiliate,x=a.isPaidPartnership,y=a.isSharedToCloseFriends,z=a.isSponsored,A=a.location,B=a.mediaId,C=a.onDisabledClipsAudioAttributionClick,D=a.owner,E=a.postedAt,F=a.reducedAvatarMargin,G=a.shouldRenderAudioNameAsH2,H=a.shouldShowFollowButton,I=a.showVerifiedBadge,J=a.sidebarVariantOptionsButton,K=a.sponsoredLabel;a=a.sponsors;var L=n(!0),M=L[0],N=L[1];L=!p&&x;x=!p&&!x&&t;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(t=function(){N(!1)},b[0]=t):t=b[0];t=t;var O;b[1]!==g||b[2]!==i||b[3]!==C||b[4]!==D||b[5]!==G?(O=l.jsx(s,{audioSlug:g,clipsAudioAttributionInfo:i,onDisabledClipsAudioAttributionClick:C,owner:D,shouldRenderAudioNameAsH2:G}),b[1]=g,b[2]=i,b[3]=C,b[4]=D,b[5]=G,b[6]=O):O=b[6];g=O;C=c(\"usePolarisIsOnFeedPage\")();G=c(\"usePolarisIsOnAdsActivityPage\")();O=(C||G)&&r!==!0&&d(\"PolarisUA\").isDesktop();C=O;G=m(d(\"PolarisSponsoredPostContext.react\").PolarisSponsoredPostContext);r=G.onProfileClick;G=\"_aaqw\"+(O?\" _aaqx\":\"\")+(C?\" _aggb\":\"\")+(d(\"PolarisPanavisionQEHelpers\").hasDenserMobileWebFeed()?\" _ap5a\":\"\");b[7]!==f||b[8]!==j||b[9]!==p||b[10]!==q||b[11]!==M||b[12]!==D?(t=l.jsx(c(\"PolarisTrackingNodeProvider.react\"),{trackingNode:69,children:l.jsx(\"div\",{children:l.jsx(v,{analyticsContext:f,coauthorProducers:j,followHashtagInfo:p,headerAvatarSize:q,isTagAvatarLink:M,onTagAvatarShowRing:t,owner:D})})}),b[7]=f,b[8]=j,b[9]=p,b[10]=q,b[11]=M,b[12]=D,b[13]=t):t=b[13];q=J&&!O;M=J&&O;O=F===!0;b[14]!==q||b[15]!==M||b[16]!==O?(F=\"_aaqy\"+(q?\" _aaqz\":\"\")+(M?\" _aaq-\":\"\")+(O?\" _aaq_\":\"\")+(d(\"PolarisPanavisionQEHelpers\").hasDenserMobileWebFeed()?\" _ap5c\":\"\"),b[14]=q,b[15]=M,b[16]=O,b[17]=F):F=b[17];b[18]!==H||b[19]!==J?(q=\"_aar0\"+(H?\" _ad95\":\"\")+(J?\" _aar1\":\"\"),b[18]=H,b[19]=J,b[20]=q):q=b[20];b[21]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(M=\"x78zum5\",b[21]=M):M=b[21];b[22]!==e||b[23]!==j||b[24]!==k||b[25]!==p||b[26]!==D||b[27]!==I?(O=l.jsx(c(\"PolarisTrackingNodeProvider.react\"),{trackingNode:10,children:l.jsx(\"div\",{className:M,children:l.jsx(w,{adTitle:e,coauthorProducers:j,displayFBPageName:k,followHashtagInfo:p,owner:D,showVerifiedBadge:I})})}),b[22]=e,b[23]=j,b[24]=k,b[25]=p,b[26]=D,b[27]=I,b[28]=O):O=b[28];b[29]!==z||b[30]!==E||b[31]!==C?(J=!z&&E!=null&&C&&l.jsx(c(\"IGDSBox.react\"),{alignItems:\"center\",direction:\"row\",display:\"flex\",position:\"relative\",children:l.jsx(\"div\",{className:\"_ajqd\",children:l.jsxs(c(\"IGDSText.react\"),{color:\"secondaryText\",size:\"body\",zeroMargin:!0,children:[l.jsx(c(\"IGDSMiddleDot.react\"),{color:\"secondaryText\"}),l.jsx(c(\"PolarisTimestamp.react\"),{isLong:!1,value:E})]})})}),b[29]=z,b[30]=E,b[31]=C,b[32]=J):J=b[32];if(b[33]!==H||b[34]!==y||b[35]!==C||b[36]!==D||b[37]!==f){e=H&&!y&&l.jsxs(\"div\",{className:\"_aar2\",children:[l.jsx(\"div\",{className:\"_aar3\",children:l.jsx(c(\"IGDSMiddleDot.react\"),{color:C?\"secondaryText\":void 0})}),l.jsx(c(\"PolarisFollowButtonContainer.react\"),{analyticsContext:f,borderless:!0,\"data-testid\":void 0,isInline:!0,userId:D.id,username:(M=D.username)!=null?M:\"\"})]});b[33]=H;b[34]=y;b[35]=C;b[36]=D;b[37]=f;b[38]=e}else e=b[38];b[39]!==q||b[40]!==O||b[41]!==J||b[42]!==e?(j=l.jsxs(\"div\",{className:q,children:[O,J,e]}),b[39]=q,b[40]=O,b[41]=J,b[42]=e,b[43]=j):j=b[43];b[44]!==g||b[45]!==h||b[46]!==i||b[47]!==p||b[48]!==z||b[49]!==A||b[50]!==B||b[51]!==D||b[52]!==x||b[53]!==L||b[54]!==K||b[55]!==a?(k=l.jsx(u,{audioAttributionText:g,clipsAttributionInfo:h,clipsAudioAttributionInfo:i,followHashtagInfo:p,isSponsored:z,location:A,mediaId:B,owner:D,postId:B,showEligibleForCommissions:x,showSponsors:L,sponsoredLabel:K,sponsors:a}),b[44]=g,b[45]=h,b[46]=i,b[47]=p,b[48]=z,b[49]=A,b[50]=B,b[51]=D,b[52]=x,b[53]=L,b[54]=K,b[55]=a,b[56]=k):k=b[56];b[57]!==F||b[58]!==j||b[59]!==k?(I=l.jsxs(\"div\",{className:F,children:[j,k]}),b[57]=F,b[58]=j,b[59]=k,b[60]=I):I=b[60];b[61]!==y?(E=y&&l.jsx(c(\"PolarisCloseFriendsLabel.react\"),{onClick:function(){}}),b[61]=y,b[62]=E):E=b[62];b[63]!==G||b[64]!==t||b[65]!==I||b[66]!==E?(M=l.jsx(c(\"PolarisTrackingNodeProvider.react\"),{trackingNode:230,children:l.jsxs(\"header\",{className:G,\"data-testid\":void 0,children:[t,I,E]})}),b[63]=G,b[64]=t,b[65]=I,b[66]=E,b[67]=M):M=b[67];b[68]!==r||b[69]!==M?(H=l.jsx(c(\"PolarisClickEventLoggerProvider.react\"),{children:l.jsx(c(\"PolarisProfileClickEventLoggerProvider.react\"),{onProfileClick:r,children:M})}),b[68]=r,b[69]=M,b[70]=H):H=b[70];return H}g[\"default\"]=a}),226);\n__d(\"PolarisPostSidecarIndexHelpers\",[\"qex\"],(function(a,b,c,d,e,f,g){\"use strict\";a=function(a){a===void 0&&(a=!1);return a?c(\"qex\")._(\"300\")===!0:c(\"qex\")._(\"86\")===!0};g.shouldHaveIndexableUrls=a}),98);\n__d(\"usePolarisPostSetURLSidecarIndex\",[\"react\",\"useURLSearchParams\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=h||d(\"react\");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(2),b=d(\"useURLSearchParams\").useURLSearchParams(),c=b[0];a[0]!==c?(b=function(a){var b=new URLSearchParams(c);b.set(\"img_index\",String(a));d(\"useURLSearchParams\").areURLSearchParamsEqual(c,b)||window.history.replaceState(babelHelpers[\"extends\"]({},history.state),\"\",\"?\"+b.toString())},a[0]=c,a[1]=b):b=a[1];return b}g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"PolarisUnfollowDialog_user.graphql\",[],(function(a,b,c,d,e,f){\"use strict\";a={argumentDefinitions:[],kind:\"Fragment\",metadata:null,name:\"PolarisUnfollowDialog_user\",selections:[{kind:\"RequiredField\",field:{alias:null,args:null,kind:\"ScalarField\",name:\"pk\",storageKey:null},action:\"THROW\",path:\"pk\"},{alias:null,args:null,kind:\"ScalarField\",name:\"profile_pic_url\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"username\",storageKey:null},{alias:null,args:null,kind:\"ScalarField\",name:\"is_private\",storageKey:null}],type:\"XDTUserDict\",abstractKey:null};e.exports=a}),null);\n__d(\"PolarisUnfollowDialog.next.react\",[\"CometRelay\",\"IGCoreDialog.react\",\"PolarisConnectionsLogger\",\"PolarisUnfollowDialogContent.react\",\"PolarisUnfollowDialog_user.graphql\",\"QPLUserFlow\",\"qpl\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||(i=d(\"react\"));e=i;e.useCallback;var k=e.useEffect,l=e.unstable_useMemoCache;function a(a){var e=l(30),f=a.analyticsContext,g=a.analyticsExtra,i=a.onClose,m=a.onUnfollowUser,n=a.size;a=a.user;var o;e[0]!==g?(o=g===void 0?Object.freeze({}):g,e[0]=g,e[1]=o):o=e[1];var p=o;g=n===void 0?90:n;o=d(\"CometRelay\").useFragment(h!==void 0?h:h=b(\"PolarisUnfollowDialog_user.graphql\"),a);n=o.is_private;var q=o.pk;a=o.profile_pic_url;o=o.username;var r;e[2]!==f||e[3]!==q?(r=function(a){d(\"PolarisConnectionsLogger\").logConnectionAction({containerModule:f,eventName:a,targetId:q})},e[2]=f,e[3]=q,e[4]=r):r=e[4];var s=r,t;e[5]!==s?(r=function(){s(\"unfollow_dialog_impresssion\")},t=[s],e[5]=s,e[6]=r,e[7]=t):(r=e[6],t=e[7]);k(r,t);e[8]!==s||e[9]!==m||e[10]!==q||e[11]!==f||e[12]!==p||e[13]!==i?(r=function(){s(\"unfollow_dialog_confirmed\"),m!=null&&m(q,f,p),i()},e[8]=s,e[9]=m,e[10]=q,e[11]=f,e[12]=p,e[13]=i,e[14]=r):r=e[14];t=r;e[15]!==s||e[16]!==i?(r=function(){s(\"unfollow_dialog_cancelled\"),i()},e[15]=s,e[16]=i,e[17]=r):r=e[17];r=r;var u;e[18]!==i?(u=function(){c(\"QPLUserFlow\").endCancel(c(\"qpl\")._(379193744,\"299\")),i()},e[18]=i,e[19]=u):u=e[19];var v;e[20]!==n||e[21]!==r||e[22]!==t||e[23]!==g||e[24]!==a||e[25]!==o?(v=j.jsx(c(\"PolarisUnfollowDialogContent.react\"),{isUserPrivate:n,onCancel:r,onUnfollow:t,profilePictureSize:g,profilePictureUrl:a,username:o}),e[20]=n,e[21]=r,e[22]=t,e[23]=g,e[24]=a,e[25]=o,e[26]=v):v=e[26];e[27]!==u||e[28]!==v?(n=j.jsx(d(\"IGCoreDialog.react\").IGCoreDialog,{\"data-testid\":void 0,onModalClose:u,children:v}),e[27]=u,e[28]=v,e[29]=n):n=e[29];return n}g[\"default\"]=a}),98);\n__d(\"PolarisPaidAdsPixelContainerDeferredV2.react\",[\"deferredLoadComponent\",\"react\",\"requireDeferred\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;h||d(\"react\");a=c(\"deferredLoadComponent\")(c(\"requireDeferred\")(\"PolarisPaidAdsPixelsContainerV2.react\").__setRef(\"PolarisPaidAdsPixelContainerDeferredV2.react\"));g[\"default\"]=a}),98);\n__d(\"XRefererFrameControllerRouteBuilder\",[\"jsRouteBuilder\"],(function(a,b,c,d,e,f,g){a=c(\"jsRouteBuilder\")(\"\/common\/referer_frame.php\",Object.freeze({no_lower:!1}),void 0);b=a;g[\"default\"]=b}),98);\n__d(\"getRequestConstUri\",[\"ConstUriUtils\",\"unrecoverableViolation\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){var a=d(\"ConstUriUtils\").getUri(window.location.href);if(a==null)throw c(\"unrecoverableViolation\")(\"Cannot create ConstUriImpl of current request\",\"comet_infra\");return a}g[\"default\"]=a}),98);\n__d(\"isDollyFBURI\",[\"isFacebookURI\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(a){return c(\"isFacebookURI\")(a)&&a.getSubdomain()===\"store\"}g[\"default\"]=a}),98);\n__d(\"isWhatsAppBlogURI\",[],(function(a,b,c,d,e,f){var g=new RegExp(\"^blog\\\\.whatsapp\\\\.com$\",\"i\"),h=[\"https\"];function a(a){if(a.isEmpty()&&a.toString()!==\"#\")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f[\"default\"]=a}),66);\n__d(\"ControlledReferer\",[\"invariant\",\"Bootloader\",\"ConstUriUtils\",\"CookieConsent\",\"XRefererFrameControllerRouteBuilder\",\"getRequestConstUri\",\"gkx\",\"isDollyFBURI\",\"isInstagramURI\",\"isInternalFBURI\",\"isMessengerDotComURI\",\"isMetaDotComURI\",\"isOculusDotComURI\",\"isWhatsAppBlogURI\",\"isWorkplaceDotComURI\",\"lowerFacebookDomain\"],(function(a,b,c,d,e,f,g,h){var i;function j(a,b,e){if(!(i||(i=c(\"CookieConsent\"))).isThirdPartyIframeAllowed(a)){c(\"Bootloader\").loadModules([\"ODS\"],function(b){b.bumpEntityKey(2966,\"defer_cookies\",\"block_controlled_referer_iframe_\"+a.id)},\"ControlledReferer\");return}function f(){var c=\"\";try{c=a.contentWindow.location.pathname}catch(a){return}if(c!==\"\/intern\/common\/referer_frame.php\"&&c!==\"\/common\/referer_frame.php\"&&c!==\"\/common\/referer_frame.php\/\")return;a.contentWindow.document.body.style.margin=0;b()}var g=c(\"gkx\")(\"20935\")&&c(\"gkx\")(\"21100\")&&!c(\"lowerFacebookDomain\").isValidDocumentDomain();g=c(\"XRefererFrameControllerRouteBuilder\").buildUri({no_lower:g});var j;c(\"isMessengerDotComURI\")(c(\"getRequestConstUri\")())||c(\"isInstagramURI\")(c(\"getRequestConstUri\")())||c(\"isWhatsAppBlogURI\")(c(\"getRequestConstUri\")())||c(\"isMetaDotComURI\")(c(\"getRequestConstUri\")())||c(\"isDollyFBURI\")(c(\"getRequestConstUri\")())||c(\"isWorkplaceDotComURI\")(c(\"getRequestConstUri\")())?j=g:c(\"isOculusDotComURI\")(c(\"getRequestConstUri\")())?j=g:c(\"isInternalFBURI\")(c(\"getRequestConstUri\")())?j=d(\"ConstUriUtils\").getUri(\"\/intern\/common\/referer_frame.php\"):j=g;e==null&&c(\"isWorkplaceDotComURI\")(c(\"getRequestConstUri\")())&&(e=\"workplace\");if(e){j=(g=j)==null?void 0:g.addQueryParam(\"fb_source\",e)}j!=null||h(0,67317);a.onload=f;a.src=j.toString()}function a(a,b,c){j(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=j;g.useFacebookRefererHtml=a}),98);\n__d(\"SecurePostMessage\",[\"invariant\"],(function(a,b,c,d,e,f,g){\"use strict\";var h=\"*\";a={sendMessageToSpecificOrigin:function(a,b,c,d){c!==h||g(0,21157),a.postMessage(b,c,d)},sendMessageForCurrentOrigin:function(a,b){a.postMessage(b)},sendMessageAllowAnyOrigin_UNSAFE:function(a,b,c){a.postMessage(b,h,c)}};e.exports=a}),null);\n__d(\"StaticContainer.react\",[\"react\"],(function(a,b,c,d,e,f,g){var h,i=h||d(\"react\");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:i.Children.only(a)};return b}(i.Component);g[\"default\"]=a}),98);\n__d(\"ControlledRefererIFrame.react\",[\"ControlledReferer\",\"ControlledRefererIFrameConfig\",\"SecurePostMessage\",\"StaticContainer.react\",\"TrustedTypesNoOpPolicy_DO_NOT_USE\",\"URI\",\"isTruthy\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j=i||d(\"react\");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mountFrameRef=function(a){this.frame=a};e.updateFrame=function(){var a=this,b=this.frame;if(!b)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);d(\"ControlledReferer\").shouldUseFacebookReferer(b,function(){var e=b.contentWindow.document;e.body.innerHTML=c(\"TrustedTypesNoOpPolicy_DO_NOT_USE\").createHTML('\\n        <form method=\"GET\" id=\"theform\"><\/form>\\n        '+d(\"ControlledRefererIFrameConfig\").additional_markup+\"\\n      \");var f=new(h||(h=c(\"URI\")))(a.props.src).qualify(),g=e.getElementById(\"theform\");g.action=f.toString();var i=f.getQueryData();f=function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var b=i[a];if(Array.isArray(b))b.forEach(function(b){var c=e.createElement(\"input\");c.name=a+\"[]\";c.setAttribute(\"value\",b);c.autocomplete=\"off\";c.type=\"hidden\";g.appendChild(c)});else{b=e.createElement(\"input\");b.name=a;b.setAttribute(\"value\",i[a]);b.autocomplete=\"off\";b.type=\"hidden\";g.appendChild(b)}}};for(var j in i)f(j);f='\\n        <iframe\\n          frameborder=\"0\"\\n          width=\"1\"\\n          height=\"1\"\\n          onload=\"document.getElementById(\\'theform\\').submit()\"\\n        \/>\\n      ';if(c(\"isTruthy\")(a.props.useTrustedHtml)){j=c(\"TrustedTypesNoOpPolicy_DO_NOT_USE\").createHTML(e.body.innerHTML+f);a.props.onFrameRender&&a.props.onFrameRender(a.props);e.body.innerHTML=j}else e.body.innerHTML+=f;a.props.onFrameRender&&a.props.onFrameRender(a.props)})};e.componentDidMount=function(){this.updateFrame()};e.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};e.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=\"\"+a.width),a.height!=null&&(b.height=\"\"+a.height))};e.render=function(){var a=this,b=this.props;b.src;b.onFrameRender;b.onBeforeFrameRender;b.useTrustedHtml;b=babelHelpers.objectWithoutPropertiesLoose(b,[\"src\",\"onFrameRender\",\"onBeforeFrameRender\",\"useTrustedHtml\"]);return j.jsx(c(\"StaticContainer.react\"),{children:j.jsx(\"iframe\",babelHelpers[\"extends\"]({},b,{ref:function(b){return a.mountFrameRef(b)}}))})};e.postMessage=function(a,b){this.frame&&c(\"SecurePostMessage\").sendMessageToSpecificOrigin(this.frame.contentWindow,a,b)};return b}(j.PureComponent);g[\"default\"]=a}),98);\n__d(\"PolarisPaidAdsPixelsContainerV2.react\",[\"ControlledRefererIFrame.react\",\"PolarisErrorBoundary.react\",\"PolarisWebStorage\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;b=1e3*60*60*24;var k=b*7,l=\"pixel_fire_ts\";function m(){var a=i(4),b,d,e;if(a[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")){e=Symbol[\"for\"](\"react.early_return_sentinel\");bb12:{d=c(\"PolarisWebStorage\").getLocalStorage();if(!d){e=null;break bb12}b=parseInt(d.getItem(l),10)}a[0]=b;a[1]=d;a[2]=e}else b=a[0],d=a[1],e=a[2];if(e!==Symbol[\"for\"](\"react.early_return_sentinel\"))return e;e=b;if(Date.now()-e<k)return null;a[3]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(e=j.jsx(c(\"ControlledRefererIFrame.react\"),{hidden:!0,onFrameRender:function(){d.setItem(l,Date.now().toString())},src:\"\/paid_ads\/generete_pixels\/\"},\"pixels_iframe\"),a[3]=e):e=a[3];return e}function a(){var a=i(1),b;a[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(b=j.jsx(c(\"PolarisErrorBoundary.react\"),{children:j.jsx(m,{})}),a[0]=b):b=a[0];return b}g[\"default\"]=a}),98);\n__d(\"MAWSetupUtils\",[\"Promise\",\"WebAsyncStorage\",\"promiseDone\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i;e=i||d(\"react\");var j=e.useEffect,k=e.useState;function l(a){a===void 0&&(a=!1);return a&&!c(\"WebAsyncStorage\").isOpenPromiseSettled()?(h||(h=b(\"Promise\"))).resolve(!1):c(\"WebAsyncStorage\").isOperational()}var m=!1;function a(){var a=k(m),b=a[0],d=a[1];j(function(){c(\"promiseDone\")(l().then(function(a){d(a),m=a}))},[d]);return b}g.isIDBOperational=l;g.useIsIDBOperational=a}),98);\n__d(\"LSClearMessagePlaceholderRange\",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a[\"delete\"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);\n__d(\"LSInsertNewMessageRange\",[\"LSClearMessagePlaceholderRange\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b(\"LSClearMessagePlaceholderRange\"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\/*FB_PKG_DELIM*\/\n__d(\"LSPlatformSyncReliabilityChannelsQuery_facebookRelayOperation\",[],(function(a,b,c,d,e,f){e.exports=\"7497412130297261\"}),null);\n__d(\"LSPlatformSyncReliabilityChannelsQuery.graphql\",[\"LSPlatformSyncReliabilityChannelsQuery_facebookRelayOperation\"],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{kind:\"Literal\",name:\"channels_threads_only\",value:!0},{kind:\"Literal\",name:\"last\",value:1}],c={alias:null,args:null,kind:\"ScalarField\",name:\"updated_time\",storageKey:null};return{fragment:{argumentDefinitions:[],kind:\"Fragment\",metadata:null,name:\"LSPlatformSyncReliabilityChannelsQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:\"message_threads(channels_threads_only:true,last:1)\"}],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:[],kind:\"Operation\",name:\"LSPlatformSyncReliabilityChannelsQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c,{alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:\"message_threads(channels_threads_only:true,last:1)\"}],storageKey:null}]},params:{id:b(\"LSPlatformSyncReliabilityChannelsQuery_facebookRelayOperation\"),metadata:{},name:\"LSPlatformSyncReliabilityChannelsQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"LSPlatformSyncReliabilityCommunityQuery_facebookRelayOperation\",[],(function(a,b,c,d,e,f){e.exports=\"25714863828112144\"}),null);\n__d(\"LSPlatformSyncReliabilityCommunityQuery.graphql\",[\"LSPlatformSyncReliabilityCommunityQuery_facebookRelayOperation\"],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{kind:\"Literal\",name:\"community_threads_only\",value:!0},{kind:\"Literal\",name:\"last\",value:1}],c={alias:null,args:null,kind:\"ScalarField\",name:\"updated_time\",storageKey:null};return{fragment:{argumentDefinitions:[],kind:\"Fragment\",metadata:null,name:\"LSPlatformSyncReliabilityCommunityQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:\"message_threads(community_threads_only:true,last:1)\"}],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:[],kind:\"Operation\",name:\"LSPlatformSyncReliabilityCommunityQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c,{alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:\"message_threads(community_threads_only:true,last:1)\"}],storageKey:null}]},params:{id:b(\"LSPlatformSyncReliabilityCommunityQuery_facebookRelayOperation\"),metadata:{},name:\"LSPlatformSyncReliabilityCommunityQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"LSPlatformSyncReliabilityFnFQuery_facebookRelayOperation\",[],(function(a,b,c,d,e,f){e.exports=\"8054097694619624\"}),null);\n__d(\"LSPlatformSyncReliabilityFnFQuery.graphql\",[\"LSPlatformSyncReliabilityFnFQuery_facebookRelayOperation\"],(function(a,b,c,d,e,f){\"use strict\";a=function(){var a=[{kind:\"Literal\",name:\"fnf_threads_only\",value:!0},{kind:\"Literal\",name:\"last\",value:1}],c={alias:null,args:null,kind:\"ScalarField\",name:\"updated_time\",storageKey:null};return{fragment:{argumentDefinitions:[],kind:\"Fragment\",metadata:null,name:\"LSPlatformSyncReliabilityFnFQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:\"message_threads(fnf_threads_only:true,last:1)\"}],storageKey:null}],type:\"Query\",abstractKey:null},kind:\"Request\",operation:{argumentDefinitions:[],kind:\"Operation\",name:\"LSPlatformSyncReliabilityFnFQuery\",selections:[{alias:null,args:null,concreteType:\"Viewer\",kind:\"LinkedField\",name:\"viewer\",plural:!1,selections:[{alias:null,args:a,concreteType:\"ViewerMessageThreadsConnection\",kind:\"LinkedField\",name:\"message_threads\",plural:!1,selections:[{alias:null,args:null,concreteType:\"ViewerMessageThreadsEdge\",kind:\"LinkedField\",name:\"edges\",plural:!0,selections:[{alias:null,args:null,concreteType:\"MessageThread\",kind:\"LinkedField\",name:\"node\",plural:!1,selections:[c,{alias:null,args:null,kind:\"ScalarField\",name:\"id\",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:\"message_threads(fnf_threads_only:true,last:1)\"}],storageKey:null}]},params:{id:b(\"LSPlatformSyncReliabilityFnFQuery_facebookRelayOperation\"),metadata:{},name:\"LSPlatformSyncReliabilityFnFQuery\",operationKind:\"query\",text:null}}}();e.exports=a}),null);\n__d(\"ReStoreDBCorruption\",[],(function(a,b,c,d,e,f){\"use strict\";var g=\"Got unexpected undefined\",h=\"ReStoreDBCorruption\";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d=g+\", table: \"+b;c=a.call(this,d)||this;c.message=d;c.name=h;c.tableName=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=h;f.ReStoreDBCorruption=a}),66);\n__d(\"MWPUncaughtErrorStateWithAction.react\",[\"fbt\",\"MWDeleteAllDBs\",\"ReStoreDBCorruption\",\"ReStoreDbVersionChange\",\"ReStoreDecryptionFailure\",\"ReStoreEARSetupFailure\",\"asyncToGeneratorRuntime\",\"cr:6883\",\"emptyFunction\",\"gkx\",\"isArmadillo\",\"promiseDone\",\"react\",\"recoverableViolation\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i;i||(i=d(\"react\"));var j=i,k=j.useCallback,l=j.useEffect,m=j.useMemo;function a(){return n.apply(this,arguments)}function n(){n=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){yield c(\"MWDeleteAllDBs\")(\"error\")});return n.apply(this,arguments)}j={action:a,body:c(\"isArmadillo\")?h._(\"__JHASH__ee6MA3uWv7t__JHASH__\"):null,header:c(\"isArmadillo\")?h._(\"__JHASH__ZtiWLX5ybEL__JHASH__\"):null};var o=(a={},a[d(\"ReStoreDBCorruption\").ERROR_NAME]={action:function(){return b(\"cr:6883\")&&b(\"cr:6883\").deleteIndexedDB(\"error\")}},a[d(\"ReStoreEARSetupFailure\").ERROR_NAME]=j,a[d(\"ReStoreEARSetupFailure\").ERROR_MESSAGE]=j,a[d(\"ReStoreDbVersionChange\").ERROR_NAME]={action:function(){},body:h._(\"__JHASH__GVy7XHUrKBw__JHASH__\"),header:h._(\"__JHASH__yndRKuZ7kSc__JHASH__\")},a);function p(a){if(a instanceof d(\"ReStoreDBCorruption\").ReStoreDBCorruption)return o[d(\"ReStoreDBCorruption\").ERROR_NAME];else if(!(c(\"gkx\")(\"23663\")||c(\"gkx\")(\"23664\"))&&a instanceof d(\"ReStoreDecryptionFailure\").ReStoreDecryptionFailure)return o[d(\"ReStoreEARSetupFailure\").ERROR_NAME];else if(a instanceof d(\"ReStoreDbVersionChange\").ReStoreDbVersionChange)return o[d(\"ReStoreDbVersionChange\").ERROR_NAME];else try{var b=a.messageFormat||\"\";for(var e in o){var f=a.name===e||b.includes(e);if(f)return o[e]}return{action:c(\"emptyFunction\")}}catch(a){c(\"recoverableViolation\")(\"Couldn't parse error message in MWPUncaughtErrorStateWithAction\",\"messenger_web_product\",a);return{action:c(\"emptyFunction\")}}}function e(a){var e=a.canTriggerAutoReload,f=a.children,g=a.error,h=m(function(){return p(g)},[g]);a=k(function(){c(\"promiseDone\")(b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){yield h==null?void 0:h.action(),window.location.reload(!0)})())},[h]);l(function(){e===!0&&(g instanceof d(\"ReStoreDbVersionChange\").ReStoreDbVersionChange||g.name===d(\"ReStoreDbVersionChange\").ERROR_NAME)&&document.visibilityState===\"hidden\"&&window.location.reload(!0)},[e,g]);return f(h.header,h.description,a)}e.displayName=e.name+\" [from \"+f.id+\"]\";g[\"default\"]=e}),226);\n__d(\"SyncReliabilityError\",[],(function(a,b,c,d,e,f){\"use strict\";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.name=\"SyncReliabilityError\";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f[\"default\"]=a}),66);\n__d(\"LSPlatformSyncReliabilityFactory\",[\"FBLogger\",\"I64\",\"LSIntEnum\",\"ODS\",\"Promise\",\"ReQL\",\"SyncReliabilityError\",\"asyncToGeneratorRuntime\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j,k,l=30*1e3,m=60*1e3,n=5,o=function(a,c){return new(k||(k=b(\"Promise\")))(function(d){window.setTimeout(b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){return d(yield c())}),a)})},p=function(a,b,c,d,e){if(a===n)return!1;a=d===b;d=e===c;return!a||!d},q=function(a,b){if(a==null&&b==null)return;c(\"FBLogger\")(\"messenger_web_product\").warn(\"A timestamp is missing for comparison LSDB = %s, GQL = %s\",String(a),String(b));return};e=function(a,e,f){var g=null,i=null,j=function(a){(h||(h=d(\"ODS\"))).bumpEntityKey(3303,f,a)},k=function(){var d=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(b,d){var f=d.retryCount;try{var h=(yield e(b)),m=(yield a());if(h==null||m==null)return q(h,m);d=function(a){if(p(f,h,m,g,i)){g=h;i=m;return o(l,function(){return k(b,{retryCount:f+1})})}g=null;i=null;j(a)};h===m?j(\"success\"):h<m?yield d(\"failure.updates_not_received\"):yield d(\"failure.updates_not_sent\")}catch(a){d=((d=a==null?void 0:a.name)!=null?d:\"Error:\")+\": \"+((a==null?void 0:a.description)||(a==null?void 0:a.message)||a);c(\"FBLogger\")(\"messenger_web_product\").catching(a).mustfix(\"LS Sync reliability agent failure -- %s\",d)}});return function(a,b){return d.apply(this,arguments)}}();return k};var r=function(a,b){var d=null,e=!0,f=function f(){c(\"promiseDone\")(a().then(function(){if(!e)return;d=window.setTimeout(function(){f()},b)}))};f();return function(){e=!1,window.clearTimeout(d)}};function a(a,b,c){if(!c())return function(){};var d=r(function(){return b(a,{retryCount:0})},m);return function(){d()}}f=function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){b=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableDescending(a.tables.threads.index(\"lastActivityTimestampMs\")).filter(b)));if(!b)return null;var e=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableDescending(a.tables.messages.index(\"messageDisplayOrder\")).getKeyRange(b.threadKey)));if(!e){a=!!(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableDescending(a.tables.messages).getKeyRange(b.threadKey)));throw new(c(\"SyncReliabilityError\"))(\"Unable to fetch last message from thread, threadType = \"+String((i||(i=d(\"LSIntEnum\"))).toNumber(b.threadType))+\", threadHasMessages = \"+String(a)+\".\")}return parseInt((j||(j=d(\"I64\"))).to_float(e.timestampMs)\/1e3,10)});return function(b,c){return a.apply(this,arguments)}}();g.LOOP_INTERVAL_MS=m;g.createCompute=e;g.startAgent=a;g.fetchLastOMTimestampFromLSDB=f}),98);\n__d(\"LSPlatformSyncReliabilityThreadSubtypeProvider\",[\"I64\",\"MessagingThreadSubtype\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(a){return a==null?!1:[c(\"MessagingThreadSubtype\").COMMUNITY_MESSAGING_PUBLIC_THREAD,c(\"MessagingThreadSubtype\").COMMUNITY_MESSAGING_PRIVATE_THREAD,c(\"MessagingThreadSubtype\").COMMUNITY_MESSAGING_ADMOD_THREAD,c(\"MessagingThreadSubtype\").COMMUNITY_MESSAGING_BROADCAST_THREAD,c(\"MessagingThreadSubtype\").STANDALONE_COMMUNITY_STANDARD_THREAD].includes((h||(h=d(\"I64\"))).to_int32(a))};b=function(a){return a==null?!1:[c(\"MessagingThreadSubtype\").DISCOVERABLE_PUBLIC_BROADCAST_CHAT,c(\"MessagingThreadSubtype\").DISCOVERABLE_PUBLIC_CHAT_V2].includes((h||(h=d(\"I64\"))).to_int32(a))};g.isCommunityThread=a;g.isChannelsThread=b}),98);\n__d(\"LSPlatformSyncReliabilityChannels\",[\"CometRelay\",\"CometRelayEnvironment\",\"LSMessagingThreadTypeUtil\",\"LSPlatformSyncReliabilityChannelsQuery.graphql\",\"LSPlatformSyncReliabilityFactory\",\"LSPlatformSyncReliabilityThreadSubtypeProvider\",\"asyncToGeneratorRuntime\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(a){return d(\"LSPlatformSyncReliabilityFactory\").fetchLastOMTimestampFromLSDB(a,function(a){return!d(\"LSMessagingThreadTypeUtil\").isSecure(a.threadType)&&d(\"LSPlatformSyncReliabilityThreadSubtypeProvider\").isChannelsThread(a.threadSubtype)&&!d(\"LSMessagingThreadTypeUtil\").isCMFolder(a.threadType)})};e=function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){var a=d(\"CometRelay\").fetchQuery(c(\"CometRelayEnvironment\"),h!==void 0?h:h=b(\"LSPlatformSyncReliabilityChannelsQuery.graphql\"),{}).toPromise();a=(yield a)||{};a=a.viewer;return a==null?void 0:(a=a.message_threads)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.updated_time});return function(){return a.apply(this,arguments)}}();var i=function(){return c(\"gkx\")(\"24157\")},j=d(\"LSPlatformSyncReliabilityFactory\").createCompute(e,a,\"sync_reliability_channels_metric\");f=function(a){return d(\"LSPlatformSyncReliabilityFactory\").startAgent(a,j,i)};g.fetchLastOMTimestampFromLSDB=a;g.compute=j;g.startAgent=f}),98);\n__d(\"LSPlatformSyncReliabilityCommunity\",[\"CometRelay\",\"CometRelayEnvironment\",\"LSMessagingThreadTypeUtil\",\"LSPlatformSyncReliabilityCommunityQuery.graphql\",\"LSPlatformSyncReliabilityFactory\",\"LSPlatformSyncReliabilityThreadSubtypeProvider\",\"asyncToGeneratorRuntime\",\"gkx\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(a){return d(\"LSPlatformSyncReliabilityFactory\").fetchLastOMTimestampFromLSDB(a,function(a){return!d(\"LSMessagingThreadTypeUtil\").isSecure(a.threadType)&&d(\"LSPlatformSyncReliabilityThreadSubtypeProvider\").isCommunityThread(a.threadSubtype)&&!d(\"LSMessagingThreadTypeUtil\").isCMFolder(a.threadType)})};e=function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){var a=d(\"CometRelay\").fetchQuery(c(\"CometRelayEnvironment\"),h!==void 0?h:h=b(\"LSPlatformSyncReliabilityCommunityQuery.graphql\"),{}).toPromise();a=(yield a)||{};a=a.viewer;return a==null?void 0:(a=a.message_threads)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.updated_time});return function(){return a.apply(this,arguments)}}();var i=function(){return c(\"gkx\")(\"24157\")},j=d(\"LSPlatformSyncReliabilityFactory\").createCompute(e,a,\"sync_reliability_community_chats_metric\");f=function(a){return d(\"LSPlatformSyncReliabilityFactory\").startAgent(a,j,i)};g.fetchLastOMTimestampFromLSDB=a;g.compute=j;g.startAgent=f}),98);\n__d(\"LSPlatformSyncReliabilityFnF\",[\"CometRelay\",\"CometRelayEnvironment\",\"LSMessagingThreadTypeUtil\",\"LSPlatformSyncReliabilityFactory\",\"LSPlatformSyncReliabilityFnFQuery.graphql\",\"LSPlatformSyncReliabilityThreadSubtypeProvider\",\"asyncToGeneratorRuntime\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;a=function(a){return d(\"LSPlatformSyncReliabilityFactory\").fetchLastOMTimestampFromLSDB(a,function(a){return!d(\"LSMessagingThreadTypeUtil\").isSecure(a.threadType)&&!d(\"LSPlatformSyncReliabilityThreadSubtypeProvider\").isCommunityThread(a.threadSubtype)&&!d(\"LSPlatformSyncReliabilityThreadSubtypeProvider\").isChannelsThread(a.threadSubtype)&&!d(\"LSMessagingThreadTypeUtil\").isCMFolder(a.threadType)&&a.folderName===\"inbox\"})};e=function(){var a=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){var a=d(\"CometRelay\").fetchQuery(c(\"CometRelayEnvironment\"),h!==void 0?h:h=b(\"LSPlatformSyncReliabilityFnFQuery.graphql\"),{}).toPromise();a=(yield a)||{};a=a.viewer;return a==null?void 0:(a=a.message_threads)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.updated_time});return function(){return a.apply(this,arguments)}}();var i=function(){return!0},j=d(\"LSPlatformSyncReliabilityFactory\").createCompute(e,a,\"sync_reliability_open_metric\");f=function(a){return d(\"LSPlatformSyncReliabilityFactory\").startAgent(a,j,i)};g.fetchLastOMTimestampFromLSDB=a;g.compute=j;g.startAgent=f}),98);\n__d(\"LSPlatformClientMainThread\",[\"CurrentMessengerUser\",\"FBLogger\",\"LSCookie\",\"LSPlatformClientInit\",\"LSPlatformDeviceId\",\"LSPlatformSyncLock\",\"LSPlatformSyncReliabilityChannels\",\"LSPlatformSyncReliabilityCommunity\",\"LSPlatformSyncReliabilityFnF\",\"MAWLocalStorage\",\"QPLUserFlow\",\"Random\",\"ReStoreTabNotifier\",\"RunComet\",\"asyncToGeneratorRuntime\",\"gkx\",\"justknobx\",\"qpl\",\"setInterval\"],(function(a,b,c,d,e,f,g){\"use strict\";e=d(\"CurrentMessengerUser\").getIDorEIMU();var h=c(\"ReStoreTabNotifier\")(\"main-tab-\"+e),i=new Set(),j=c(\"justknobx\")._(\"1369\");function a(a,b){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e){function f(){d(\"LSCookie\").setSyncing();if(c(\"gkx\")(\"24152\"))try{var b=d(\"MAWLocalStorage\").getStorage();d(\"MAWLocalStorage\").setItemGuarded(b,d(\"LSPlatformSyncLock\").SYNC_KEY,Date.now().toString())}catch(a){c(\"FBLogger\")(\"mpf_web_foundations\").catching(a).warn(\"Failed to set sync time\")}try{var e=d(\"RunComet\").onBeforeUnload(function(){d(\"LSCookie\").syncBeforeUnload(a),e.remove()},!1)}catch(a){c(\"FBLogger\")(\"mpf_web_foundations\").catching(a).warn(\"Failed to set before unload handler\")}}var g=(yield d(\"LSPlatformSyncLock\").use()),h=null,i=c(\"gkx\")(\"24153\"),j,k=i?g.onLostOnce:g.onLost;i=function(){var c=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(){if(h!==null)return;var b=d(\"LSPlatformDeviceId\").getDeviceIdForProviderType(\"persisted\");j==null?void 0:j();h=[yield d(\"LSPlatformClientInit\").init(a,e,b,f,function(a){}),function(){d(\"LSPlatformSyncReliabilityFnF\").startAgent(a),d(\"LSPlatformSyncReliabilityCommunity\").startAgent(a),d(\"LSPlatformSyncReliabilityChannels\").startAgent(a)}];j=k(function(){if(h!=null){var a=h,b=a[0];a=a[1];b.cleanup();a();h=null}})});return function(){return c.apply(this,arguments)}}();c(\"gkx\")(\"24154\")&&l(g);yield g.requestLock();g.hasLock()&&(yield i());g.onAcquired(i);return{isTabWithoutClient:function(){return g.hasLock()===!1}}});return k.apply(this,arguments)}var l=function(a){h.onEventReceive(\"mainTabHeartbeat\",function(b){a.hasLock()&&h.postMessage(\"mainTabHeartbeatResponse\",b)}),h.onEventReceive(\"mainTabHeartbeatResponse\",function(a){i.has(a)&&(c(\"QPLUserFlow\").endSuccess(c(\"qpl\")._(25301467,\"439\"),{instanceKey:a}),i[\"delete\"](a))}),c(\"setInterval\")(function(){if(!a.hasLock()){var b=Date.now()+(Math.round(d(\"Random\").random()*1e4)+1e4);c(\"QPLUserFlow\").start(c(\"qpl\")._(25301467,\"439\"),{instanceKey:b,timeoutInMs:6e4});h.postMessage(\"mainTabHeartbeat\",b);i.add(b)}},j)};g.make=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"PolarisOrdersAndPaymentsRecurringPaymentsRootQuery_instagramRelayOperation\",[],(function(a,b,c,d,e,f){e.exports=\"6501462469935878\"}),null);\n__d(\"LSSerializeTaskStoredProcedure\",[\"LSSerializeTask\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.taskId;d[1]=b.taskLabel;d[2]=b.taskValue;d[3]=b.requiresAuthentication;return c(\"LSSerializeTask\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\n__d(\"LSBeginHandlingPendingTasksForQueue2\",[\"I64\",\"LSFactory\",\"LSIntEnum\",\"LSPendingTasksPluginType\",\"LSSerializeTaskStoredProcedure\",\"Promise\",\"ReQL\",\"XPlatReactCrypto\",\"asyncToGeneratorRuntime\",\"nullthrows\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j,k=500,l=3e4,m=\"4\",n=\"16\",o=5,p=50,q=7;function r(a,b){return s.apply(this,arguments)}function s(){s=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield a.lightspeed_task_context.get(b));return a==null||a.requiresAuthentication});return s.apply(this,arguments)}function t(a,b){return u.apply(this,arguments)}function u(){u=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.pending_tasks.index(\"queueNameTaskId\")).getKeyRange(b)));return a==null?{context:void 0,failureCount:(i||(i=d(\"I64\"))).neg_one,httpUrlOverride:void 0,minTimeToSyncTimestampMs:i.neg_one,pluginType:(j||(j=d(\"LSIntEnum\"))).ofNumber(c(\"LSPendingTasksPluginType\").LS_BROKER),queueName:\"\"}:a});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.network_requests).getKeyRange(b)));return a==null?0:(i||(i=d(\"I64\"))).to_float(a.lastSyncRequestTimestampMs)});return w.apply(this,arguments)}function x(a,b,c){b=(i||(i=d(\"I64\"))).equal(a.failureCount,(i||(i=d(\"I64\"))).zero)||b;if(b)return 0;b=(i||(i=d(\"I64\"))).to_float(a.failureCount)>q?(i||(i=d(\"I64\"))).to_float(a.failureCount)-q:(i||(i=d(\"I64\"))).to_float(a.failureCount);a=Math.min((1<<Math.min(b-1,q))*k,l);b=c+a;return Math.max(b-Date.now(),0)}function y(){var a=Array.from(d(\"XPlatReactCrypto\").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(i||(i=d(\"I64\"))).add(i.lsl_(i.of_float(a[0]),32),i.of_float(a[1]))}function z(){var a=(i||(i=d(\"I64\"))).of_float(Date.now());return i.and_(i.or_(i.lsl_(a,22),i.and_(y(),i.of_string(\"4194303\"))),i.of_string(\"9223372036854775807\"))}function A(a,b){return B.apply(this,arguments)}function B(){B=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){var c=z(),e=(yield a.network_requests.get(b,(i||(i=d(\"I64\"))).neg_one));e==null?yield a.network_requests.add({epochId:c,failureCount:(i||(i=d(\"I64\"))).zero,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.of_float(Date.now()),syncDatabaseId:i.neg_one,taskQueueName:b}):yield a.network_requests.put(babelHelpers[\"extends\"]({},e,{epochId:c,lastSyncRequestTimestampMs:(i||(i=d(\"I64\"))).of_float(Date.now())}));return c});return B.apply(this,arguments)}function C(a,b){return D.apply(this,arguments)}function D(){D=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){return(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.network_requests).getKeyRange(b).filter(function(a){return a.epochId!=null})))!=null});return D.apply(this,arguments)}function E(a,b,c){var e=(i||(i=d(\"I64\"))).to_float(a.minTimeToSyncTimestampMs),f=Date.now();e=e-f;f=e<=0;return f?x(a,b,c):e}function F(a){return a.httpUrlOverride!=null||(i||(i=d(\"I64\"))).to_float(a.failureCount)>q}function G(a){var b=(i||(i=d(\"I64\"))).to_float(a.pluginType)!==c(\"LSPendingTasksPluginType\").LS_BROKER;a=a.context===n||a.context===m;return b||a}function H(a){return a.timeoutTimestampMs!=null?(i||(i=d(\"I64\"))).to_float(a.timeoutTimestampMs)<=Date.now():!1}function I(a){return a===90..toString()||a===130..toString()||a===153..toString()}function J(a,b,c,d,e){e=e===0?void 0:e;return{failureCount:e,label:a,payload:b,queueName:c,taskId:d}}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,e){a=(yield c(\"LSSerializeTaskStoredProcedure\")(c(\"LSFactory\")(a),{requiresAuthentication:e,taskId:b.taskId,taskLabel:b.context,taskValue:b.taskValue}));e=a[0];var f=a[1];a[2];a=a[3];if(e==null){if(a!=null)return{minRetryDelayMs:a};return}return J(f,e,b.queueName,b.taskId,(i||(i=d(\"I64\"))).to_float(b.failureCount))});return L.apply(this,arguments)}function M(a,b,c){return N.apply(this,arguments)}function N(){N=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,c){if(b.context==null){yield a.pending_tasks[\"delete\"](b.taskId);return}var d=H(b);if(d){yield a.pending_tasks[\"delete\"](b.taskId);return}return K(a,b,c)});return N.apply(this,arguments)}function O(a,b){b=b>=(a===String(207)?p:o)||I(a);return!b}function P(a,b){return Q.apply(this,arguments)}function Q(){Q=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){(i||(i=d(\"I64\"))).equal(b.firstExecutedTimestampMs,(i||(i=d(\"I64\"))).zero)&&(yield a.pending_tasks.put(babelHelpers[\"extends\"]({},c(\"nullthrows\")(yield a.pending_tasks.get(b.taskId)),{firstExecutedTimestampMs:(i||(i=d(\"I64\"))).of_float(Date.now())})))});return Q.apply(this,arguments)}function R(a,b){return S.apply(this,arguments)}function S(){S=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,e){var f=[],g=(yield d(\"ReQL\").toArrayAsync(d(\"ReQL\").fromTableAscending(a.pending_tasks.index(\"queueNameTaskId\")).getKeyRange(e)));e=(yield t(a,e)).httpUrlOverride;var j=(yield (h||(h=b(\"Promise\"))).all(g.map(function(b){return r(a,b.taskId)}))).some(Boolean);for(g of g){var k=g.httpUrlOverride===e,l=(yield r(a,g.taskId))===j;yield P(a,g);if(!k||!l||(i||(i=d(\"I64\"))).to_float(g.pluginType)===c(\"LSPendingTasksPluginType\").IGD_INSTAMADILLO&&f.length!==0)break;k=(yield M(a,g,j));if(k!=null&&k.payload!=null)f.push(k);else if((k==null?void 0:k.minRetryDelayMs)!=null){l=(yield a.pending_tasks.get(g.taskId));if(l!=null){yield a.pending_tasks.put(babelHelpers[\"extends\"]({},l,{failureCount:(i||(i=d(\"I64\"))).add((l=l.failureCount)!=null?l:(i||(i=d(\"I64\"))).zero,i.one),minTimeToSyncTimestampMs:i.add(k.minRetryDelayMs,i.of_float(Date.now()))}))}}else yield a.pending_tasks[\"delete\"](g.taskId);if(!O(g.context,f.length))break}return{epochId:void 0,tasks:f}});return S.apply(this,arguments)}function T(a,b){return U.apply(this,arguments)}function U(){U=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b){var c=G(b);if(c)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:!1,workItemType:2};c=(yield R(a,b.queueName));var d=c.tasks;if(d.length===0)return{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:!1,workItemType:4};d=(yield A(a,b.queueName));c.epochId=d;d=(yield t(a,b.queueName));return{httpUrlOverride:d.httpUrlOverride,networkPayload:c,nextSyncMs:void 0,queueName:b.queueName,skipRealtimeGateway:F(d),workItemType:1}});return U.apply(this,arguments)}function V(a,b,c){return W.apply(this,arguments)}function W(){W=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,c){var d=(yield t(a,b)),e=(yield v(a,b));c=E(d,c,e);e=c!==0;return e?{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:c,queueName:b,skipRealtimeGateway:!1,workItemType:3}:T(a,d)});return W.apply(this,arguments)}function X(a,b,c){return Y.apply(this,arguments)}function Y(){Y=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a,b,c){var d=!(yield C(a,b));return d?V(a,b,c):{httpUrlOverride:void 0,networkPayload:void 0,nextSyncMs:void 0,queueName:b,skipRealtimeGateway:!1,workItemType:4}});return Y.apply(this,arguments)}function a(a,b,c){return X(a,b,c)}a._updateTaskIfNeeded=P;a._getHeadOfNormalQueue=t;a._lastSyncRequestTimestampForQueue=v;a._exponentialBackoffForNormalQueue=x;a._generateNewEpoch=z;a._openNewEpochForQueue=A;a._isEpochOpenForQueue=C;a._calculateDelayForNormalQueue=E;a._queueShouldSkipRealtimeGateway=F;a._normalQueueNeedsNativeHandling=G;a._taskIsTimedOut=H;a._taskShouldStopBatching=I;a._buildTaskPayloadExpressionForNormalTaskWithParameters=J;a._buildTaskPayloadExpressionForValidatedNormalTask=K;a._buildTaskPayloadExpressionForUnvalidatedNormalTask=M;a._workForNormalQueueWithoutDelay=T;a._workForNormalQueueWithClosedEpoch=V;a._buildWorkForNormalQueue=X;a._buildNetworkPayloadShapeForNormalQueue=R;a._canContinueBatchingForQueue=O;g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"IGDDataclassTypes.flow\",[\"$InternalEnum\"],(function(a,b,c,d,e,f){\"use strict\";c=(a=b(\"$InternalEnum\"))({Bold:\"BOLD\",Italic:\"ITALIC\",Strikethrough:\"STRIKETHROUGH\",Underline:\"UNDERLINE\",Invalid:\"INVALID\"});d=a({Once:\"ONCE\",Replayable:\"REPLAYABLE\",Permanent:\"PERMANENT\"});e=a({ShhMode:\"SHH_MODE\",DisappearingMessage:\"DISAPPEARING_MESSAGE\"});b=a({Share:\"SHARE\",Reply:\"REPLY\",React:\"REACT\",Mention:\"MENTION\"});var g=a({Note:\"NOTE\",Story:\"STORY\",Profile:\"PROFILE\",Clip:\"CLIP\",Feed:\"FEED\",Live:\"LIVE\",Comment:\"COMMENT\",ReelsAudio:\"REELS_AUDIO\",MediaNote:\"MEDIA_NOTE\",StoryHighlight:\"STORY_HIGHLIGHT\",SocialContext:\"SOCIAL_CONTEXT\"});a=a({Mention:\"MENTION\",Reply:\"REPLY\"});f.TextFormatStyle=c;f.ViewMode=d;f.EphemeralityProductType=e;f.XmsgIgXmaActionType=b;f.XmsgIgReceiverFetchContentType=g;f.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=a}),66);\n__d(\"LSVerifyThreadExistsV2\",[\"LSGetViewerFBID\",\"LSIssueNewTask\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName===\"other\"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===\"\"?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set(\"thread_fbid\",a[0]),d[3].set(\"force_upsert\",a[5]),d[3].set(\"use_open_messenger_transport\",!1),d[3].set(\"sync_group\",a[6]),d[3].set(\"metadata_only\",a[7]),d[3].set(\"preview_only\",!1),d[4]=d[3].get(\"thread_fbid\"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b(\"LSIssueNewTask\"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[13]=!1:(e=b.item,d[13]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[13]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,8650752]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),d[12]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[9]:d[5],capabilities2:d[3]?d[10]:d[6],capabilities3:d[3]?d[11]:d[7],capabilities4:d[3]?d[12]:d[8],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b(\"LSGetViewerFBID\")).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[13]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[13])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a[\"delete\"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[13],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSVerifyThreadRowExistsV2\",[\"LSVerifyThreadExistsV2\"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b(\"LSVerifyThreadExistsV2\"),a[0],a[1],\"inbox\",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}e.exports=a}),null);\n__d(\"LSVerifyThreadRowExistsV2StoredProcedure\",[\"LSVerifyThreadRowExistsV2\",\"cr:8709\"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;d[3]=b.authorityLevel;return c(\"LSVerifyThreadRowExistsV2\").apply(void 0,d.concat([a]))}g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"MWEncryptedBackupsSharedState\",[\"WebStorage\",\"getMWEncryptedBackupsIsLocalStorageSupported\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;function i(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?\"true\":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},\"readwrite\",\"background\")}function j(a){var b,e=a.db;a=a.stateKey;if(!d(\"getMWEncryptedBackupsIsLocalStorageSupported\").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c(\"WebStorage\"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c(\"WebStorage\"))).getLocalStorage())==null?void 0:f.removeItem(a);c(\"promiseDone\")(i({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=j({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:j({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?j({db:b,stateKey:a}):c.stateValue}function f(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state[\"delete\"](c)},\"readwrite\",\"background\")}g.upsertEBSharedStateEntry=i;g.getEntryPresentInLocalStorage=j;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=f}),98);\n__d(\"MAWThreadCutover\",[\"I64\",\"LSContactBitOffset\",\"LSDatabaseSingleton\",\"MWEncryptedBackupsLocalStorageEntryEnum\",\"MWEncryptedBackupsSharedState\",\"MWPActor.react\",\"MWPreloadableQueries\",\"ReQL\",\"ReQLSuspense\",\"UserAgent\",\"WAJids\",\"asyncToGeneratorRuntime\",\"gkx\",\"useReStore\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b(\"asyncToGeneratorRuntime\").asyncToGenerator(function*(a){var b=(yield (i||(i=d(\"LSDatabaseSingleton\"))).LSDatabaseSingleton),c=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(b.table(\"mi_act_mapping_table\")).getKeyRange(a)));if(c==null)return!1;a=(yield d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(b.table(\"cutover_threads\")).filter(function(a){return(j||(j=d(\"I64\"))).equal(a.armadilloThreadId,c.jid)})));return a!=null});return k.apply(this,arguments)}function l(a){var b=(h||(h=c(\"useReStore\")))();return d(\"ReQLSuspense\").useFirst(function(){return a!=null?d(\"MWPreloadableQueries\").getCutoverThreadByThreadKey(b,a):d(\"ReQL\").empty()},[b,a],f.id+\":58\")!=null}function e(a){var b,e=(h||(h=c(\"useReStore\")))();b=(b=d(\"ReQLSuspense\").useFirst(function(){return c(\"gkx\")(\"26365\")&&a?d(\"MWPreloadableQueries\").getCutoverThreadByThreadKey(e,a):d(\"ReQL\").empty()},[e,a],f.id+\":70\"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"mi_act_mapping_table\")).getKeyRange(b)}function n(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"cutover_threads\")).filter(function(a){return(j||(j=d(\"I64\"))).equal(a.armadilloThreadId,b)})}function o(a){var b=(h||(h=c(\"useReStore\")))(),e=d(\"ReQLSuspense\").useFirst(function(){return a==null?d(\"ReQL\").empty():m(b,a)},[b,a],f.id+\":103\");return d(\"ReQLSuspense\").useFirst(function(){return e==null?d(\"ReQL\").empty():n(b,e.jid)},[b,e],f.id+\":111\")}function p(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"threads\")).getKeyRange(b.openThreadId)}function q(a){var b=(h||(h=c(\"useReStore\")))(),e=o(a);return d(\"ReQLSuspense\").useFirst(function(){return e==null?d(\"ReQL\").empty():p(b,e)},[b,e],f.id+\":132\")}function r(a){a=o(a);if(a!=null)return a.openThreadId}function s(a){return o(a)!=null}function t(a,b){b=d(\"WAJids\").threadIdForChatJid(b);return d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableAscending(a.table(\"cutover_threads\")).getKeyRange((j||(j=d(\"I64\"))).of_string(b))).then(function(a){return a!=null})}function u(){var a=(h||(h=c(\"useReStore\")))(),b=d(\"MWPActor.react\").useActor();a=d(\"ReQLSuspense\").first(d(\"ReQL\").fromTableAscending(a.table(\"contacts\")).getKeyRange(b),f.id+\":167\");return a!=null&&((b=d(\"LSContactBitOffset\").has(75,a))!=null?b:!1)}function v(){var a=(h||(h=c(\"useReStore\")))(),b=d(\"ReQLSuspense\").useFirst(function(){return d(\"ReQL\").fromTableAscending(a.table(\"experiences_shared_state\")).getKeyRange(c(\"MWEncryptedBackupsLocalStorageEntryEnum\").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+\":182\");b=d(\"MWEncryptedBackupsSharedState\").getEntryValue({db:a,sharedStateRow:b,stateKey:c(\"MWEncryptedBackupsLocalStorageEntryEnum\").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function w(a){var b=(h||(h=c(\"useReStore\")))(),e=a!=null?(j||(j=d(\"I64\"))).of_string(a):void 0,g=l(e);return d(\"ReQLSuspense\").useFirst(function(){if(g&&e!=null)return d(\"ReQL\").fromTableAscending(b.table(\"mi_act_mapping_table\")).filter(function(a){return(j||(j=d(\"I64\"))).equal(a.jid,e)}).map(function(a){return(j||(j=d(\"I64\"))).to_string(a.serverThreadKey)});else return d(\"ReQL\").empty()},[b,e,g],f.id+\":203\")}function x(){return c(\"gkx\")(\"1593\")?c(\"UserAgent\").isBrowser(\"Chrome\"):!0}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=e;g.getMiActMappings=m;g.getCutoverThreadsByJid=n;g.useGetCutoverMapping=o;g.getThreadByCutoverThread=p;g.useCutoverOpenThread=q;g.useGetCutoverOpenThreadKey=r;g.useIsCutoverSecureThread=s;g.isCutoverSecureThreadFromChatJid=t;g.useIsCurrentUserCutoverUser=u;g.useGetHasUserRestoredBefore=v;g.useGetCutoverSecureThreadKey=w;g.useSupportedCutoverEnvironment=x}),98);\/*FB_PKG_DELIM*\/\n__d(\"ScriptPath\",[\"ErrorGuard\",\"SubscriptionList\",\"TimeSlice\",\"WebStorage\",\"isInIframe\"],(function(a,b,c,d,e,f){\"use strict\";var g,h,i=\"sp_pi\",j=1e3*30,k=null,l=null,m=new(b(\"SubscriptionList\"))(),n=null,o=[],p=b(\"TimeSlice\").guard(function(a,c){m.getCallbacks().forEach(function(d){(g||(g=b(\"ErrorGuard\"))).applyWithGuard(function(){d({source:k,dest:l,cause:a,extraData:c})},null,[])})},\"ScriptPath Notifying callbacks\",{propagationType:b(\"TimeSlice\").PropagationType.ORPHAN});function q(){return l?l.scriptPath:void 0}function r(){var a=(h||(h=b(\"WebStorage\"))).getSessionStorage();if(!a||b(\"isInIframe\")())return;h.setItemGuarded(a,i,JSON.stringify({pageInfo:l,clickPoint:n,time:Date.now()}))}function a(){var a=(h||(h=b(\"WebStorage\"))).getSessionStorageForRead();if(!a)return;var c=a.getItem(i);if(c){c=JSON.parse(c);c&&(c.time<Date.now()-j&&(a=(h||(h=b(\"WebStorage\"))).getSessionStorage(),a&&a.removeItem(i)),l=c.pageInfo,n=c.clickPoint,l&&(l.restored=!0))}}a();c={set:function(a,b,c){k=l,l={scriptPath:a,categoryToken:b,extraData:c||{}},o=[],window._script_path=a,p()},openOverlayView:function(a,b,c){if(!a)return;var d=o.length;(d===0||o[d-1]!==a)&&(k=babelHelpers[\"extends\"]({},l),l&&(l.topViewEndpoint=a),c&&c.replaceTopOverlay&&d>0?(o[d-1]=a,p(\"replace_overlay_view\",b)):(o.push(a),p(\"open_overlay_view\",b)))},closeOverlayView:function(a,b){a=o.lastIndexOf(a);if(a===-1)return;k=babelHelpers[\"extends\"]({},l);l&&(a>0?l.topViewEndpoint=o[a-1]:l.topViewEndpoint=null);o=o.slice(0,a);p(\"close_overlay_view\",b)},setClickPointInfo:function(a){n=a,r()},getClickPointInfo:function(){return n},getScriptPath:q,getCategoryToken:function(){return l?l.categoryToken:void 0},getEarlyFlushPage:function(){var a;return(a=l)==null?void 0:(a=a.extraData)==null?void 0:a.ef_page},getTopViewEndpoint:function(){var a=o.length;return a>0?o[a-1]:q()},getPageInfo:function(){return l},getSourcePageInfo:function(){return k},subscribe:function(a){return m.add(b(\"TimeSlice\").guard(a,\"ScriptPath.subscribe\"))},shutdown:function(){r()}};e.exports=c}),null);\/*FB_PKG_DELIM*\/\n__d(\"IGDSPhotoPanoOutlineIcon.react\",[\"IGDSSVGIconBase.react\",\"react\"],(function(a,b,c,d,e,f,g){\"use strict\";var h,i=(h||(h=d(\"react\"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol[\"for\"](\"react.memo_cache_sentinel\")?(d=j.jsx(\"path\",{d:\"M6.549 5.013A1.557 1.557 0 1 0 8.106 6.57a1.557 1.557 0 0 0-1.557-1.557Z\",fillRule:\"evenodd\"}),e=j.jsx(\"path\",{d:\"m2 18.605 3.901-3.9a.908.908 0 0 1 1.284 0l2.807 2.806a.908.908 0 0 0 1.283 0l5.534-5.534a.908.908 0 0 1 1.283 0l3.905 3.905\",fill:\"none\",stroke:\"currentColor\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),f=j.jsx(\"path\",{d:\"M18.44 2.004A3.56 3.56 0 0 1 22 5.564h0v12.873a3.56 3.56 0 0 1-3.56 3.56H5.568a3.56 3.56 0 0 1-3.56-3.56V5.563a3.56 3.56 0 0 1 3.56-3.56Z\",fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c(\"IGDSSVGIconBase.react\"),babelHelpers[\"extends\"]({},a,{viewBox:\"0 0 24 24\",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g[\"default\"]=b}),98);\n__d(\"mergeHelpers\",[\"invariant\",\"FbtResultBase\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i=36,j=function(a){return typeof a!==\"object\"||a instanceof Date||a===null||a instanceof c(\"FbtResultBase\")},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function(a){return a==null?{}:a},checkMergeArrayArgs:function(a,b){Array.isArray(a)&&Array.isArray(b)||h(0,3714,a,b)},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){!j(a)&&!Array.isArray(a)||h(0,3715,a)},checkMergeIntoObjectArg:function(a){(!j(a)||typeof a===\"function\")&&!Array.isArray(a)||h(0,3716,a)},checkMergeLevel:function(a){a<i||h(0,3717)},checkArrayStrategy:function(a){a==null||a in k.ArrayStrategies||h(0,3718)},ArrayStrategies:{Clobber:\"Clobber\",Concat:\"Concat\",IndexByIndex:\"IndexByIndex\"}};a=k;g[\"default\"]=a}),98);\/*FB_PKG_DELIM*\/\n__d(\"MWPreloadableQueries\",[\"I64\",\"ReQL\",\"promiseDone\"],(function(a,b,c,d,e,f,g){\"use strict\";var h;b=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"thread_nullstate\")).getKeyRange(b)};e=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"thread_nullstate_ctas\").index(\"threadKeyCtaId\")).getKeyRange(b)};f=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"cutover_threads\")).getKeyRange(b)};var i=function(a,b){return d(\"ReQL\").fromTableDescending(a.table(\"messages\")).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c(\"promiseDone\")((f=d(\"ReQL\")).toArrayAsync(f.fromTableDescending(a.table(\"reactions\")).getKeyRange(b,e.messageId)));c(\"promiseDone\")(f.toArrayAsync(f.fromTableDescending(a.table(\"reactions_v2\")).getKeyRange(b,e.messageId)));c(\"promiseDone\")(f.toArrayAsync(f.fromTableDescending(a.table(\"attachments\")).getKeyRange(b,e.messageId)))})},k=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"community_folders\")).getKeyRange(b)},l=function(a,b){return d(\"ReQL\").firstAsync(d(\"ReQL\").fromTableDescending(a.table(\"threads\")).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"thread_proactive_warning_settings\")).getKeyRange(b)},n=function(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"in_thread_banner\")).getKeyRange(b)};function a(a,b){return d(\"ReQL\").fromTableAscending(a.table(\"media_staging\")).filter(function(a){return!a.isSent&&(h||(h=d(\"I64\"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);\n__d(\"LSMailboxTaskCompletionApiOnTaskInsertion\",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}e.exports=a}),null);\/*FB_PKG_DELIM*\/\n__d(\"MAWDbMedia\",[],(function(a,b,c,d,e,f){\"use strict\";c=\"Image\";d=\"Video\";e=\"Ptt\";var g=\"Gif\",h=\"Sticker\",i=\"DocumentFile\",j={DOCUMENT_FILE:i,GIF:g,IMAGE:c,PTT:e,STICKER:h,VIDEO:d};function a(a){return a}function b(a){return a}f.IMAGE=c;f.VIDEO=d;f.PTT=e;f.GIF=g;f.STICKER=h;f.DOCUMENT_FILE=i;f.MEDIA_TYPE=j;f.convertNumberToMediaId=a;f.convertToMediaId64=b}),66);\n__d(\"WACommon.pb\",[\"WAProtoConst\"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d(\"WAProtoConst\")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);\/*FB_PKG_DELIM*\/\n__d(\"IGDAlertDialog.react\",[\"fbt\",\"IGDSActionDialog.react\",\"IGDSDialogItem.react\",\"react\"],(function(a,b,c,d,e,f,g,h){\"use strict\";var i,j=(i||(i=d(\"react\"))).unstable_useMemoCache,k=i;function a(a){var b=j(10),e=a.body,f=a.close,g=a.onClose;a=a.title;var i;b[0]!==f?(i=f!=null?f:h._(\"__JHASH__tnRfHlva-bL__JHASH__\"),b[0]=f,b[1]=i):i=b[1];b[2]!==g||b[3]!==i?(f=k.jsx(d(\"IGDSDialogItem.react\").IGDSDialogItem,{onClick:g,children:i}),b[2]=g,b[3]=i,b[4]=f):f=b[4];b[5]!==e||b[6]!==g||b[7]!==a||b[8]!==f?(i=k.jsx(c(\"IGDSActionDialog.react\"),{body:e,onModalClose:g,title:a,children:f}),b[5]=e,b[6]=g,b[7]=a,b[8]=f,b[9]=i):i=b[9];return i}g[\"default\"]=a}),226);\n__d(\"ExternalShareOptionImpressionFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"3043\");b=d(\"FalcoLoggerInternal\").create(\"external_share_option_impression\",a);e=b;g[\"default\"]=e}),98);\n__d(\"ExternalShareOptionTappedFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5134\");b=d(\"FalcoLoggerInternal\").create(\"external_share_option_tapped\",a);e=b;g[\"default\"]=e}),98);\n__d(\"ExternalShareSucceededFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5748\");b=d(\"FalcoLoggerInternal\").create(\"external_share_succeeded\",a);e=b;g[\"default\"]=e}),98);\n__d(\"ShareSheetImpressionFalcoEvent\",[\"FalcoLoggerInternal\",\"getFalcoLogPolicy_DO_NOT_USE\"],(function(a,b,c,d,e,f,g){\"use strict\";a=c(\"getFalcoLogPolicy_DO_NOT_USE\")(\"5749\");b=d(\"FalcoLoggerInternal\").create(\"share_sheet_impression\",a);e=b;g[\"default\"]=e}),98);\/*FB_PKG_DELIM*\/\n__d(\"isInstamadilloOpenEB\",[\"qex\"],(function(a,b,c,d,e,f,g){\"use strict\";function a(){return c(\"qex\")._(\"890\")===!0}g[\"default\"]=a}),98);"
        },
        "redirectURL": "",
        "headersSize": -1,
        "bodySize": -1,
        "_transferSize": 156449,
        "_error": null
    },
    "serverIPAddress": "[2a03:2880:f242:1cb:face:b00c:0:43fe]",
    "startedDateTime": "2024-04-12T15:26:05.510Z",
    "time": 392.49199999903794,
    "timings": {
        "blocked": 31.29700000496488,
        "dns": -1,
        "ssl": -1,
        "connect": -1,
        "send": 0.2900000000000027,
        "wait": 252.7459999982789,
        "receive": 108.15899999579415,
        "_blocked_queueing": 1.9060000049648806
    }
}